<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, maximum-scale=5.0">
    <meta name="theme-color" content="#0a0a0f">
    <meta name="msapplication-TileColor" content="#0a0a0f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <title>Dr. Mohamed El Fadil | BrainSAIT | Healthcare AI Innovation Platform</title>
    <meta name="description" content="Dr. Mohamed El Fadil - Physician entrepreneur, founder of BrainSAIT, PyPI developer. Transforming healthcare through AI with brainsait-pyheart and brainsait-pybrain packages.">
    <meta name="keywords" content="Dr. Mohamed El Fadil, BrainSAIT, Healthcare AI, PyPI, brainsait-pyheart, brainsait-pybrain, FHIR, HL7, Clinical NLP, Digital Health">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Dr. Mohamed El Fadil | BrainSAIT | Healthcare AI Innovation">
    <meta property="og:description" content="Physician entrepreneur transforming healthcare through AI innovation. Founder of BrainSAIT and developer of cutting-edge PyPI packages.">
    <meta property="og:type" content="profile">
    <meta property="og:url" content="https://fadil369.dev">
    <meta property="og:image" content="https://gravatar.com/avatar/fadil369">
    <meta property="og:site_name" content="Dr. Mohamed El Fadil - BrainSAIT">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="ar_SA">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Dr. Mohamed El Fadil | Healthcare AI Innovator">
    <meta name="twitter:description" content="Physician entrepreneur, BrainSAIT founder, and PyPI developer revolutionizing healthcare technology">
    <meta name="twitter:image" content="https://gravatar.com/avatar/fadil369">
    <meta name="twitter:creator" content="@brainsait369">
    
    <!-- Performance optimized resource hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    
    <!-- Optimized typography fonts with reduced weights -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap&text=DrMohamedElFadilBrainSAITHealthcareAIInnovation0123456789" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"></noscript>
    
    <!-- Optimized Arabic typography with reduced weights -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;500;600;700&display=swap&text=دكتورمحمدالفاضلبرينسايتالذكاءالاصطناعيالرعايةالصحية" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;500;600;700&display=swap"></noscript>
    
    <!-- Load FontAwesome asynchronously -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>
    
    <!-- Load EmailJS asynchronously after critical path -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js" as="script">
    
    <!-- Critical CSS inlined for immediate rendering with performance optimizations -->
    <style>
        /* Critical above-the-fold styles with GPU acceleration */
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Inter',system-ui,-apple-system,sans-serif;background:#0a0a0f;color:#fff;line-height:1.6;overflow-x:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transform:translateZ(0);will-change:scroll-position}
        .hero{min-height:100vh;display:flex;align-items:center;padding:100px 20px 50px;position:relative;transform:translateZ(0)}
        .hero-container{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1fr 1fr;gap:4rem;align-items:center;contain:layout style paint}
        .hero-content h1{font-size:clamp(2rem,5vw,3.5rem);font-weight:900;margin-bottom:1rem;background:linear-gradient(135deg,#00d4ff,#9333ea,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.1;contain:layout style paint}
        .nav{position:fixed;top:0;width:100%;z-index:999;background:rgba(10,10,15,.8);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.15);transition:background .3s ease;transform:translateZ(0);will-change:background}
        .nav-container{max-width:1200px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;height:70px;contain:layout style}
        .logo{font-size:1.5rem;font-weight:900;background:linear-gradient(135deg,#00d4ff,#9333ea);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-decoration:none;contain:layout style paint}
        
        /* Performance optimizations */
        .particle,.animated-bg,.glow-effect{will-change:transform;transform:translateZ(0)}
        .glass-card{will-change:backdrop-filter;contain:layout style paint}
        
        /* Responsive optimizations */
        @media (max-width:768px){
            .hero-container{grid-template-columns:1fr;gap:2rem;text-align:center}
            .hero-content h1{font-size:clamp(2rem,8vw,2.5rem)}
            .hero{min-height:80vh;padding:80px 15px 30px}
        }
        
        /* Prefers-reduced-motion support */
        @media (prefers-reduced-motion:reduce){
            *,*::before,*::after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}
            .particle,.animated-bg{animation:none!important}
        }
        
        /* High contrast mode support */
        @media (prefers-contrast:high){
            .hero-content h1{background:#00d4ff;-webkit-background-clip:unset;-webkit-text-fill-color:unset;color:#00d4ff}
            .logo{background:#00d4ff;-webkit-background-clip:unset;-webkit-text-fill-color:unset;color:#00d4ff}
        }
        
        /* Loading states to prevent layout shift */
        .loading-skeleton{background:linear-gradient(90deg,#1a1a2e 25%,#2a2a4e 50%,#1a1a2e 75%);background-size:200% 100%;animation:skeleton-loading 1.5s infinite}
        @keyframes skeleton-loading{0%{background-position:200% 0}100%{background-position:-200% 0}}
        
        /* BrainSAIT Platform Animations */
        @keyframes pulse {
            0% { box-shadow: 0 10px 30px rgba(0, 212, 255, 0.5); transform: scale(1); }
            50% { box-shadow: 0 15px 40px rgba(0, 212, 255, 0.7); transform: scale(1.05); }
            100% { box-shadow: 0 10px 30px rgba(0, 212, 255, 0.5); transform: scale(1); }
        }
    </style>
    
    <!-- Non-critical CSS loaded asynchronously -->
    <style id="non-critical-css">
        /* Medical-Professional Design System */
        :root {
            /* Medical Dark Theme */
            --bg-primary: #0a0a0f;
            --bg-secondary: #141420;
            --bg-tertiary: #1a1a2e;
            --bg-glass: rgba(20, 20, 32, 0.88);
            --bg-glass-light: rgba(20, 20, 32, 0.65);
            --bg-medical-card: rgba(15, 23, 42, 0.95);
            
            /* Medical-Professional Color Palette */
            --medical-primary: #0f4c75;    /* Deep medical blue */
            --medical-secondary: #3282b8;  /* Professional blue */
            --medical-accent: #00d4ff;     /* BrainSAIT cyan */
            --medical-success: #059669;    /* Medical green */
            --medical-warning: #d97706;    /* Medical orange */
            --medical-error: #dc2626;      /* Medical red */
            --medical-purple: #7c3aed;     /* Neural purple */
            
            /* Enhanced BrainSAIT Brand */
            --accent-cyan: #00d4ff;
            --accent-purple: #9333ea;
            --accent-pink: #ec4899;
            --accent-green: #10b981;
            --accent-orange: #f59e0b;
            
            /* Medical Typography Scale */
            --font-medical-primary: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-medical-arabic: 'IBM Plex Sans Arabic', 'Noto Sans Arabic', serif;
            --font-medical-mono: 'JetBrains Mono', 'Fira Code', 'Monaco', monospace;
            
            /* Medical Text Hierarchy */
            --text-primary: #ffffff;
            --text-secondary: #e2e8f0;
            --text-muted: #cbd5e1;
            --text-medical-label: #94a3b8;
            --text-medical-value: #f1f5f9;
            --text-medical-highlight: #38bdf8;
            
            /* Medical Spacing System */
            --space-xs: 0.25rem;   /* 4px */
            --space-sm: 0.5rem;    /* 8px */
            --space-md: 1rem;      /* 16px */
            --space-lg: 1.5rem;    /* 24px */
            --space-xl: 2rem;      /* 32px */
            --space-2xl: 3rem;     /* 48px */
            --space-3xl: 4rem;     /* 64px */
            
            /* Medical Glass & Shadows */
            --glass-border: rgba(255, 255, 255, 0.18);
            --glass-shadow: 0 12px 40px rgba(0, 0, 0, 0.45);
            --glass-shadow-hover: 0 20px 60px rgba(0, 212, 255, 0.35);
            --medical-shadow: 0 8px 32px rgba(15, 23, 42, 0.6);
            --medical-glow: 0 0 20px rgba(0, 212, 255, 0.3);
            
            /* Medical Animations */
            --transition-medical: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            --transition-heartbeat: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            
            /* Accessibility Variables */
            --focus-outline: 3px solid var(--accent-cyan);
            --focus-offset: 2px;
            --high-contrast-border: 2px solid var(--accent-cyan);
            
            /* Hardware Acceleration */
            --transform-gpu: translateZ(0);
            --will-change-transform: transform;
        }
        
        :root[data-theme="light"] {
            --bg-primary: #f8fafc;
            --bg-secondary: #f1f5f9;
            --bg-tertiary: #e2e8f0;
            --bg-glass: rgba(255, 255, 255, 0.85);
            --bg-glass-light: rgba(255, 255, 255, 0.6);
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-muted: #64748b;
            --glass-border: rgba(0, 0, 0, 0.1);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            --glass-shadow-hover: 0 16px 64px rgba(0, 212, 255, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-medical-primary);
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.65;
            font-size: 16px;
            font-weight: 400;
            overflow-x: hidden;
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
            transition: var(--transition-smooth);
        }

        body[dir="rtl"] {
            font-family: var(--font-medical-arabic);
            text-align: right;
        }
        
        /* Medical Typography Enhancements */
        .medical-title {
            font-weight: 800;
            letter-spacing: -0.025em;
            line-height: 1.15;
        }
        
        .medical-subtitle {
            font-weight: 600;
            letter-spacing: -0.015em;
            line-height: 1.4;
        }
        
        .medical-body {
            font-weight: 400;
            line-height: 1.65;
            letter-spacing: 0.01em;
        }
        
        .medical-caption {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-medical-label);
            letter-spacing: 0.025em;
        }
        
        .medical-mono {
            font-family: var(--font-medical-mono);
            font-weight: 500;
        }
        
        /* Accessibility Enhancements */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: var(--accent-cyan);
            color: var(--bg-primary);
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 600;
            z-index: 10000;
            transition: top 0.3s ease;
        }
        
        .skip-link:focus {
            top: 6px;
        }
        
        /* High Contrast Mode Support */
        @media (prefers-contrast: high) {
            :root {
                --bg-glass: rgba(0, 0, 0, 0.95);
                --glass-border: var(--accent-cyan);
                --text-muted: var(--text-secondary);
            }
            
            .card, .btn, .form-field {
                border: var(--high-contrast-border);
            }
        }
        
        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .particle, .animated-bg {
                animation: none !important;
            }
        }
        
        /* Focus Management */
        *:focus {
            outline: var(--focus-outline);
            outline-offset: var(--focus-offset);
        }
        
        .btn:focus, .card:focus, .form-field:focus {
            outline: var(--focus-outline);
            outline-offset: var(--focus-offset);
            box-shadow: 0 0 0 4px rgba(0, 212, 255, 0.2);
        }
        
        /* Screen Reader Enhancements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0,0,0,0);
            white-space: nowrap;
            border: 0;
        }
        
        /* Keyboard Navigation Indicators */
        .keyboard-focus {
            outline: 3px solid var(--accent-cyan);
            outline-offset: 2px;
            background: rgba(0, 212, 255, 0.1);
        }
        
        /* Medical Alert Colors for Accessibility */
        .alert-critical {
            background: linear-gradient(135deg, var(--medical-error), #b91c1c);
            border-left: 4px solid var(--medical-error);
        }
        
        .alert-warning {
            background: linear-gradient(135deg, var(--medical-warning), #d97706);
            border-left: 4px solid var(--medical-warning);
        }
        
        .alert-success {
            background: linear-gradient(135deg, var(--medical-success), #047857);
            border-left: 4px solid var(--medical-success);
        }
        
        .alert-info {
            background: linear-gradient(135deg, var(--medical-secondary), var(--accent-cyan));
            border-left: 4px solid var(--accent-cyan);
        }

        /* Animated Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(circle at 20% 20%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(147, 51, 234, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 60%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
            animation: backgroundPulse 20s ease-in-out infinite;
        }

        @keyframes backgroundPulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }
        
        /* Medical EKG Animation */
        @keyframes ekgPulse {
            0% { transform: scaleY(1) scaleX(1); }
            2% { transform: scaleY(1.2) scaleX(0.8); }
            4% { transform: scaleY(0.8) scaleX(1.2); }
            6% { transform: scaleY(1.5) scaleX(0.6); }
            8% { transform: scaleY(0.6) scaleX(1.4); }
            10% { transform: scaleY(1) scaleX(1); }
            100% { transform: scaleY(1) scaleX(1); }
        }
        
        /* Heartbeat Animation */
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            14% { transform: scale(1.1); }
            28% { transform: scale(1); }
            42% { transform: scale(1.1); }
            70% { transform: scale(1); }
        }
        
        /* Medical Loading Spinner */
        @keyframes medicalSpin {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(90deg); }
            50% { transform: rotate(180deg); }
            75% { transform: rotate(270deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Vital Signs Animation */
        @keyframes vitalPulse {
            0%, 100% {
                background: linear-gradient(90deg, var(--medical-success) 0%, var(--accent-cyan) 50%, var(--medical-success) 100%);
                transform: scaleX(1);
            }
            50% {
                background: linear-gradient(90deg, var(--accent-cyan) 0%, var(--medical-success) 50%, var(--accent-cyan) 100%);
                transform: scaleX(1.02);
            }
        }
        
        /* Advanced Medical Animations */
        @keyframes diagnosticScan {
            0% { transform: translateX(-100%); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateX(100%); opacity: 0; }
        }
        
        @keyframes cardiacRhythm {
            0%, 90%, 100% { transform: scaleY(1); }
            5% { transform: scaleY(1.8); }
            10% { transform: scaleY(0.2); }
            15% { transform: scaleY(2.2); }
            20% { transform: scaleY(0.1); }
            25% { transform: scaleY(1); }
        }
        
        /* Medical Equipment Glow */
        .medical-glow-effect {
            position: relative;
        }
        
        .medical-glow-effect::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--accent-cyan), var(--medical-success), var(--accent-cyan));
            border-radius: inherit;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .medical-glow-effect:hover::after {
            opacity: 0.6;
            animation: diagnosticScan 2s ease-in-out;
        }

        /* Floating Particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: var(--accent-cyan);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }
        
        /* Medical Particle Enhancement */
        .particle:nth-child(3n) {
            background: var(--medical-success);
            animation: float 18s infinite linear, ekgPulse 2s infinite;
        }
        
        .particle:nth-child(5n) {
            background: var(--medical-secondary);
            width: 3px;
            height: 3px;
            animation: float 12s infinite linear, heartbeat 3s infinite;
        }

        @keyframes float {
            0% { transform: translateY(100vh) translateX(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) translateX(100px); opacity: 0; }
        }

        /* Glass Morphism */
        .glass {
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            box-shadow: var(--glass-shadow);
            transition: var(--transition-smooth);
        }

        .glass:hover {
            transform: translateY(-5px);
            box-shadow: var(--glass-shadow-hover);
            border-color: var(--accent-cyan);
        }

        /* Control Panel */
        .control-panel {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition-smooth);
            color: var(--text-primary);
            font-size: 1.2rem;
        }

        .control-btn:hover {
            transform: scale(1.1);
            border-color: var(--accent-cyan);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
        }

        .lang-toggle {
            width: 60px;
            height: 35px;
            border-radius: 17px;
            background: var(--bg-glass);
            display: flex;
            align-items: center;
            padding: 3px;
            gap: 3px;
        }

        .lang-option {
            flex: 1;
            height: 25px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-smooth);
            color: var(--text-muted);
        }

        .lang-option.active {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            color: white;
        }

        /* Medical Navigation */
        .nav {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 999;
            background: rgba(10, 10, 15, 0.88);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border-bottom: 2px solid var(--glass-border);
            transition: var(--transition-medical);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .nav.scrolled {
            background: rgba(10, 10, 15, 0.95);
            border-bottom-color: var(--accent-cyan);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), 0 0 20px rgba(0, 212, 255, 0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-secondary);
            font-weight: 500;
            transition: var(--transition-smooth);
            position: relative;
            padding: 0.5rem 0;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            transition: width 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--text-primary);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* Medical Mobile Navigation */
        .mobile-menu-btn {
            display: none;
            background: transparent;
            border: 2px solid var(--glass-border);
            border-radius: 8px;
            cursor: pointer;
            color: var(--accent-cyan);
            font-size: 1.4rem;
            padding: var(--space-sm);
            min-width: 44px;
            min-height: 44px;
            transition: var(--transition-medical);
        }
        
        .mobile-menu-btn:hover {
            border-color: var(--accent-cyan);
            background: rgba(0, 212, 255, 0.1);
            transform: scale(1.05);
        }
        
        .mobile-menu-btn:focus {
            outline: 2px solid var(--accent-cyan);
            outline-offset: 2px;
        }

        @media (max-width: 768px) {
            .nav-links {
                position: fixed;
                top: 0;
                right: -100%;
                width: 80%;
                max-width: 300px;
                height: 100vh;
                background: var(--bg-glass);
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
                flex-direction: column;
                padding-top: 80px;
                transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                align-items: center;
                justify-content: center;
                gap: 2rem;
                transition: var(--transition-smooth);
                border-left: 1px solid var(--glass-border);
                z-index: 1000;
            }

            .nav-links.active {
                right: 0;
            }
            
            .nav-links.active::before {
                content: '';
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0, 0, 0, 0.5);
                z-index: -1;
            }
            
            /* Enhanced thumb-zone navigation for clinical environments */
            .nav-links li a {
                padding: var(--space-lg) var(--space-2xl);
                font-size: 1.1rem;
                font-weight: 600;
                min-height: 56px;
                display: flex;
                align-items: center;
                border-bottom: 1px solid var(--glass-border);
                transition: var(--transition-medical);
            }
            
            .nav-links li a:hover {
                background: rgba(0, 212, 255, 0.1);
                color: var(--accent-cyan);
                border-left: 4px solid var(--accent-cyan);
                transform: translateX(4px);
            }

            .mobile-menu-btn {
                display: block;
            }

            .control-panel {
                top: auto;
                bottom: 20px;
                right: 20px;
                transform: none;
            }
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 100px 20px 50px;
            position: relative;
        }

        .hero-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        @media (max-width: 768px) {
            .hero-container {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }
        }

        .hero-content h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 900;
            margin-bottom: var(--space-lg);
            background: linear-gradient(135deg, var(--accent-cyan) 0%, var(--medical-secondary) 50%, var(--accent-purple) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
            letter-spacing: -0.03em;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .hero-content h1::after {
            content: '';
            display: block;
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-cyan), var(--medical-success));
            margin: var(--space-md) 0;
            border-radius: 2px;
            box-shadow: var(--medical-glow);
        }

        .hero-subtitle {
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            color: var(--text-medical-highlight);
            margin-bottom: var(--space-xl);
            font-weight: 600;
            letter-spacing: 0.02em;
            line-height: 1.4;
        }

        .hero-description {
            font-size: clamp(1rem, 2vw, 1.125rem);
            color: var(--text-secondary);
            margin-bottom: var(--space-2xl);
            line-height: 1.7;
            max-width: 600px;
            font-weight: 400;
        }

        /* Medical Business Card */
        .business-card {
            background: var(--bg-medical-card);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border: 2px solid var(--glass-border);
            border-radius: 24px;
            padding: var(--space-2xl);
            box-shadow: var(--medical-shadow), var(--medical-glow);
            animation: medical-float 8s ease-in-out infinite;
            position: relative;
            overflow: hidden;
            transition: var(--transition-medical);
        }
        
        .business-card:hover {
            transform: translateY(-4px) scale(1.02);
            border-color: var(--accent-cyan);
            box-shadow: var(--glass-shadow-hover), 0 0 30px rgba(0, 212, 255, 0.4);
        }

        .business-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes medical-float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-8px) rotate(0.5deg); }
            50% { transform: translateY(-4px) rotate(0deg); }
            75% { transform: translateY(-12px) rotate(-0.5deg); }
        }
        
        /* EKG-inspired pulse animation */
        @keyframes medical-pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.9; }
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .card-avatar {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            margin: 0 auto var(--space-lg);
            background: linear-gradient(135deg, var(--medical-primary) 0%, var(--accent-cyan) 50%, var(--medical-secondary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            color: white;
            border: 3px solid var(--glass-border);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3), inset 0 2px 4px rgba(255, 255, 255, 0.1);
            animation: medical-pulse 3s ease-in-out infinite;
            position: relative;
        }
        
        .card-avatar::before {
            content: '+';
            position: absolute;
            top: -5px;
            right: -5px;
            width: 20px;
            height: 20px;
            background: var(--medical-success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
            border: 2px solid var(--bg-primary);
        }

        .card-name {
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: var(--space-sm);
            text-align: center;
            color: var(--text-primary);
            letter-spacing: -0.01em;
        }

        .card-title {
            font-size: 1.1rem;
            color: var(--medical-secondary);
            text-align: center;
            margin-bottom: var(--space-lg);
            font-weight: 600;
            letter-spacing: 0.01em;
        }

        .card-location {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .card-stats {
            display: flex;
            justify-content: space-between;
            text-align: center;
            margin-top: 1rem;
            font-size: 0.9rem;
        }

        .card-stats > div {
            flex: 1;
        }

        .card-stats .stat-number {
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 0.2rem;
        }

        .card-stats .stat-label {
            color: var(--text-muted);
        }

        /* Medical-Grade Buttons */
        .cta-buttons {
            display: flex;
            gap: var(--space-lg);
            margin-top: var(--space-2xl);
            flex-wrap: wrap;
        }

        .btn {
            padding: 16px 32px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            border: none;
            cursor: pointer;
            transition: var(--transition-medical);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            position: relative;
            overflow: hidden;
            min-height: 48px; /* Touch target accessibility */
            letter-spacing: 0.01em;
            font-family: var(--font-medical-primary);
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }
        
        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--medical-primary) 0%, var(--accent-cyan) 50%, var(--medical-secondary) 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(15, 70, 117, 0.4), 0 4px 12px rgba(0, 212, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-primary:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 15px 40px rgba(15, 70, 117, 0.5), 0 8px 20px rgba(0, 212, 255, 0.3);
            background: linear-gradient(135deg, var(--accent-cyan) 0%, var(--medical-secondary) 50%, var(--accent-purple) 100%);
        }
        
        .btn-primary:active {
            transform: translateY(0) scale(0.98);
        }

        .btn-secondary {
            background: rgba(0, 212, 255, 0.1);
            color: var(--accent-cyan);
            border: 2px solid var(--accent-cyan);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .btn-secondary:hover {
            background: var(--accent-cyan);
            color: var(--bg-primary);
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 12px 30px rgba(0, 212, 255, 0.4);
        }
        
        .btn-secondary:active {
            transform: translateY(0) scale(0.98);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--medical-success) 0%, #059669 100%);
            color: white;
            box-shadow: 0 6px 20px rgba(5, 150, 105, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-success:hover {
            background: linear-gradient(135deg, #059669 0%, var(--medical-success) 100%);
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 12px 30px rgba(5, 150, 105, 0.4);
        }
        
        .btn-success:active {
            transform: translateY(0) scale(0.98);
        }

        /* Sections */
        .section {
            padding: 100px 20px;
            position: relative;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            font-size: clamp(2.2rem, 4vw, 3.2rem);
            font-weight: 900;
            text-align: center;
            margin-bottom: var(--space-lg);
            background: linear-gradient(135deg, var(--accent-cyan) 0%, var(--medical-secondary) 50%, var(--accent-purple) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.025em;
            line-height: 1.2;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-cyan), var(--medical-success));
            margin: var(--space-md) auto;
            border-radius: 2px;
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.4);
        }

        .section-subtitle {
            font-size: clamp(1.1rem, 2vw, 1.3rem);
            color: var(--text-secondary);
            text-align: center;
            margin-bottom: var(--space-3xl);
            max-width: 850px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
            font-weight: 500;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
        }

        /* Medical Cards */
        .card {
            background: var(--bg-medical-card);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border: 2px solid var(--glass-border);
            border-radius: 16px;
            padding: var(--space-2xl);
            transition: var(--transition-medical);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            color: var(--text-primary);
            box-shadow: var(--medical-shadow);
            height: 100%;
            display: flex;
            flex-direction: column;
            min-height: 320px;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: var(--accent-cyan);
            box-shadow: var(--glass-shadow-hover), 0 0 40px rgba(0, 212, 255, 0.25);
        }
        
        .card:active {
            transform: translateY(-4px) scale(1.01);
        }

        .card:hover::before {
            opacity: 1;
        }

        .card-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--medical-primary) 0%, var(--accent-cyan) 50%, var(--medical-secondary) 100%);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            color: white;
            margin-bottom: var(--space-xl);
            position: relative;
            z-index: 1;
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3), inset 0 2px 4px rgba(255, 255, 255, 0.1);
            transition: var(--transition-medical);
        }
        
        .card:hover .card-icon {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 12px 35px rgba(0, 212, 255, 0.4), inset 0 2px 6px rgba(255, 255, 255, 0.15);
        }

        .card-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
            color: var(--text-primary);
        }

        .card-description {
            color: var(--text-secondary);
            line-height: 1.7;
            position: relative;
            z-index: 1;
            margin-bottom: 1.5rem;
            flex-grow: 1;
        }

        .badges {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .badge-blue {
            background: var(--accent-cyan);
            color: white;
        }

        .badge-green {
            background: var(--accent-green);
            color: white;
        }

        .badge-purple {
            background: var(--accent-purple);
            color: white;
        }

        .badge-orange {
            background: var(--accent-orange);
            color: white;
        }

        .package-install {
            background: var(--bg-tertiary);
            padding: 12px;
            border-radius: 8px;
            font-family: monospace;
            margin: 15px 0;
            position: relative;
            overflow-x: auto;
        }

        .copy-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--accent-cyan);
            color: white;
            border: none;
            border-radius: 4px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0.7;
            transition: var(--transition-smooth);
        }

        .copy-btn:hover {
            opacity: 1;
        }

        /* Form Styles */
        .form-container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--glass-shadow);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-field {
            background: var(--bg-tertiary);
            border: 2px solid var(--glass-border);
            border-radius: 8px;
            padding: 12px 16px;
            width: 100%;
            font-size: 16px;
            color: var(--text-primary);
            transition: var(--transition-smooth);
            font-family: inherit;
        }

        .form-field:focus {
            outline: none;
            border-color: var(--accent-cyan);
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        textarea.form-field {
            min-height: 120px;
            resize: vertical;
        }

        /* Contact & Social */
        .social-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .social-link {
            width: 60px;
            height: 60px;
            background: var(--bg-glass);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            font-size: 1.3rem;
            transition: var(--transition-smooth);
            border: 1px solid var(--glass-border);
            text-decoration: none;
        }

        .social-link:hover {
            transform: translateY(-5px);
            color: var(--accent-cyan);
            border-color: var(--accent-cyan);
            box-shadow: 0 10px 20px rgba(0, 212, 255, 0.2);
        }

        /* Modal */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-smooth);
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal.active .modal-content {
            transform: scale(1);
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 35px;
            height: 35px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 50%;
            color: var(--text-primary);
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition-smooth);
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            font-weight: 500;
            transform: translateX(400px);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
            opacity: 1;
        }

        .notification.success {
            background: var(--success-green);
            color: white;
        }

        .notification.error {
            background: var(--error-red);
            color: white;
        }

        /* Loading Spinner */
        .loading-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Hidden elements */
        .hidden {
            display: none !important;
        }

        /* Responsive Design */
        @media (max-width: 480px) {
            .hero-content h1 {
                font-size: 2rem;
            }
            
            .cta-buttons {
                justify-content: center;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Medical Cursor Styles */
        .medical-cursor {
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="%2300d4ff"><path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2M21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H11V21H5V3H13V9H21Z" /><path d="M15 10V12H13V14H15V16H17V14H19V12H17V10H15Z" /></svg>'), auto;
        }
        
        .heartbeat-zone {
            transition: all 0.3s ease;
        }
        
        .heartbeat-zone:hover {
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        /* ================================
           AI CHAT ASSISTANT STYLES
           ================================ */
        .ai-chat-assistant {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 400px;
            height: 500px;
            background: var(--bg-glass);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            box-shadow: var(--glass-shadow-hover);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            opacity: 0;
            transform: translateY(50px) scale(0.9);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            pointer-events: none;
        }

        .ai-chat-assistant.active {
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: all;
        }

        .chat-header {
            padding: 20px;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .chat-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            animation: pulse-gentle 2s ease-in-out infinite;
        }

        @keyframes pulse-gentle {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .chat-title h4 {
            margin: 0;
            font-size: 1.1rem;
            color: var(--text-primary);
        }

        .chat-title p {
            margin: 0;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .chat-close {
            margin-left: auto;
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .chat-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: var(--accent-cyan);
            border-radius: 3px;
        }

        .chat-message {
            display: flex;
            gap: 10px;
            align-items: flex-start;
        }

        .user-message {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .ai-message .message-avatar {
            background: linear-gradient(135deg, var(--healthcare-blue), var(--healthcare-green));
            color: white;
        }

        .user-message .message-avatar {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-pink));
            color: white;
        }

        .message-content {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 15px;
            background: var(--bg-glass-light);
            border: 1px solid var(--glass-border);
            animation: messageSlide 0.3s ease-out;
        }

        .user-message .message-content {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            color: white;
            margin-left: auto;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-content p {
            margin: 0;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
            padding: 5px 0;
        }

        .typing-dots span {
            width: 8px;
            height: 8px;
            background: var(--accent-cyan);
            border-radius: 50%;
            animation: typing 1.4s ease-in-out infinite;
        }

        .typing-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.5;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        .chat-input-container {
            padding: 20px;
            border-top: 1px solid var(--glass-border);
            display: flex;
            gap: 10px;
        }

        .chat-input-container input {
            flex: 1;
            padding: 12px 16px;
            background: var(--bg-glass-light);
            border: 1px solid var(--glass-border);
            border-radius: 25px;
            color: var(--text-primary);
            font-size: 0.9rem;
            outline: none;
            transition: all 0.3s ease;
        }

        .chat-input-container input:focus {
            border-color: var(--accent-cyan);
            box-shadow: 0 0 0 2px rgba(0, 212, 255, 0.2);
        }

        .chat-input-container input::placeholder {
            color: var(--text-muted);
        }

        .chat-input-container button {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-input-container button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.4);
        }

        .ai-chat-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: var(--glass-shadow-hover);
            transition: all 0.3s ease;
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .ai-chat-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.5);
        }

        .chat-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--accent-green);
            color: white;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: bold;
            animation: badge-pulse 2s ease-in-out infinite;
        }

        @keyframes badge-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .ai-chat-assistant {
                bottom: 90px;
                right: 15px;
                left: 15px;
                width: auto;
                height: 400px;
            }
            
            .ai-chat-toggle {
                bottom: 20px;
                right: 20px;
                width: 55px;
                height: 55px;
                font-size: 1.3rem;
            }
        }

        /* ================================
           FHIR/HL7 PLAYGROUND STYLES
           ================================ */
        .fhir-playground {
            background: var(--bg-glass);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 25px;
            padding: 2rem;
            box-shadow: var(--glass-shadow);
        }

        .playground-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .format-toggle {
            display: flex;
            gap: 0.5rem;
            background: var(--bg-glass-light);
            padding: 5px;
            border-radius: 15px;
            border: 1px solid var(--glass-border);
        }

        .format-btn {
            padding: 10px 20px;
            background: none;
            border: none;
            border-radius: 10px;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .format-btn.active,
        .format-btn:hover {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            color: white;
            transform: translateY(-2px);
        }

        .sample-selector select {
            padding: 10px 15px;
            background: var(--bg-glass-light);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 0.9rem;
            cursor: pointer;
            outline: none;
            min-width: 200px;
        }

        .playground-content {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
            align-items: start;
        }

        .data-input-section,
        .data-output-section {
            background: var(--bg-glass-light);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            height: 400px;
        }

        .input-header,
        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .input-header h4,
        .output-header h4 {
            margin: 0;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-controls,
        .output-controls {
            display: flex;
            gap: 0.5rem;
        }

        .btn-small {
            padding: 6px 12px;
            background: var(--accent-cyan);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .btn-small:hover {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            transform: translateY(-2px);
        }

        #inputData {
            flex: 1;
            background: var(--bg-primary);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            color: var(--text-primary);
            resize: none;
            outline: none;
            line-height: 1.4;
        }

        #inputData:focus {
            border-color: var(--accent-cyan);
            box-shadow: 0 0 0 2px rgba(0, 212, 255, 0.2);
        }

        .output-display {
            flex: 1;
            background: var(--bg-primary);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            color: var(--text-primary);
            overflow: auto;
            position: relative;
        }

        .placeholder-message {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: var(--text-muted);
            text-align: center;
        }

        .placeholder-message i {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--accent-cyan);
        }

        .data-status {
            margin-top: 0.5rem;
            padding: 8px 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            font-size: 0.8rem;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .data-status.success {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .data-status.error {
            background: rgba(229, 62, 62, 0.1);
            border-color: var(--error-red);
            color: var(--error-red);
        }

        .transformation-arrow {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .arrow-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
            animation: arrow-pulse 2s ease-in-out infinite;
            margin-bottom: 1rem;
        }

        @keyframes arrow-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .transformation-stats {
            text-align: center;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--accent-cyan);
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .feature-showcase {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--glass-border);
        }

        .showcase-item {
            text-align: center;
            padding: 1.5rem;
            background: var(--bg-glass-light);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        .showcase-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--glass-shadow-hover);
        }

        .showcase-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            margin: 0 auto 1rem;
        }

        .showcase-item h5 {
            margin: 0 0 0.5rem;
            color: var(--text-primary);
            font-size: 1.1rem;
        }

        .showcase-item p {
            margin: 0;
            color: var(--text-muted);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        /* Mobile Responsiveness for Playground */
        @media (max-width: 768px) {
            .playground-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .format-toggle {
                justify-content: center;
            }
            
            .playground-content {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .transformation-arrow {
                order: 2;
                padding: 0.5rem;
            }
            
            .arrow-icon {
                transform: rotate(90deg);
            }
            
            .data-input-section,
            .data-output-section {
                height: 300px;
            }
        }

        /* Download Dropdown Styles */
        .download-dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 5px);
            right: 0;
            min-width: 200px;
            background: var(--bg-glass);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            box-shadow: var(--glass-shadow);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .dropdown-menu.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-menu a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: var(--text-primary);
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .dropdown-menu a:first-child {
            border-radius: 12px 12px 0 0;
        }

        .dropdown-menu a:last-child {
            border-radius: 0 0 12px 12px;
        }

        .dropdown-menu a:hover {
            background: var(--bg-glass-light);
        }

        .dropdown-menu i {
            width: 16px;
            color: var(--accent-cyan);
        }

        /* ================================
           REAL-TIME IMPACT DASHBOARD STYLES
           ================================ */
        .impact-dashboard {
            position: fixed;
            top: 50%;
            left: 30px;
            transform: translateY(-50%);
            width: 350px;
            background: var(--bg-glass);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            box-shadow: var(--glass-shadow-hover);
            z-index: 500;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            animation: dashboard-float 6s ease-in-out infinite;
        }

        @keyframes dashboard-float {
            0%, 100% { transform: translateY(-50%) translateX(0px); }
            50% { transform: translateY(-50%) translateX(5px); }
        }

        .dashboard-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dashboard-header h4 {
            margin: 0;
            color: var(--text-primary);
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .dashboard-header i {
            color: var(--accent-cyan);
        }

        .dashboard-toggle {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .dashboard-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .dashboard-content {
            padding: 1rem;
            display: grid;
            gap: 1rem;
            max-height: 400px;
            overflow-y: auto;
            transition: all 0.4s ease;
        }

        .dashboard-content.collapsed {
            max-height: 0;
            padding: 0 1rem;
            overflow: hidden;
        }

        .impact-metric {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem;
            background: var(--bg-glass-light);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .impact-metric:hover {
            transform: translateX(5px);
            background: rgba(0, 212, 255, 0.1);
            border-color: var(--accent-cyan);
        }

        .impact-metric::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.1), transparent);
            animation: metric-shimmer 3s infinite;
        }

        @keyframes metric-shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .metric-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            color: white;
            flex-shrink: 0;
            animation: icon-pulse 2s ease-in-out infinite;
        }

        @keyframes icon-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .metric-info {
            flex: 1;
            min-width: 0;
        }

        .metric-value {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
            font-family: 'Inter', monospace;
            letter-spacing: -0.5px;
        }

        .metric-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .metric-trend {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 8px;
            flex-shrink: 0;
        }

        .metric-trend.up {
            background: rgba(16, 185, 129, 0.2);
            color: var(--accent-green);
        }

        .metric-trend.up i {
            animation: trend-bounce 1s ease-in-out infinite;
        }

        @keyframes trend-bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-2px); }
        }

        .dashboard-footer {
            padding: 0.75rem 1.5rem;
            border-top: 1px solid var(--glass-border);
            background: var(--bg-glass-light);
            border-radius: 0 0 20px 20px;
        }

        .last-update {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .last-update i {
            animation: sync-spin 2s linear infinite;
            color: var(--accent-cyan);
        }

        @keyframes sync-spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Real-time number animation */
        .metric-value.updating {
            color: var(--accent-cyan);
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
            animation: value-update 0.5s ease-out;
        }

        @keyframes value-update {
            0% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Mobile Responsiveness for Dashboard */
        @media (max-width: 768px) {
            .impact-dashboard {
                left: 15px;
                right: 15px;
                width: auto;
                top: auto;
                bottom: 120px;
                transform: none;
                max-height: 300px;
            }
            
            .dashboard-content {
                max-height: 200px;
            }
        }

        /* Hide dashboard on very small screens */
        @media (max-width: 480px) {
            .impact-dashboard {
                display: none;
            }
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.02); }
            28% { transform: scale(1); }
            42% { transform: scale(1.02); }
            70% { transform: scale(1); }
        }
        
        /* Medical Reactions */
        .reaction-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }
        
        .medical-reaction {
            position: absolute;
            font-size: 2rem;
            animation: reactionFloat 3s ease-out forwards;
            pointer-events: none;
        }
        
        @keyframes reactionFloat {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(1.5);
            }
        }
        
        /* EKG Loading Animation */
        .ekg-loader {
            width: 100px;
            height: 40px;
            position: relative;
            margin: 20px auto;
        }
        
        .ekg-line {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 2px;
            background: var(--accent-cyan);
        }
        
        .ekg-line::before {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0;
            height: 20px;
            background: var(--accent-cyan);
            animation: ekg 2s linear infinite;
        }
        
        @keyframes ekg {
            0% { width: 0; }
            10% { width: 10px; height: 2px; }
            15% { width: 15px; height: 30px; }
            20% { width: 20px; height: 2px; }
            25% { width: 30px; height: 2px; }
            30% { width: 35px; height: -10px; }
            35% { width: 40px; height: 2px; }
            40% { width: 50px; height: 25px; }
            45% { width: 55px; height: 2px; }
            100% { width: 100px; height: 2px; }
        }
        
        /* Diagnostic Simulator */
        .diagnostic-simulator {
            background: var(--bg-glass);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            position: relative;
            overflow: hidden;
        }
        
        .diagnostic-step {
            display: none;
            animation: fadeInSlide 0.5s ease-in-out;
        }
        
        .diagnostic-step.active {
            display: block;
        }
        
        @keyframes fadeInSlide {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .diagnostic-progress {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin: 1rem 0;
            overflow: hidden;
        }
        
        .diagnostic-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple));
            border-radius: 2px;
            transition: width 0.5s ease;
        }
        
        /* Biometric Display */
        .biometric-display {
            position: fixed;
            top: 120px;
            right: 20px;
            width: 200px;
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 1rem;
            z-index: 100;
            opacity: 0.9;
            transition: all 0.3s ease;
            transform: translateX(0);
        }
        
        .biometric-display:hover {
            opacity: 1;
        }
        
        /* BrainSAIT Platform Enhancements Responsive Design */
        @media (max-width: 768px) {
            .vision-badges {
                justify-content: center !important;
                gap: 0.5rem !important;
            }
            
            .achievement-badge {
                padding: 0.4rem 0.8rem !important;
                font-size: 0.8rem !important;
            }
            
            .innovation-categories,
            .solution-categories {
                grid-template-columns: 1fr !important;
                gap: 1rem !important;
            }
            
            .partnership-hub {
                min-height: 400px !important;
            }
            
            .partner-ring {
                width: 250px !important;
                height: 250px !important;
            }
            
            .partner-node {
                width: 60px !important;
                height: 60px !important;
            }
            
            .central-hub {
                width: 80px !important;
                height: 80px !important;
            }
            
            .market-metrics,
            .partnership-metrics {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)) !important;
                gap: 1rem !important;
            }
            
            .compatibility-results {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)) !important;
            }
        }
        
        @media (max-width: 480px) {
            .hero-subtitle {
                font-size: 0.9rem !important;
                text-align: center;
            }
            
            .innovation-category,
            .solution-category {
                padding: 1.5rem !important;
            }
            
            .partnership-hub {
                min-height: 300px !important;
            }
            
            .partner-ring {
                width: 200px !important;
                height: 200px !importance;
            }
            
            .market-metrics {
                grid-template-columns: 1fr !important;
            }
        }
        
        @media (max-width: 768px) {
            .biometric-display {
                top: 150px;
                right: 10px;
                width: 180px;
                font-size: 0.8rem;
            }
        }
        
        @media (max-width: 480px) {
            .biometric-display {
                position: relative;
                top: auto;
                right: auto;
                width: 100%;
                margin: 1rem 0;
            }
        }
        
        .biometric-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .biometric-value {
            font-weight: bold;
            color: var(--accent-cyan);
        }
        
        .pulse-indicator {
            width: 8px;
            height: 8px;
            background: var(--accent-green);
            border-radius: 50%;
            animation: pulse 1s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(0.8); }
        }
        
        /* Enhanced Dashboard Styles */
        .dashboard-section {
            margin: 1.5rem 0;
            border-top: 1px solid var(--glass-border);
            padding-top: 1rem;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .section-header h5 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0;
            font-size: 0.9rem;
            color: var(--text-primary);
        }
        
        .section-toggle {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .section-toggle:hover {
            color: var(--accent-cyan);
            transform: scale(1.1);
        }
        
        .section-content {
            transition: all 0.3s ease;
            overflow: hidden;
        }
        
        .section-content.collapsed {
            max-height: 0;
            opacity: 0;
        }
        
        /* World Map Styles */
        .world-map {
            position: relative;
            height: 120px;
            background: linear-gradient(135deg, var(--bg-tertiary) 0%, var(--bg-secondary) 100%);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .region {
            position: absolute;
            width: 12px;
            height: 12px;
            cursor: pointer;
        }
        
        .region .pulse {
            position: absolute;
            width: 12px;
            height: 12px;
            background: var(--accent-cyan);
            border-radius: 50%;
            opacity: 0.8;
            animation: map-pulse 2s ease-out infinite;
        }
        
        .region.active .pulse {
            background: var(--accent-green);
            animation: map-pulse-active 1.5s ease-out infinite;
        }
        
        .region .tooltip {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-glass);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 6px;
            padding: 0.5rem;
            font-size: 0.75rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 10;
        }
        
        .region:hover .tooltip {
            opacity: 1;
        }
        
        @keyframes map-pulse {
            0% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(2.5); opacity: 0; }
        }
        
        @keyframes map-pulse-active {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(3); opacity: 0; }
        }
        
        /* Sparkline Styles */
        .sparklines {
            display: flex;
            gap: 1rem;
        }
        
        .sparkline-item {
            flex: 1;
        }
        
        .sparkline-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }
        
        .sparkline {
            height: 40px;
            display: flex;
            align-items: end;
        }
        
        .spark-bars {
            display: flex;
            gap: 2px;
            height: 100%;
            align-items: end;
            width: 100%;
        }
        
        .spark-bars .bar {
            flex: 1;
            background: linear-gradient(0deg, var(--accent-cyan), var(--accent-purple));
            border-radius: 2px 2px 0 0;
            opacity: 0.8;
            transition: all 0.3s ease;
            animation: bar-grow 1s ease-out;
            animation-delay: calc(var(--index, 0) * 0.1s);
        }
        
        .spark-bars .bar:hover {
            opacity: 1;
            background: linear-gradient(0deg, var(--accent-green), var(--accent-cyan));
        }
        
        @keyframes bar-grow {
            from { height: 0; }
            to { height: inherit; }
        }
        
        /* Alert System Styles */
        .alert-count {
            background: var(--accent-red);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .alert-count:empty {
            display: none;
        }
        
        .alerts-container {
            max-height: 120px;
            overflow-y: auto;
        }
        
        .no-alerts {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--accent-green);
            font-size: 0.85rem;
            padding: 0.5rem 0;
        }
        
        .alert-item {
            background: var(--bg-glass-light);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            animation: alert-slide-in 0.3s ease;
        }
        
        .alert-item.warning {
            border-left: 4px solid var(--accent-orange);
        }
        
        .alert-item.error {
            border-left: 4px solid var(--accent-red);
        }
        
        .alert-item.info {
            border-left: 4px solid var(--accent-cyan);
        }
        
        @keyframes alert-slide-in {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        /* Connection Status Styles */
        .connection-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem;
            background: var(--bg-glass-light);
            border-radius: 8px;
            margin-top: 1rem;
        }
        
        .status-indicator {
            position: relative;
            width: 12px;
            height: 12px;
        }
        
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent-red);
            transition: background 0.3s ease;
        }
        
        .status-indicator.online .status-dot {
            background: var(--accent-green);
        }
        
        .pulse-ring {
            position: absolute;
            width: 12px;
            height: 12px;
            border: 2px solid var(--accent-green);
            border-radius: 50%;
            animation: pulse-ring 2s ease-out infinite;
        }
        
        .status-indicator:not(.online) .pulse-ring {
            display: none;
        }
        
        @keyframes pulse-ring {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(2.5); opacity: 0; }
        }
        
        .status-text {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            .animated-bg,
            .particles,
            .business-card,
            .card:hover,
            .social-link:hover,
            .btn:hover,
            .heartbeat-zone:hover,
            .medical-reaction,
            .ekg-line::before,
            .pulse-indicator {
                animation: none;
                transition: none;
                transform: none;
            }
        }

        /* Focus states */
        .btn:focus,
        .social-link:focus,
        .nav-links a:focus,
        .control-btn:focus {
            outline: 2px solid var(--accent-cyan);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <!-- Accessibility Skip Link -->
    <a href="#main" class="skip-link">Skip to main content</a>
    
    <!-- Animated Background -->
    <div class="animated-bg"></div>
    
    <!-- Floating Particles -->
    <div class="particles" id="particles"></div>
    
    <!-- Neural Network Visualization -->
    <canvas id="neuralNetwork" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; opacity: 0.6;"></canvas>
    
    <!-- Reaction Overlay -->
    <div class="reaction-overlay" id="reactionOverlay"></div>
    
    <!-- Biometric Display -->
    <div class="biometric-display" id="biometricDisplay">
        <div class="biometric-item">
            <div class="pulse-indicator"></div>
            <span>HR: <span class="biometric-value" id="heartRate">72</span> BPM</span>
        </div>
        <div class="biometric-item">
            <i class="fas fa-thermometer-half" style="color: var(--accent-orange);"></i>
            <span>Temp: <span class="biometric-value" id="temperature">98.6</span>°F</span>
        </div>
        <div class="biometric-item">
            <i class="fas fa-lungs" style="color: var(--accent-green);"></i>
            <span>SpO2: <span class="biometric-value" id="oxygenSat">98</span>%</span>
        </div>
        <div class="biometric-item">
            <i class="fas fa-tint" style="color: var(--accent-purple);"></i>
            <span>BP: <span class="biometric-value" id="bloodPressure">120/80</span></span>
        </div>
    </div>

    <!-- Real-time Impact Dashboard -->
    <div class="impact-dashboard" id="impactDashboard">
        <div class="dashboard-header">
            <h4>
                <i class="fas fa-chart-line"></i>
                <span class="en-content">Real-time Impact</span>
                <span class="ar-content hidden">التأثير في الوقت الفعلي</span>
            </h4>
            <button class="dashboard-toggle" onclick="toggleImpactDashboard()" aria-label="Toggle dashboard">
                <i class="fas fa-minus"></i>
            </button>
        </div>
        <div class="dashboard-content" id="dashboardContent">
            <div class="impact-metric">
                <div class="metric-icon">
                    <i class="fas fa-heart-pulse"></i>
                </div>
                <div class="metric-info">
                    <div class="metric-value" id="livesImpacted">0</div>
                    <div class="metric-label">
                        <span class="en-content">Lives Improved</span>
                        <span class="ar-content hidden">حياة محسنة</span>
                    </div>
                </div>
                <div class="metric-trend up">
                    <i class="fas fa-arrow-up"></i>
                    <span>+12</span>
                </div>
            </div>
            
            <div class="impact-metric">
                <div class="metric-icon">
                    <i class="fas fa-hospital"></i>
                </div>
                <div class="metric-info">
                    <div class="metric-value" id="systemsDeployed">0</div>
                    <div class="metric-label">
                        <span class="en-content">Systems Deployed</span>
                        <span class="ar-content hidden">أنظمة منشورة</span>
                    </div>
                </div>
                <div class="metric-trend up">
                    <i class="fas fa-arrow-up"></i>
                    <span>+3</span>
                </div>
            </div>
            
            <div class="impact-metric">
                <div class="metric-icon">
                    <i class="fas fa-download"></i>
                </div>
                <div class="metric-info">
                    <div class="metric-value" id="packageDownloads">0</div>
                    <div class="metric-label">
                        <span class="en-content">PyPI Downloads</span>
                        <span class="ar-content hidden">تحميلات PyPI</span>
                    </div>
                </div>
                <div class="metric-trend up">
                    <i class="fas fa-arrow-up"></i>
                    <span>+47</span>
                </div>
            </div>
            
            <div class="impact-metric">
                <div class="metric-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="metric-info">
                    <div class="metric-value" id="timeSaved">0</div>
                    <div class="metric-label">
                        <span class="en-content">Hours Saved</span>
                        <span class="ar-content hidden">ساعات محفوظة</span>
                    </div>
                </div>
                <div class="metric-trend up">
                    <i class="fas fa-arrow-up"></i>
                    <span>+156</span>
                </div>
            </div>
            
            <div class="impact-metric">
                <div class="metric-icon">
                    <i class="fas fa-shield-virus"></i>
                </div>
                <div class="metric-info">
                    <div class="metric-value" id="errorsPrevent">0</div>
                    <div class="metric-label">
                        <span class="en-content">Errors Prevented</span>
                        <span class="ar-content hidden">أخطاء مُجنبة</span>
                    </div>
                </div>
                <div class="metric-trend up">
                    <i class="fas fa-arrow-up"></i>
                    <span>+23</span>
                </div>
            </div>
            
            <div class="impact-metric">
                <div class="metric-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <div class="metric-info">
                    <div class="metric-value" id="aiInsights">0</div>
                    <div class="metric-label">
                        <span class="en-content">AI Insights</span>
                        <span class="ar-content hidden">رؤى الذكاء الاصطناعي</span>
                    </div>
                </div>
                <div class="metric-trend up">
                    <i class="fas fa-arrow-up"></i>
                    <span>+89</span>
                </div>
            </div>
            
            <!-- Geographic Heatmap Section -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h5>
                        <i class="fas fa-globe-americas"></i>
                        <span class="en-content">Global Impact</span>
                        <span class="ar-content hidden">التأثير العالمي</span>
                    </h5>
                    <button class="section-toggle" onclick="toggleSection('geoMap')" aria-label="Toggle map">
                        <i class="fas fa-chevron-up" id="geoMapToggle"></i>
                    </button>
                </div>
                <div class="section-content" id="geoMap">
                    <div class="world-map">
                        <div class="region active" data-region="north-america" style="left: 20%; top: 25%;">
                            <div class="pulse"></div>
                            <div class="tooltip">North America: 2,845 users</div>
                        </div>
                        <div class="region active" data-region="europe" style="left: 55%; top: 20%;">
                            <div class="pulse"></div>
                            <div class="tooltip">Europe: 1,923 users</div>
                        </div>
                        <div class="region" data-region="asia" style="left: 75%; top: 35%;">
                            <div class="pulse"></div>
                            <div class="tooltip">Asia Pacific: 1,247 users</div>
                        </div>
                        <div class="region" data-region="south-america" style="left: 30%; top: 60%;">
                            <div class="pulse"></div>
                            <div class="tooltip">South America: 654 users</div>
                        </div>
                        <div class="region" data-region="africa" style="left: 58%; top: 55%;">
                            <div class="pulse"></div>
                            <div class="tooltip">Africa: 432 users</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Trend Charts Section -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h5>
                        <i class="fas fa-chart-area"></i>
                        <span class="en-content">Trends</span>
                        <span class="ar-content hidden">الاتجاهات</span>
                    </h5>
                    <button class="section-toggle" onclick="toggleSection('trendCharts')" aria-label="Toggle trends">
                        <i class="fas fa-chevron-up" id="trendChartsToggle"></i>
                    </button>
                </div>
                <div class="section-content" id="trendCharts">
                    <div class="sparklines">
                        <div class="sparkline-item">
                            <div class="sparkline-label">Usage</div>
                            <div class="sparkline" id="usageSparkline">
                                <div class="spark-bars">
                                    <div class="bar" style="height: 60%"></div>
                                    <div class="bar" style="height: 80%"></div>
                                    <div class="bar" style="height: 45%"></div>
                                    <div class="bar" style="height: 90%"></div>
                                    <div class="bar" style="height: 75%"></div>
                                    <div class="bar" style="height: 100%"></div>
                                    <div class="bar" style="height: 85%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="sparkline-item">
                            <div class="sparkline-label">Performance</div>
                            <div class="sparkline" id="performanceSparkline">
                                <div class="spark-bars">
                                    <div class="bar" style="height: 70%"></div>
                                    <div class="bar" style="height: 85%"></div>
                                    <div class="bar" style="height: 92%"></div>
                                    <div class="bar" style="height: 88%"></div>
                                    <div class="bar" style="height: 95%"></div>
                                    <div class="bar" style="height: 100%"></div>
                                    <div class="bar" style="height: 98%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Alert System -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h5>
                        <i class="fas fa-bell"></i>
                        <span class="en-content">Alerts</span>
                        <span class="ar-content hidden">التنبيهات</span>
                    </h5>
                    <div class="alert-count" id="alertCount">0</div>
                </div>
                <div class="section-content">
                    <div class="alerts-container" id="alertsContainer">
                        <div class="no-alerts">
                            <i class="fas fa-check-circle"></i>
                            <span>All systems operational</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- WebSocket Status Indicator -->
            <div class="connection-status">
                <div class="status-indicator online" id="connectionStatus">
                    <div class="pulse-ring"></div>
                    <div class="status-dot"></div>
                </div>
                <span class="status-text">
                    <span class="en-content">Live Data</span>
                    <span class="ar-content hidden">بيانات مباشرة</span>
                </span>
            </div>
        </div>
        <div class="dashboard-footer">
            <div class="last-update">
                <i class="fas fa-sync-alt"></i>
                <span>Last updated: <span id="lastUpdate">--:--</span></span>
            </div>
        </div>
    </div>
    
    <!-- Control Panel -->
    <div class="control-panel">
        <button class="control-btn" id="themeToggle" aria-label="Toggle theme">
            <i class="fas fa-moon"></i>
        </button>
        <button class="control-btn" id="biometricToggle" aria-label="Toggle biometrics">
            <i class="fas fa-heartbeat"></i>
        </button>
        <div class="lang-toggle">
            <div class="lang-option active" data-lang="en">EN</div>
            <div class="lang-option" data-lang="ar">AR</div>
        </div>
    </div>
    
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="#" class="logo">
                <span class="en-content">BrainSAIT</span>
                <span class="ar-content hidden">برينسايت</span>
            </a>
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-links" id="navLinks">
                <li><a href="#home">
                    <span class="en-content">Home</span>
                    <span class="ar-content hidden">الرئيسية</span>
                </a></li>
                <li><a href="#innovation-hub">
                    <span class="en-content">Innovation Hub</span>
                    <span class="ar-content hidden">مركز الابتكار</span>
                </a></li>
                <li><a href="#partner-network">
                    <span class="en-content">Partner Network</span>
                    <span class="ar-content hidden">شبكة الشركاء</span>
                </a></li>
                <li><a href="#ai-intelligence">
                    <span class="en-content">AI Intelligence</span>
                    <span class="ar-content hidden">الذكاء الاصطناعي</span>
                </a></li>
                <li><a href="#healthcare-solutions">
                    <span class="en-content">Healthcare Solutions</span>
                    <span class="ar-content hidden">الحلول الصحية</span>
                </a></li>
                <li><a href="#consultation">
                    <span class="en-content">Consultation</span>
                    <span class="ar-content hidden">استشارة</span>
                </a></li>
                <li><a href="#contact">
                    <span class="en-content">Contact</span>
                    <span class="ar-content hidden">تواصل</span>
                </a></li>
            </ul>
        </div>
    </nav>
    
    <!-- Hero Section -->
    <main id="main">
    <section id="home" class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <h1>
                    <span class="en-content">Dr. Mohamed El Fadil</span>
                    <span class="ar-content hidden">د. محمد الفاضل</span>
                </h1>
                <p class="hero-subtitle">
                    <span class="en-content">Vision 2030 Innovation Partner | Healthcare AI Pioneer | Saudi Digital Transformation Leader</span>
                    <span class="ar-content hidden">شريك ابتكار رؤية 2030 | رائد الذكاء الاصطناعي الطبي | قائد التحول الرقمي السعودي</span>
                </p>
                
                <!-- Vision 2030 Achievement Badges -->
                <div class="vision-badges" style="display: flex; gap: 1rem; flex-wrap: wrap; margin: 1.5rem 0;">
                    <div class="achievement-badge" style="background: linear-gradient(135deg, #00a651, #028c47); padding: 0.5rem 1rem; border-radius: 25px; display: flex; align-items: center; gap: 0.5rem; box-shadow: 0 4px 15px rgba(0, 166, 81, 0.3);">
                        <i class="fas fa-flag" style="color: #fff;"></i>
                        <span style="color: #fff; font-weight: 600; font-size: 0.9rem;">
                            <span class="en-content">Vision 2030 Partner</span>
                            <span class="ar-content hidden">شريك رؤية 2030</span>
                        </span>
                    </div>
                    <div class="achievement-badge" style="background: linear-gradient(135deg, #0066cc, #004c99); padding: 0.5rem 1rem; border-radius: 25px; display: flex; align-items: center; gap: 0.5rem; box-shadow: 0 4px 15px rgba(0, 102, 204, 0.3);">
                        <i class="fas fa-brain" style="color: #fff;"></i>
                        <span style="color: #fff; font-weight: 600; font-size: 0.9rem;">
                            <span class="en-content">Healthcare AI Pioneer</span>
                            <span class="ar-content hidden">رائد الذكاء الاصطناعي الطبي</span>
                        </span>
                    </div>
                    <div class="achievement-badge" style="background: linear-gradient(135deg, #9333ea, #7c3aed); padding: 0.5rem 1rem; border-radius: 25px; display: flex; align-items: center; gap: 0.5rem; box-shadow: 0 4px 15px rgba(147, 51, 234, 0.3);">
                        <i class="fas fa-rocket" style="color: #fff;"></i>
                        <span style="color: #fff; font-weight: 600; font-size: 0.9rem;">
                            <span class="en-content">Digital Leader</span>
                            <span class="ar-content hidden">قائد رقمي</span>
                        </span>
                    </div>
                </div>
                <p class="hero-description">
                    <span class="en-content">
                        Leading Saudi Arabia's healthcare digital transformation through BrainSAIT Innovation Platform. 
                        Creator of brainsait-pyheart and brainsait-pybrain PyPI packages. Expert in FHIR, HL7, 
                        Clinical NLP, and Healthcare Interoperability. Supporting Vision 2030 goals in digital health innovation.
                    </span>
                    <span class="ar-content hidden">
                        قيادة التحول الرقمي للرعاية الصحية في المملكة العربية السعودية من خلال منصة برينسايت للابتكار.
                        منشئ حزم brainsait-pyheart و brainsait-pybrain على PyPI. خبير في FHIR و HL7
                        ومعالجة اللغة الطبيعية السريرية وقابلية التشغيل البيني للرعاية الصحية. دعم أهداف رؤية 2030 في ابتكار الصحة الرقمية.
                    </span>
                </p>
                <div class="cta-buttons">
                    <button class="btn btn-primary" onclick="openConsultationModal()">
                        <i class="fas fa-stethoscope"></i>
                        <span class="en-content">Request Consultation</span>
                        <span class="ar-content hidden">طلب استشارة</span>
                    </button>
                    <a href="#projects" class="btn btn-secondary">
                        <i class="fas fa-rocket"></i>
                        <span class="en-content">Explore Projects</span>
                        <span class="ar-content hidden">استكشف المشاريع</span>
                    </a>
                </div>
            </div>
            
            <!-- Business Card -->
            <div class="business-card heartbeat-zone medical-cursor">
                <div class="card-avatar">
                    <i class="fas fa-user-md"></i>
                </div>
                <h3 class="card-name">
                    <span class="en-content">Dr. Mohamed El Fadil</span>
                    <span class="ar-content hidden">د. محمد الفاضل</span>
                </h3>
                <p class="card-title">
                    <span class="en-content">Physician & BrainSAIT Founder</span>
                    <span class="ar-content hidden">طبيب ومؤسس برينسايت</span>
                </p>
                <div class="card-location">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Riyadh, Saudi Arabia</span>
                </div>
                <div class="badges">
                    <span class="badge badge-blue">Healthcare AI</span>
                    <span class="badge badge-green">PyPI Developer</span>
                    <span class="badge badge-purple">FHIR Expert</span>
                </div>
                <div class="card-stats">
                    <div>
                        <div class="stat-number" style="color: var(--accent-cyan);">15+</div>
                        <div class="stat-label">
                            <span class="en-content">Years</span>
                            <span class="ar-content hidden">سنة</span>
                        </div>
                    </div>
                    <div>
                        <div class="stat-number" style="color: var(--accent-green);">50+</div>
                        <div class="stat-label">
                            <span class="en-content">Projects</span>
                            <span class="ar-content hidden">مشروع</span>
                        </div>
                    </div>
                    <div>
                        <div class="stat-number" style="color: var(--accent-purple);">2</div>
                        <div class="stat-label">
                            <span class="en-content">PyPI Packages</span>
                            <span class="ar-content hidden">حزمة PyPI</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- AI Diagnostic Simulator -->
    <section class="section">
        <div class="container">
            <div class="diagnostic-simulator">
                <h3 style="text-align: center; margin-bottom: 2rem; color: var(--accent-cyan);">
                    <i class="fas fa-brain"></i>
                    <span class="en-content">AI Diagnostic Journey Simulator</span>
                    <span class="ar-content hidden">محاكي رحلة التشخيص بالذكاء الاصطناعي</span>
                </h3>
                
                <div class="diagnostic-progress">
                    <div class="diagnostic-progress-bar" id="diagnosticProgress" style="width: 0%;"></div>
                </div>
                
                <div class="diagnostic-step active" id="step1">
                    <h4 style="color: var(--accent-green); margin-bottom: 1rem;">
                        <span class="en-content">Step 1: Patient Data Ingestion</span>
                        <span class="ar-content hidden">الخطوة 1: استيعاب بيانات المريض</span>
                    </h4>
                    <p style="margin-bottom: 1rem;">
                        <span class="en-content">BrainSAIT AI processes FHIR-compliant patient data including vital signs, medical history, and lab results...</span>
                        <span class="ar-content hidden">يعالج برينسايت الذكي بيانات المريض المتوافقة مع FHIR بما في ذلك العلامات الحيوية والتاريخ الطبي ونتائج المختبر...</span>
                    </p>
                    <div class="ekg-loader">
                        <div class="ekg-line"></div>
                    </div>
                </div>
                
                <div class="diagnostic-step" id="step2">
                    <h4 style="color: var(--accent-cyan); margin-bottom: 1rem;">
                        <span class="en-content">Step 2: Clinical NLP Analysis</span>
                        <span class="ar-content hidden">الخطوة 2: تحليل معالجة اللغة الطبيعية السريرية</span>
                    </h4>
                    <p style="margin-bottom: 1rem;">
                        <span class="en-content">Advanced NLP engine extracts insights from clinical notes, identifies symptoms patterns, and correlates with medical literature...</span>
                        <span class="ar-content hidden">محرك معالجة اللغة الطبيعية المتقدم يستخرج الرؤى من الملاحظات السريرية ويحدد أنماط الأعراض ويربطها بالأدبيات الطبية...</span>
                    </p>
                </div>
                
                <div class="diagnostic-step" id="step3">
                    <h4 style="color: var(--accent-purple); margin-bottom: 1rem;">
                        <span class="en-content">Step 3: AI Decision Support</span>
                        <span class="ar-content hidden">الخطوة 3: دعم القرار بالذكاء الاصطناعي</span>
                    </h4>
                    <p style="margin-bottom: 1rem;">
                        <span class="en-content">Machine learning models provide differential diagnosis suggestions, treatment recommendations, and risk assessments...</span>
                        <span class="ar-content hidden">نماذج التعلم الآلي تقدم اقتراحات التشخيص التفريقي وتوصيات العلاج وتقييمات المخاطر...</span>
                    </p>
                </div>
                
                <div class="diagnostic-step" id="step4">
                    <h4 style="color: var(--accent-green); margin-bottom: 1rem;">
                        <span class="en-content">Step 4: Physician Collaboration</span>
                        <span class="ar-content hidden">الخطوة 4: تعاون الطبيب</span>
                    </h4>
                    <p style="margin-bottom: 1rem;">
                        <span class="en-content">AI recommendations are presented to physicians for review, modification, and final decision-making, ensuring human oversight...</span>
                        <span class="ar-content hidden">يتم عرض توصيات الذكاء الاصطناعي على الأطباء للمراجعة والتعديل واتخاذ القرار النهائي، مما يضمن الإشراف البشري...</span>
                    </p>
                </div>
                
                <div style="text-align: center; margin-top: 2rem;">
                    <button class="btn btn-primary" onclick="startDiagnosticDemo()">
                        <i class="fas fa-play"></i>
                        <span class="en-content">Start Demo</span>
                        <span class="ar-content hidden">بدء العرض التوضيحي</span>
                    </button>
                    <button class="btn btn-secondary" onclick="resetDiagnosticDemo()" style="margin-left: 1rem;">
                        <i class="fas fa-redo"></i>
                        <span class="en-content">Reset</span>
                        <span class="ar-content hidden">إعادة تعيين</span>
                    </button>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Innovation Hub Section -->
    <section id="innovation-hub" class="section" style="background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);">
        <div class="container">
            <h2 class="section-title">
                <span class="en-content">BrainSAIT Innovation Hub</span>
                <span class="ar-content hidden">مركز ابتكار برينسايت</span>
            </h2>
            <p class="section-subtitle">
                <span class="en-content">Leading Vision 2030 digital health transformation through cutting-edge technology demonstrations</span>
                <span class="ar-content hidden">قيادة التحول الصحي الرقمي لرؤية 2030 من خلال عروض تقنية متطورة</span>
            </p>
            
            <!-- Innovation Categories -->
            <div class="innovation-categories" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin: 3rem 0;">
                <!-- VR/AR Healthcare Demonstrations -->
                <div class="innovation-category" style="background: rgba(0, 212, 255, 0.1); border: 1px solid rgba(0, 212, 255, 0.3); border-radius: 15px; padding: 2rem; backdrop-filter: blur(10px);">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: linear-gradient(135deg, #00d4ff, #0099cc); padding: 1rem; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-vr-cardboard" style="color: #fff; font-size: 1.5rem;"></i>
                        </div>
                        <h3 style="color: #00d4ff; font-size: 1.2rem; font-weight: 600;">
                            <span class="en-content">VR/AR Healthcare</span>
                            <span class="ar-content hidden">الواقع الافتراضي/المعزز الطبي</span>
                        </h3>
                    </div>
                    <p style="color: #ccc; margin-bottom: 1rem;">
                        <span class="en-content">Immersive training simulations for medical procedures and patient interaction scenarios</span>
                        <span class="ar-content hidden">محاكاة تدريبية غامرة للإجراءات الطبية وسيناريوهات التفاعل مع المرضى</span>
                    </p>
                    <button class="btn btn-secondary" onclick="launchVRDemo()" style="width: 100%;">
                        <i class="fas fa-play"></i>
                        <span class="en-content">Launch VR Demo</span>
                        <span class="ar-content hidden">تشغيل عرض الواقع الافتراضي</span>
                    </button>
                </div>
                
                <!-- Smart City Digital Twin -->
                <div class="innovation-category" style="background: rgba(147, 51, 234, 0.1); border: 1px solid rgba(147, 51, 234, 0.3); border-radius: 15px; padding: 2rem; backdrop-filter: blur(10px);">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: linear-gradient(135deg, #9333ea, #7c3aed); padding: 1rem; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-city" style="color: #fff; font-size: 1.5rem;"></i>
                        </div>
                        <h3 style="color: #9333ea; font-size: 1.2rem; font-weight: 600;">
                            <span class="en-content">Smart City Health</span>
                            <span class="ar-content hidden">صحة المدينة الذكية</span>
                        </h3>
                    </div>
                    <p style="color: #ccc; margin-bottom: 1rem;">
                        <span class="en-content">Digital twin simulations for healthcare infrastructure in Saudi smart cities</span>
                        <span class="ar-content hidden">محاكاة التوأم الرقمي للبنية التحتية الصحية في المدن السعودية الذكية</span>
                    </p>
                    <button class="btn btn-secondary" onclick="openDigitalTwin()" style="width: 100%;">
                        <i class="fas fa-cube"></i>
                        <span class="en-content">View Digital Twin</span>
                        <span class="ar-content hidden">عرض التوأم الرقمي</span>
                    </button>
                </div>
                
                <!-- Government RFP Generator -->
                <div class="innovation-category" style="background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 15px; padding: 2rem; backdrop-filter: blur(10px);">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: linear-gradient(135deg, #10b981, #059669); padding: 1rem; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-file-contract" style="color: #fff; font-size: 1.5rem;"></i>
                        </div>
                        <h3 style="color: #10b981; font-size: 1.2rem; font-weight: 600;">
                            <span class="en-content">RFP Intelligence</span>
                            <span class="ar-content hidden">ذكاء طلبات العروض</span>
                        </h3>
                    </div>
                    <p style="color: #ccc; margin-bottom: 1rem;">
                        <span class="en-content">AI-powered government RFP response generator for healthcare technology projects</span>
                        <span class="ar-content hidden">مولد الاستجابة لطلبات عروض الحكومة بالذكاء الاصطناعي لمشاريع التكنولوجيا الصحية</span>
                    </p>
                    <button class="btn btn-secondary" onclick="openRFPGenerator()" style="width: 100%;">
                        <i class="fas fa-robot"></i>
                        <span class="en-content">Generate RFP</span>
                        <span class="ar-content hidden">إنشاء طلب عرض</span>
                    </button>
                </div>
            </div>
            
            <!-- Featured Innovation Projects -->
            <div style="margin: 3rem 0 2rem;">
                <h3 style="color: #00d4ff; font-size: 1.5rem; font-weight: 600; text-align: center;">
                    <span class="en-content">Featured Innovation Projects</span>
                    <span class="ar-content hidden">مشاريع الابتكار المميزة</span>
                </h3>
                <p style="color: #ccc; text-align: center; margin-top: 0.5rem;">
                    <span class="en-content">Transforming healthcare through technology partnerships and AI-driven solutions</span>
                    <span class="ar-content hidden">تحويل الرعاية الصحية من خلال الشراكات التقنية والحلول المدعومة بالذكاء الاصطناعي</span>
                </p>
            </div>
            
            <div class="grid">
                <a href="https://gp.thefadil.site" target="_blank" class="card heartbeat-zone medical-cursor" ondblclick="addMedicalReaction(event, '🩺')">
                    <div class="card-icon">
                        <i class="fas fa-user-md"></i>
                    </div>
                    <h3 class="card-title">
                        <span class="en-content">GP Portal</span>
                        <span class="ar-content hidden">بوابة الطب العام</span>
                    </h3>
                    <p class="card-description">
                        <span class="en-content">Advanced general practice management platform with AI-driven patient care workflows and intelligent decision support systems.</span>
                        <span class="ar-content hidden">منصة إدارة متقدمة للطب العام مع سير عمل رعاية المرضى المدعوم بالذكاء الاصطناعي وأنظمة دعم القرار الذكية.</span>
                    </p>
                </a>
                
                <a href="https://givc.brainsait.io" target="_blank" class="card heartbeat-zone medical-cursor" ondblclick="addMedicalReaction(event, '🧠')">
                    <div class="card-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3 class="card-title">
                        <span class="en-content">GIVC Platform</span>
                        <span class="ar-content hidden">منصة GIVC</span>
                    </h3>
                    <p class="card-description">
                        <span class="en-content">Global Intelligent Virtual Care - Next-generation telemedicine with AI-powered diagnostics and remote patient monitoring.</span>
                        <span class="ar-content hidden">الرعاية الافتراضية الذكية العالمية - طب بُعد من الجيل التالي مع التشخيص المدعوم بالذكاء الاصطناعي ومراقبة المرضى عن بُعد.</span>
                    </p>
                </a>
                
                <a href="https://brainsait.io" target="_blank" class="card heartbeat-zone medical-cursor" ondblclick="addMedicalReaction(event, '🏥')">
                    <div class="card-icon">
                        <i class="fas fa-hospital"></i>
                    </div>
                    <h3 class="card-title">
                        <span class="en-content">BrainSAIT Core</span>
                        <span class="ar-content hidden">برينسايت الأساسي</span>
                    </h3>
                    <p class="card-description">
                        <span class="en-content">Comprehensive healthcare technology platform offering AI-driven medical solutions and business intelligence for modern healthcare.</span>
                        <span class="ar-content hidden">منصة تكنولوجيا رعاية صحية شاملة تقدم حلول طبية مدعومة بالذكاء الاصطناعي وذكاء الأعمال للرعاية الصحية الحديثة.</span>
                    </p>
                </a>
                
                <a href="https://care.brainsait.io" target="_blank" class="card heartbeat-zone medical-cursor" ondblclick="addMedicalReaction(event, '❤️')">
                    <div class="card-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3 class="card-title">
                        <span class="en-content">BrainSAIT Care</span>
                        <span class="ar-content hidden">رعاية برينسايت</span>
                    </h3>
                    <p class="card-description">
                        <span class="en-content">Specialized patient care management system with AI-powered clinical decision support and personalized treatment planning.</span>
                        <span class="ar-content hidden">نظام إدارة رعاية المرضى المتخصص مع دعم القرار السريري المدعوم بالذكاء الاصطناعي وتخطيط العلاج الشخصي.</span>
                    </p>
                </a>
                
                <a href="https://read.thefadil.site/" target="_blank" class="card heartbeat-zone medical-cursor" ondblclick="addMedicalReaction(event, '📚')">
                    <div class="card-icon">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <h3 class="card-title">
                        <span class="en-content">OI vs AI Book</span>
                        <span class="ar-content hidden">كتاب الذكاء الأصلي مقابل الاصطناعي</span>
                    </h3>
                    <p class="card-description">
                        <span class="en-content">Published book exploring the relationship between Original Intelligence (human brain) and Artificial Intelligence in healthcare.</span>
                        <span class="ar-content hidden">كتاب منشور يستكشف العلاقة بين الذكاء الأصلي (الدماغ البشري) والذكاء الاصطناعي في الرعاية الصحية.</span>
                    </p>
                </a>
                
                <a href="https://givc-academy.brainsait.io" target="_blank" class="card heartbeat-zone medical-cursor" ondblclick="addMedicalReaction(event, '🎓')">
                    <div class="card-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3 class="card-title">
                        <span class="en-content">GIVC Academy</span>
                        <span class="ar-content hidden">أكاديمية GIVC</span>
                    </h3>
                    <p class="card-description">
                        <span class="en-content">Educational platform for healthcare professionals with bilingual content and interactive AI-powered learning modules.</span>
                        <span class="ar-content hidden">منصة تعليمية للمهنيين الصحيين مع محتوى ثنائي اللغة ووحدات تعلم تفاعلية مدعومة بالذكاء الاصطناعي.</span>
                    </p>
                </a>
            </div>
        </div>
    </section>
    
    <!-- Partner Network Section -->
    <section id="partner-network" class="section" style="background: linear-gradient(135deg, var(--bg-tertiary) 0%, var(--bg-secondary) 100%);">
        <div class="container">
            <h2 class="section-title">
                <span class="en-content">BrainSAIT Partner Network</span>
                <span class="ar-content hidden">شبكة شركاء برينسايت</span>
            </h2>
            <p class="section-subtitle">
                <span class="en-content">Building Vision 2030 healthcare ecosystem through strategic partnerships</span>
                <span class="ar-content hidden">بناء نظام الرعاية الصحية لرؤية 2030 من خلال الشراكات الاستراتيجية</span>
            </p>
            
            <!-- Partnership Ecosystem Visualization -->
            <div class="partnership-hub" style="position: relative; margin: 3rem 0; min-height: 500px; display: flex; align-items: center; justify-content: center;">
                <!-- Central BrainSAIT Hub -->
                <div class="central-hub" style="position: absolute; z-index: 10; background: linear-gradient(135deg, #00d4ff, #9333ea); border-radius: 50%; width: 120px; height: 120px; display: flex; align-items: center; justify-content: center; box-shadow: 0 10px 30px rgba(0, 212, 255, 0.5); animation: pulse 2s infinite;">
                    <div style="text-align: center; color: #fff;">
                        <i class="fas fa-brain" style="font-size: 2rem; margin-bottom: 0.5rem;"></i>
                        <div style="font-size: 0.8rem; font-weight: 600;">BrainSAIT</div>
                    </div>
                </div>
                
                <!-- Partner Categories -->
                <div class="partner-ring government-partners" style="position: absolute; border-radius: 50%; border: 2px dashed rgba(0, 166, 81, 0.3); width: 300px; height: 300px;">
                    <!-- Government Partners -->
                    <div class="partner-node gov-node" style="position: absolute; top: -25px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #00a651, #028c47); border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; cursor: pointer;" onclick="showPartnerDetails('government')">
                        <div style="text-align: center; color: #fff;">
                            <i class="fas fa-landmark" style="font-size: 1.2rem;"></i>
                            <div style="font-size: 0.6rem; margin-top: 0.2rem;">Government</div>
                        </div>
                    </div>
                    
                    <!-- Healthcare Partners -->
                    <div class="partner-node health-node" style="position: absolute; top: 50%; right: -25px; transform: translateY(-50%); background: linear-gradient(135deg, #0066cc, #004c99); border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; cursor: pointer;" onclick="showPartnerDetails('healthcare')">
                        <div style="text-align: center; color: #fff;">
                            <i class="fas fa-hospital" style="font-size: 1.2rem;"></i>
                            <div style="font-size: 0.6rem; margin-top: 0.2rem;">Healthcare</div>
                        </div>
                    </div>
                    
                    <!-- Enterprise Partners -->
                    <div class="partner-node enterprise-node" style="position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #9333ea, #7c3aed); border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; cursor: pointer;" onclick="showPartnerDetails('enterprise')">
                        <div style="text-align: center; color: #fff;">
                            <i class="fas fa-building" style="font-size: 1.2rem;"></i>
                            <div style="font-size: 0.6rem; margin-top: 0.2rem;">Enterprise</div>
                        </div>
                    </div>
                    
                    <!-- Academic Partners -->
                    <div class="partner-node academic-node" style="position: absolute; top: 50%; left: -25px; transform: translateY(-50%); background: linear-gradient(135deg, #f59e0b, #d97706); border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; cursor: pointer;" onclick="showPartnerDetails('academic')">
                        <div style="text-align: center; color: #fff;">
                            <i class="fas fa-university" style="font-size: 1.2rem;"></i>
                            <div style="font-size: 0.6rem; margin-top: 0.2rem;">Academic</div>
                        </div>
                    </div>
                </div>
                
                <!-- Connection Lines (SVG) -->
                <svg style="position: absolute; width: 100%; height: 100%; z-index: 5;" viewBox="0 0 400 400">
                    <defs>
                        <linearGradient id="connectionGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#00d4ff;stop-opacity:0.6" />
                            <stop offset="100%" style="stop-color:#9333ea;stop-opacity:0.6" />
                        </linearGradient>
                    </defs>
                    <line x1="200" y1="200" x2="200" y2="100" stroke="url(#connectionGradient)" stroke-width="2" opacity="0.7"/>
                    <line x1="200" y1="200" x2="300" y2="200" stroke="url(#connectionGradient)" stroke-width="2" opacity="0.7"/>
                    <line x1="200" y1="200" x2="200" y2="300" stroke="url(#connectionGradient)" stroke-width="2" opacity="0.7"/>
                    <line x1="200" y1="200" x2="100" y2="200" stroke="url(#connectionGradient)" stroke-width="2" opacity="0.7"/>
                </svg>
            </div>
            
            <!-- Partner Details Section -->
            <div id="partner-details" class="partner-details" style="margin: 3rem 0; min-height: 200px; background: rgba(255, 255, 255, 0.05); border-radius: 15px; padding: 2rem; backdrop-filter: blur(10px); display: none;">
                <div id="partner-content"></div>
            </div>
            
            <!-- Partnership Application -->
            <div class="partnership-application" style="background: rgba(0, 212, 255, 0.1); border: 1px solid rgba(0, 212, 255, 0.3); border-radius: 15px; padding: 2rem; margin: 3rem 0; text-align: center;">
                <h3 style="color: #00d4ff; margin-bottom: 1rem;">
                    <span class="en-content">Join Our Partnership Network</span>
                    <span class="ar-content hidden">انضم إلى شبكة الشراكات</span>
                </h3>
                <p style="color: #ccc; margin-bottom: 2rem;">
                    <span class="en-content">Collaborate with BrainSAIT to advance Vision 2030 healthcare goals and drive digital transformation</span>
                    <span class="ar-content hidden">تعاون مع برينسايت لتطوير أهداف الرعاية الصحية لرؤية 2030 ودفع التحول الرقمي</span>
                </p>
                <button class="btn btn-primary" onclick="openPartnershipForm()" style="font-size: 1.1rem; padding: 15px 30px;">
                    <i class="fas fa-handshake"></i>
                    <span class="en-content">Apply for Partnership</span>
                    <span class="ar-content hidden">تقديم طلب الشراكة</span>
                </button>
            </div>
            
            <!-- Success Metrics -->
            <div class="partnership-metrics" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; margin: 3rem 0;">
                <div class="metric-card" style="background: rgba(0, 166, 81, 0.1); border: 1px solid rgba(0, 166, 81, 0.3); border-radius: 15px; padding: 2rem; text-align: center;">
                    <div style="font-size: 2.5rem; font-weight: 900; color: #00a651; margin-bottom: 0.5rem;">25+</div>
                    <div style="color: #ccc;">
                        <span class="en-content">Active Partners</span>
                        <span class="ar-content hidden">شريك نشط</span>
                    </div>
                </div>
                <div class="metric-card" style="background: rgba(0, 102, 204, 0.1); border: 1px solid rgba(0, 102, 204, 0.3); border-radius: 15px; padding: 2rem; text-align: center;">
                    <div style="font-size: 2.5rem; font-weight: 900; color: #0066cc; margin-bottom: 0.5rem;">15</div>
                    <div style="color: #ccc;">
                        <span class="en-content">Healthcare Facilities</span>
                        <span class="ar-content hidden">منشأة صحية</span>
                    </div>
                </div>
                <div class="metric-card" style="background: rgba(147, 51, 234, 0.1); border: 1px solid rgba(147, 51, 234, 0.3); border-radius: 15px; padding: 2rem; text-align: center;">
                    <div style="font-size: 2.5rem; font-weight: 900; color: #9333ea; margin-bottom: 0.5rem;">8</div>
                    <div style="color: #ccc;">
                        <span class="en-content">Government Agencies</span>
                        <span class="ar-content hidden">جهة حكومية</span>
                    </div>
                </div>
                <div class="metric-card" style="background: rgba(245, 158, 11, 0.1); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 15px; padding: 2rem; text-align: center;">
                    <div style="font-size: 2.5rem; font-weight: 900; color: #f59e0b; margin-bottom: 0.5rem;">12</div>
                    <div style="color: #ccc;">
                        <span class="en-content">Tech Companies</span>
                        <span class="ar-content hidden">شركة تقنية</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Healthcare Solutions Section -->
    <section id="healthcare-solutions" class="section">
        <div class="container">
            <h2 class="section-title">
                <span class="en-content">BrainSAIT Healthcare Solutions</span>
                <span class="ar-content hidden">حلول برينسايت للرعاية الصحية</span>
            </h2>
            <p class="section-subtitle">
                <span class="en-content">Comprehensive healthcare technology solutions supporting Vision 2030 digital transformation goals</span>
                <span class="ar-content hidden">حلول تكنولوجيا الرعاية الصحية الشاملة التي تدعم أهداف التحول الرقمي لرؤية 2030</span>
            </p>
            
            <!-- Solution Categories -->
            <div class="solution-categories" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem; margin: 3rem 0;">
                <!-- PyPI Development Platform -->
                <div class="solution-category" style="background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 15px; padding: 2rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem;">
                        <div style="background: linear-gradient(135deg, #10b981, #059669); padding: 1rem; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fab fa-python" style="color: #fff; font-size: 1.5rem;"></i>
                        </div>
                        <div>
                            <h3 style="color: #10b981; font-size: 1.3rem; font-weight: 600; margin-bottom: 0.5rem;">
                                <span class="en-content">PyPI Development</span>
                                <span class="ar-content hidden">تطوير PyPI</span>
                            </h3>
                            <p style="color: #ccc; font-size: 0.9rem;">Open-source healthcare packages</p>
                        </div>
                    </div>
                    
                    <!-- brainsait-pyheart -->
                    <div style="background: rgba(0, 0, 0, 0.3); border-radius: 10px; padding: 1.5rem; margin-bottom: 1rem;">
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                            <i class="fas fa-heartbeat" style="color: #ef4444; font-size: 1.2rem;"></i>
                            <h4 style="color: #fff; font-size: 1.1rem; font-weight: 600;">brainsait-pyheart</h4>
                            <span style="background: rgba(16, 185, 129, 0.2); color: #10b981; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem;">v0.1.0</span>
                        </div>
                        <p style="color: #ccc; font-size: 0.9rem; margin-bottom: 1rem;">
                            <span class="en-content">Healthcare interoperability and workflow management with FHIR/HL7 compliance</span>
                            <span class="ar-content hidden">قابلية التشغيل البيني للرعاية الصحية وإدارة سير العمل مع امتثال FHIR/HL7</span>
                        </p>
                        <div style="background: rgba(0, 0, 0, 0.5); padding: 0.8rem; border-radius: 6px; font-family: 'JetBrains Mono', monospace; font-size: 0.8rem; color: #10b981; margin-bottom: 1rem;">
                            pip install brainsait-pyheart
                            <button style="background: none; border: none; color: #10b981; float: right; cursor: pointer;" onclick="copyToClipboard('pip install brainsait-pyheart')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <a href="https://pypi.org/project/brainsait-pyheart/" target="_blank" style="display: inline-flex; align-items: center; gap: 0.5rem; background: linear-gradient(135deg, #10b981, #059669); color: #fff; padding: 0.6rem 1rem; border-radius: 8px; text-decoration: none; font-size: 0.9rem;">
                            <i class="fas fa-external-link-alt"></i>
                            <span class="en-content">View on PyPI</span>
                            <span class="ar-content hidden">عرض على PyPI</span>
                        </a>
                    </div>
                    
                    <!-- brainsait-pybrain -->
                    <div style="background: rgba(0, 0, 0, 0.3); border-radius: 10px; padding: 1.5rem;">
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                            <i class="fas fa-brain" style="color: #9333ea; font-size: 1.2rem;"></i>
                            <h4 style="color: #fff; font-size: 1.1rem; font-weight: 600;">brainsait-pybrain</h4>
                            <span style="background: rgba(16, 185, 129, 0.2); color: #10b981; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem;">v0.1.0</span>
                        </div>
                        <p style="color: #ccc; font-size: 0.9rem; margin-bottom: 1rem;">
                            <span class="en-content">AI-powered clinical NLP and healthcare data harmonization platform</span>
                            <span class="ar-content hidden">منصة معالجة اللغة الطبيعية السريرية ومواءمة بيانات الرعاية الصحية المدعومة بالذكاء الاصطناعي</span>
                        </p>
                        <div style="background: rgba(0, 0, 0, 0.5); padding: 0.8rem; border-radius: 6px; font-family: 'JetBrains Mono', monospace; font-size: 0.8rem; color: #10b981; margin-bottom: 1rem;">
                            pip install brainsait-pybrain
                            <button style="background: none; border: none; color: #10b981; float: right; cursor: pointer;" onclick="copyToClipboard('pip install brainsait-pybrain')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <a href="https://pypi.org/project/brainsait-pybrain/" target="_blank" style="display: inline-flex; align-items: center; gap: 0.5rem; background: linear-gradient(135deg, #9333ea, #7c3aed); color: #fff; padding: 0.6rem 1rem; border-radius: 8px; text-decoration: none; font-size: 0.9rem;">
                            <i class="fas fa-external-link-alt"></i>
                            <span class="en-content">View on PyPI</span>
                            <span class="ar-content hidden">عرض على PyPI</span>
                        </a>
                    </div>
                </div>
                
                <!-- Enterprise Solutions -->
                <div class="solution-category" style="background: rgba(0, 102, 204, 0.1); border: 1px solid rgba(0, 102, 204, 0.3); border-radius: 15px; padding: 2rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem;">
                        <div style="background: linear-gradient(135deg, #0066cc, #004c99); padding: 1rem; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-building" style="color: #fff; font-size: 1.5rem;"></i>
                        </div>
                        <div>
                            <h3 style="color: #0066cc; font-size: 1.3rem; font-weight: 600; margin-bottom: 0.5rem;">
                                <span class="en-content">Enterprise Platforms</span>
                                <span class="ar-content hidden">المنصات المؤسسية</span>
                            </h3>
                            <p style="color: #ccc; font-size: 0.9rem;">Scalable healthcare systems</p>
                        </div>
                    </div>
                    
                    <div class="enterprise-solutions" style="display: grid; gap: 1rem;">
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1.2rem; border-radius: 8px;">
                            <h4 style="color: #00d4ff; margin-bottom: 0.5rem;">
                                <span class="en-content">BrainSAIT Core Platform</span>
                                <span class="ar-content hidden">منصة برينسايت الأساسية</span>
                            </h4>
                            <p style="color: #ccc; font-size: 0.9rem;">Comprehensive healthcare AI platform for hospitals and clinics</p>
                        </div>
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1.2rem; border-radius: 8px;">
                            <h4 style="color: #00d4ff; margin-bottom: 0.5rem;">
                                <span class="en-content">GIVC Telemedicine</span>
                                <span class="ar-content hidden">طب بُعد GIVC</span>
                            </h4>
                            <p style="color: #ccc; font-size: 0.9rem;">Next-generation virtual care with AI diagnostics</p>
                        </div>
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1.2rem; border-radius: 8px;">
                            <h4 style="color: #00d4ff; margin-bottom: 0.5rem;">
                                <span class="en-content">GP Portal System</span>
                                <span class="ar-content hidden">نظام بوابة الطب العام</span>
                            </h4>
                            <p style="color: #ccc; font-size: 0.9rem;">Advanced general practice management platform</p>
                        </div>
                    </div>
                </div>
                
                <!-- Government Solutions -->
                <div class="solution-category" style="background: rgba(0, 166, 81, 0.1); border: 1px solid rgba(0, 166, 81, 0.3); border-radius: 15px; padding: 2rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem;">
                        <div style="background: linear-gradient(135deg, #00a651, #028c47); padding: 1rem; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-landmark" style="color: #fff; font-size: 1.5rem;"></i>
                        </div>
                        <div>
                            <h3 style="color: #00a651; font-size: 1.3rem; font-weight: 600; margin-bottom: 0.5rem;">
                                <span class="en-content">Government Solutions</span>
                                <span class="ar-content hidden">الحلول الحكومية</span>
                            </h3>
                            <p style="color: #ccc; font-size: 0.9rem;">Vision 2030 aligned systems</p>
                        </div>
                    </div>
                    
                    <div class="government-solutions" style="display: grid; gap: 1rem;">
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1.2rem; border-radius: 8px;">
                            <h4 style="color: #00a651; margin-bottom: 0.5rem;">
                                <span class="en-content">Ministry Integration</span>
                                <span class="ar-content hidden">تكامل الوزارات</span>
                            </h4>
                            <p style="color: #ccc; font-size: 0.9rem;">Seamless integration with Saudi government health systems</p>
                        </div>
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1.2rem; border-radius: 8px;">
                            <h4 style="color: #00a651; margin-bottom: 0.5rem;">
                                <span class="en-content">CITC Compliance</span>
                                <span class="ar-content hidden">امتثال هيئة الاتصالات</span>
                            </h4>
                            <p style="color: #ccc; font-size: 0.9rem;">Full compliance with Saudi digital regulations</p>
                        </div>
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1.2rem; border-radius: 8px;">
                            <h4 style="color: #00a651; margin-bottom: 0.5rem;">
                                <span class="en-content">Etimad Integration</span>
                                <span class="ar-content hidden">تكامل اعتماد</span>
                            </h4>
                            <p style="color: #ccc; font-size: 0.9rem;">Direct integration with government procurement systems</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- AI Intelligence Center Section -->
    <section id="ai-intelligence" class="section" style="background: linear-gradient(135deg, var(--bg-tertiary) 0%, var(--bg-secondary) 100%);">
        <div class="container">
            <h2 class="section-title">
                <span class="en-content">BrainSAIT AI Intelligence Center</span>
                <span class="ar-content hidden">مركز ذكاء برينسايت الاصطناعي</span>
            </h2>
            <p class="section-subtitle">
                <span class="en-content">Advanced AI-powered analytics and intelligence for Saudi healthcare market</span>
                <span class="ar-content hidden">تحليلات وذكاء متقدم مدعوم بالذكاء الاصطناعي لسوق الرعاية الصحية السعودي</span>
            </p>
            
            <!-- Saudi Market Intelligence Dashboard -->
            <div class="intelligence-dashboard" style="background: rgba(0, 0, 0, 0.3); border-radius: 15px; padding: 2rem; margin: 3rem 0; backdrop-filter: blur(10px);">
                <h3 style="color: #00d4ff; margin-bottom: 2rem; display: flex; align-items: center; gap: 1rem;">
                    <i class="fas fa-chart-line"></i>
                    <span class="en-content">Saudi Healthcare Market Intelligence</span>
                    <span class="ar-content hidden">ذكاء السوق الصحي السعودي</span>
                </h3>
                
                <!-- Live Market Metrics -->
                <div class="market-metrics" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin: 2rem 0;">
                    <div class="metric-widget" style="background: linear-gradient(135deg, rgba(0, 166, 81, 0.2), rgba(0, 166, 81, 0.1)); border: 1px solid rgba(0, 166, 81, 0.3); border-radius: 10px; padding: 1.5rem;">
                        <div style="display: flex; align-items: center; justify-content: between; margin-bottom: 1rem;">
                            <i class="fas fa-heart" style="color: #00a651; font-size: 1.5rem;"></i>
                            <span style="color: #00a651; font-size: 0.8rem; background: rgba(0, 166, 81, 0.2); padding: 0.2rem 0.5rem; border-radius: 12px;">+12.5%</span>
                        </div>
                        <div style="color: #fff; font-size: 1.8rem; font-weight: 700;">SAR 45.2B</div>
                        <div style="color: #ccc; font-size: 0.9rem;">
                            <span class="en-content">Healthcare Market Size</span>
                            <span class="ar-content hidden">حجم السوق الصحي</span>
                        </div>
                    </div>
                    
                    <div class="metric-widget" style="background: linear-gradient(135deg, rgba(0, 102, 204, 0.2), rgba(0, 102, 204, 0.1)); border: 1px solid rgba(0, 102, 204, 0.3); border-radius: 10px; padding: 1.5rem;">
                        <div style="display: flex; align-items: center; justify-content: between; margin-bottom: 1rem;">
                            <i class="fas fa-hospital" style="color: #0066cc; font-size: 1.5rem;"></i>
                            <span style="color: #0066cc; font-size: 0.8rem; background: rgba(0, 102, 204, 0.2); padding: 0.2rem 0.5rem; border-radius: 12px;">+8.3%</span>
                        </div>
                        <div style="color: #fff; font-size: 1.8rem; font-weight: 700;">487</div>
                        <div style="color: #ccc; font-size: 0.9rem;">
                            <span class="en-content">Active Healthcare Facilities</span>
                            <span class="ar-content hidden">المنشآت الصحية النشطة</span>
                        </div>
                    </div>
                    
                    <div class="metric-widget" style="background: linear-gradient(135deg, rgba(147, 51, 234, 0.2), rgba(147, 51, 234, 0.1)); border: 1px solid rgba(147, 51, 234, 0.3); border-radius: 10px; padding: 1.5rem;">
                        <div style="display: flex; align-items: center; justify-content: between; margin-bottom: 1rem;">
                            <i class="fas fa-brain" style="color: #9333ea; font-size: 1.5rem;"></i>
                            <span style="color: #9333ea; font-size: 0.8rem; background: rgba(147, 51, 234, 0.2); padding: 0.2rem 0.5rem; border-radius: 12px;">+23.1%</span>
                        </div>
                        <div style="color: #fff; font-size: 1.8rem; font-weight: 700;">156</div>
                        <div style="color: #ccc; font-size: 0.9rem;">
                            <span class="en-content">AI Healthcare Projects</span>
                            <span class="ar-content hidden">مشاريع الذكاء الاصطناعي الطبي</span>
                        </div>
                    </div>
                    
                    <div class="metric-widget" style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(245, 158, 11, 0.1)); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 10px; padding: 1.5rem;">
                        <div style="display: flex; align-items: center; justify-content: between; margin-bottom: 1rem;">
                            <i class="fas fa-handshake" style="color: #f59e0b; font-size: 1.5rem;"></i>
                            <span style="color: #f59e0b; font-size: 0.8rem; background: rgba(245, 158, 11, 0.2); padding: 0.2rem 0.5rem; border-radius: 12px;">+18.7%</span>
                        </div>
                        <div style="color: #fff; font-size: 1.8rem; font-weight: 700;">89</div>
                        <div style="color: #ccc; font-size: 0.9rem;">
                            <span class="en-content">Partnership Opportunities</span>
                            <span class="ar-content hidden">فرص الشراكة</span>
                        </div>
                    </div>
                </div>
                
                <!-- Market Intelligence Analytics Dashboard -->
                <div class="market-intelligence-dashboard" style="background: rgba(245, 158, 11, 0.1); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 10px; padding: 2rem; margin: 2rem 0;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h4 style="color: #f59e0b; display: flex; align-items: center; gap: 0.5rem; margin: 0;">
                            <i class="fas fa-chart-bar"></i>
                            <span class="en-content">Market Intelligence Analytics</span>
                            <span class="ar-content hidden">تحليلات ذكاء السوق</span>
                        </h4>
                        <div style="display: flex; gap: 0.5rem;">
                            <button onclick="updateMarketIntelligence()" style="background: #f59e0b; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-size: 0.8rem;">
                                <i class="fas fa-refresh" id="market-refresh-icon"></i>
                                <span class="en-content">Update Live</span>
                                <span class="ar-content hidden">تحديث مباشر</span>
                            </button>
                            <button onclick="exportMarketReport()" style="background: #0066cc; color: #fff; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-size: 0.8rem;">
                                <i class="fas fa-chart-line"></i>
                                <span class="en-content">Export Report</span>  
                                <span class="ar-content hidden">تصدير التقرير</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Market Analysis Status -->
                    <div id="market-analysis-status" style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: none;">
                        <div style="display: flex; align-items: center; gap: 0.5rem; color: #f59e0b;">
                            <div class="spinner" style="width: 16px; height: 16px; border: 2px solid rgba(245, 158, 11, 0.3); border-top: 2px solid #f59e0b; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                            <span class="en-content">AI processing market trends and predictive analytics...</span>
                            <span class="ar-content hidden">يعالج الذكاء الاصطناعي اتجاهات السوق والتحليل التنبؤي...</span>
                        </div>
                    </div>
                    
                    <!-- Predictive Analytics Charts -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1.5rem; border-radius: 8px;">
                            <h5 style="color: #f59e0b; margin-bottom: 1rem; font-size: 1rem;">
                                <span class="en-content">Growth Prediction 2024-2026</span>
                                <span class="ar-content hidden">توقعات النمو 2024-2026</span>
                            </h5>
                            <div style="display: flex; align-items: end; gap: 0.5rem; height: 100px; margin-bottom: 1rem;">
                                <div style="background: linear-gradient(180deg, #f59e0b, rgba(245, 158, 11, 0.3)); width: 20px; height: 60%; border-radius: 2px;"></div>
                                <div style="background: linear-gradient(180deg, #f59e0b, rgba(245, 158, 11, 0.3)); width: 20px; height: 75%; border-radius: 2px;"></div>
                                <div style="background: linear-gradient(180deg, #f59e0b, rgba(245, 158, 11, 0.3)); width: 20px; height: 90%; border-radius: 2px;"></div>
                                <div style="background: linear-gradient(180deg, #00d4ff, rgba(0, 212, 255, 0.3)); width: 20px; height: 100%; border-radius: 2px;"></div>
                            </div>
                            <div style="display: flex; justify-content: space-between; color: #ccc; font-size: 0.8rem;">
                                <span>2024</span>
                                <span>2025</span>
                                <span>2026</span>
                                <span style="color: #00d4ff;">Projected</span>
                            </div>
                        </div>
                        
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1.5rem; border-radius: 8px;">
                            <h5 style="color: #f59e0b; margin-bottom: 1rem; font-size: 1rem;">
                                <span class="en-content">Market Opportunity Score</span>
                                <span class="ar-content hidden">درجة فرصة السوق</span>
                            </h5>
                            <div style="position: relative; width: 120px; height: 120px; margin: 0 auto;">
                                <svg width="120" height="120" style="transform: rotate(-90deg);">
                                    <circle cx="60" cy="60" r="50" fill="none" stroke="rgba(245, 158, 11, 0.2)" stroke-width="8"/>
                                    <circle cx="60" cy="60" r="50" fill="none" stroke="#f59e0b" stroke-width="8" stroke-linecap="round" stroke-dasharray="314" stroke-dashoffset="62.8" style="transition: stroke-dashoffset 1s ease;"/>
                                </svg>
                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center;">
                                    <div style="color: #f59e0b; font-size: 1.5rem; font-weight: 700;">87%</div>
                                    <div style="color: #ccc; font-size: 0.8rem;">Optimal</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Key Market Insights -->
                    <div style="margin-bottom: 1.5rem;">
                        <h5 style="color: #f59e0b; margin-bottom: 1rem; font-size: 1rem;">
                            <span class="en-content">Key Market Insights</span>
                            <span class="ar-content hidden">رؤى السوق الرئيسية</span>
                        </h5>
                        <div style="display: grid; gap: 0.8rem;">
                            <div style="background: rgba(0, 0, 0, 0.2); padding: 1rem; border-radius: 6px; display: flex; align-items: center; gap: 1rem;">
                                <div style="background: rgba(0, 166, 81, 0.3); padding: 0.5rem; border-radius: 50%; color: #00a651;">
                                    <i class="fas fa-trending-up"></i>
                                </div>
                                <div>
                                    <div style="color: #fff; font-weight: 600; margin-bottom: 0.2rem;">
                                        <span class="en-content">AI Healthcare Market Growth</span>
                                        <span class="ar-content hidden">نمو سوق الذكاء الاصطناعي الصحي</span>
                                    </div>
                                    <div style="color: #ccc; font-size: 0.85rem;">
                                        <span class="en-content">23.1% YoY increase driven by Vision 2030 initiatives and digital transformation</span>
                                        <span class="ar-content hidden">زيادة سنوية 23.1% مدفوعة بمبادرات رؤية 2030 والتحول الرقمي</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: rgba(0, 0, 0, 0.2); padding: 1rem; border-radius: 6px; display: flex; align-items: center; gap: 1rem;">
                                <div style="background: rgba(147, 51, 234, 0.3); padding: 0.5rem; border-radius: 50%; color: #9333ea;">
                                    <i class="fas fa-lightbulb"></i>
                                </div>
                                <div>
                                    <div style="color: #fff; font-weight: 600; margin-bottom: 0.2rem;">
                                        <span class="en-content">Emerging Opportunities</span>
                                        <span class="ar-content hidden">الفرص الناشئة</span>
                                    </div>
                                    <div style="color: #ccc; font-size: 0.85rem;">
                                        <span class="en-content">Telemedicine platforms and remote patient monitoring showing 340% growth potential</span>
                                        <span class="ar-content hidden">منصات الطب عن بُعد ومراقبة المرضى عن بُعد تظهر إمكانات نمو 340%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: rgba(0, 0, 0, 0.2); padding: 1rem; border-radius: 6px; display: flex; align-items: center; gap: 1rem;">
                                <div style="background: rgba(0, 102, 204, 0.3); padding: 0.5rem; border-radius: 50%; color: #0066cc;">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <div>
                                    <div style="color: #fff; font-weight: 600; margin-bottom: 0.2rem;">
                                        <span class="en-content">Regulatory Compliance</span>
                                        <span class="ar-content hidden">الامتثال التنظيمي</span>
                                    </div>
                                    <div style="color: #ccc; font-size: 0.85rem;">
                                        <span class="en-content">New SDAIA regulations creating barriers to entry, advantaging compliant early movers</span>
                                        <span class="ar-content hidden">اللوائح الجديدة للهيئة السعودية للبيانات والذكاء الاصطناعي تخلق حواجز دخول تفيد المتوافقين الأوائل</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Market Performance Indicators -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem;">
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 6px; text-align: center;">
                            <div style="color: #00a651; font-weight: 700; font-size: 1.2rem;">45.2B SAR</div>
                            <div style="color: #ccc; font-size: 0.8rem; margin-bottom: 0.3rem;">
                                <span class="en-content">Market Size</span>
                                <span class="ar-content hidden">حجم السوق</span>
                            </div>
                            <div style="color: #00a651; font-size: 0.7rem;">+12.5% YoY</div>
                        </div>
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 6px; text-align: center;">
                            <div style="color: #9333ea; font-weight: 700; font-size: 1.2rem;">1,247</div>
                            <div style="color: #ccc; font-size: 0.8rem; margin-bottom: 0.3rem;">
                                <span class="en-content">Active Tenders</span>
                                <span class="ar-content hidden">العطاءات النشطة</span>
                            </div>
                            <div style="color: #9333ea; font-size: 0.7rem;">+28% Monthly</div>
                        </div>
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 6px; text-align: center;">
                            <div style="color: #00d4ff; font-weight: 700; font-size: 1.2rem;">156</div>
                            <div style="color: #ccc; font-size: 0.8rem; margin-bottom: 0.3rem;">
                                <span class="en-content">AI Projects</span>
                                <span class="ar-content hidden">مشاريع الذكاء الاصطناعي</span>
                            </div>
                            <div style="color: #00d4ff; font-size: 0.7rem;">BrainSAIT Leading</div>
                        </div>
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 6px; text-align: center;">
                            <div style="color: #f59e0b; font-weight: 700; font-size: 1.2rem;">94%</div>
                            <div style="color: #ccc; font-size: 0.8rem; margin-bottom: 0.3rem;">
                                <span class="en-content">Win Rate</span>
                                <span class="ar-content hidden">معدل النجاح</span>
                            </div>
                            <div style="color: #f59e0b; font-size: 0.7rem;">Industry Best</div>
                        </div>
                    </div>
                </div>
                
                <!-- Enhanced Etimad Intelligence Engine -->
                <div class="etimad-tracker" style="background: rgba(0, 166, 81, 0.1); border: 1px solid rgba(0, 166, 81, 0.3); border-radius: 10px; padding: 2rem; margin: 2rem 0;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h4 style="color: #00a651; display: flex; align-items: center; gap: 0.5rem; margin: 0;">
                            <i class="fas fa-bullseye"></i>
                            <span class="en-content">Etimad Intelligence Engine</span>
                            <span class="ar-content hidden">محرك ذكاء اعتماد</span>
                        </h4>
                        <div style="display: flex; gap: 0.5rem;">
                            <button onclick="analyzeOpportunities()" style="background: #00a651; color: #fff; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-size: 0.8rem;">
                                <i class="fas fa-sync-alt" id="analyze-icon"></i>
                                <span class="en-content">Analyze Live</span>
                                <span class="ar-content hidden">تحليل مباشر</span>
                            </button>
                            <button onclick="generateProposal()" style="background: #9333ea; color: #fff; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-size: 0.8rem;">
                                <i class="fas fa-file-alt"></i>
                                <span class="en-content">Auto Proposal</span>
                                <span class="ar-content hidden">اقتراح تلقائي</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- AI Analysis Status -->
                    <div id="ai-analysis-status" style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: none;">
                        <div style="display: flex; align-items: center; gap: 0.5rem; color: #00d4ff;">
                            <div class="spinner" style="width: 16px; height: 16px; border: 2px solid rgba(0, 212, 255, 0.3); border-top: 2px solid #00d4ff; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                            <span class="en-content">AI analyzing government tenders and market opportunities...</span>
                            <span class="ar-content hidden">يقوم الذكاء الاصطناعي بتحليل العطاءات الحكومية وفرص السوق...</span>
                        </div>
                    </div>
                    
                    <div class="opportunity-list" style="display: grid; gap: 1rem;">
                        <div class="opportunity-item" style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 8px;">
                            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.5rem;">
                                <div>
                                    <div style="color: #fff; font-weight: 600; margin-bottom: 0.3rem;">
                                        <span class="en-content">Healthcare AI Platform Development</span>
                                        <span class="ar-content hidden">تطوير منصة الذكاء الاصطناعي الطبي</span>
                                    </div>
                                    <div style="color: #ccc; font-size: 0.9rem;">Ministry of Health • SAR 12.5M • Deadline: 2024-09-15</div>
                                </div>
                                <span style="background: #00a651; color: #fff; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem;">Active</span>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 0.5rem; margin-top: 0.5rem;">
                                <div style="background: rgba(0, 166, 81, 0.2); padding: 0.3rem 0.6rem; border-radius: 6px; text-align: center;">
                                    <div style="color: #00a651; font-weight: 600; font-size: 0.9rem;">94%</div>
                                    <div style="color: #ccc; font-size: 0.7rem;">
                                        <span class="en-content">Match</span>
                                        <span class="ar-content hidden">تطابق</span>
                                    </div>
                                </div>
                                <div style="background: rgba(147, 51, 234, 0.2); padding: 0.3rem 0.6rem; border-radius: 6px; text-align: center;">
                                    <div style="color: #9333ea; font-weight: 600; font-size: 0.9rem;">87%</div>
                                    <div style="color: #ccc; font-size: 0.7rem;">
                                        <span class="en-content">Success</span>
                                        <span class="ar-content hidden">نجاح</span>
                                    </div>
                                </div>
                                <div style="background: rgba(245, 158, 11, 0.2); padding: 0.3rem 0.6rem; border-radius: 6px; text-align: center;">
                                    <div style="color: #f59e0b; font-weight: 600; font-size: 0.9rem;">2030</div>
                                    <div style="color: #ccc; font-size: 0.7rem;">
                                        <span class="en-content">Vision</span>
                                        <span class="ar-content hidden">رؤية</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="opportunity-item" style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 8px;">
                            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.5rem;">
                                <div>
                                    <div style="color: #fff; font-weight: 600; margin-bottom: 0.3rem;">
                                        <span class="en-content">Smart City Health Infrastructure</span>
                                        <span class="ar-content hidden">البنية التحتية الصحية للمدينة الذكية</span>
                                    </div>
                                    <div style="color: #ccc; font-size: 0.9rem;">CITC • SAR 8.3M • Deadline: 2024-10-20</div>
                                </div>
                                <span style="background: #9333ea; color: #fff; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem;">Upcoming</span>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 0.5rem; margin-top: 0.5rem;">
                                <div style="background: rgba(0, 166, 81, 0.2); padding: 0.3rem 0.6rem; border-radius: 6px; text-align: center;">
                                    <div style="color: #00a651; font-weight: 600; font-size: 0.9rem;">91%</div>
                                    <div style="color: #ccc; font-size: 0.7rem;">
                                        <span class="en-content">Match</span>
                                        <span class="ar-content hidden">تطابق</span>
                                    </div>
                                </div>
                                <div style="background: rgba(147, 51, 234, 0.2); padding: 0.3rem 0.6rem; border-radius: 6px; text-align: center;">
                                    <div style="color: #9333ea; font-weight: 600; font-size: 0.9rem;">83%</div>
                                    <div style="color: #ccc; font-size: 0.7rem;">
                                        <span class="en-content">Success</span>
                                        <span class="ar-content hidden">نجاح</span>
                                    </div>
                                </div>
                                <div style="background: rgba(245, 158, 11, 0.2); padding: 0.3rem 0.6rem; border-radius: 6px; text-align: center;">
                                    <div style="color: #f59e0b; font-weight: 600; font-size: 0.9rem;">2030</div>
                                    <div style="color: #ccc; font-size: 0.7rem;">
                                        <span class="en-content">Vision</span>
                                        <span class="ar-content hidden">رؤية</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="opportunity-item" style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 8px;">
                            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.5rem;">
                                <div>
                                    <div style="color: #fff; font-weight: 600; margin-bottom: 0.3rem;">
                                        <span class="en-content">Telemedicine Platform Enhancement</span>
                                        <span class="ar-content hidden">تعزيز منصة الطب عن بُعد</span>
                                    </div>
                                    <div style="color: #ccc; font-size: 0.9rem;">Saudi Health Council • SAR 6.7M • Deadline: 2024-08-30</div>
                                </div>
                                <span style="background: #0066cc; color: #fff; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem;">Evaluating</span>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 0.5rem; margin-top: 0.5rem;">
                                <div style="background: rgba(0, 166, 81, 0.2); padding: 0.3rem 0.6rem; border-radius: 6px; text-align: center;">
                                    <div style="color: #00a651; font-weight: 600; font-size: 0.9rem;">96%</div>
                                    <div style="color: #ccc; font-size: 0.7rem;">
                                        <span class="en-content">Match</span>
                                        <span class="ar-content hidden">تطابق</span>
                                    </div>
                                </div>
                                <div style="background: rgba(147, 51, 234, 0.2); padding: 0.3rem 0.6rem; border-radius: 6px; text-align: center;">
                                    <div style="color: #9333ea; font-weight: 600; font-size: 0.9rem;">92%</div>
                                    <div style="color: #ccc; font-size: 0.7rem;">
                                        <span class="en-content">Success</span>
                                        <span class="ar-content hidden">نجاح</span>
                                    </div>
                                </div>
                                <div style="background: rgba(245, 158, 11, 0.2); padding: 0.3rem 0.6rem; border-radius: 6px; text-align: center;">
                                    <div style="color: #f59e0b; font-weight: 600; font-size: 0.9rem;">2030</div>
                                    <div style="color: #ccc; font-size: 0.7rem;">
                                        <span class="en-content">Vision</span>
                                        <span class="ar-content hidden">رؤية</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Enhanced Partner Discovery Engine -->
                <div class="compatibility-scoring" style="background: rgba(147, 51, 234, 0.1); border: 1px solid rgba(147, 51, 234, 0.3); border-radius: 10px; padding: 2rem; margin: 2rem 0;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h4 style="color: #9333ea; display: flex; align-items: center; gap: 0.5rem; margin: 0;">
                            <i class="fas fa-users"></i>
                            <span class="en-content">Partner Discovery Engine</span>
                            <span class="ar-content hidden">محرك اكتشاف الشركاء</span>
                        </h4>
                        <div style="display: flex; gap: 0.5rem;">
                            <button onclick="discoverPartners()" style="background: #9333ea; color: #fff; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-size: 0.8rem;">
                                <i class="fas fa-search" id="partner-search-icon"></i>
                                <span class="en-content">Discover</span>
                                <span class="ar-content hidden">اكتشف</span>
                            </button>
                            <button onclick="generateOutreach()" style="background: #00d4ff; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-size: 0.8rem;">
                                <i class="fas fa-envelope"></i>
                                <span class="en-content">Auto Outreach</span>
                                <span class="ar-content hidden">تواصل تلقائي</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Partner Discovery Status -->
                    <div id="partner-discovery-status" style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: none;">
                        <div style="display: flex; align-items: center; gap: 0.5rem; color: #9333ea;">
                            <div class="spinner" style="width: 16px; height: 16px; border: 2px solid rgba(147, 51, 234, 0.3); border-top: 2px solid #9333ea; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                            <span class="en-content">AI analyzing potential partners and compatibility scores...</span>
                            <span class="ar-content hidden">يقوم الذكاء الاصطناعي بتحليل الشركاء المحتملين ونقاط التوافق...</span>
                        </div>
                    </div>
                    
                    <!-- Current Partnership Compatibility Scores -->
                    <div class="compatibility-results" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                        <div class="compatibility-card" style="background: rgba(0, 0, 0, 0.3); padding: 1.5rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #00a651; margin-bottom: 0.5rem;">92%</div>
                            <div style="color: #ccc; font-size: 0.9rem;">
                                <span class="en-content">Government Alignment</span>
                                <span class="ar-content hidden">التوافق الحكومي</span>
                            </div>
                        </div>
                        <div class="compatibility-card" style="background: rgba(0, 0, 0, 0.3); padding: 1.5rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #0066cc; margin-bottom: 0.5rem;">87%</div>
                            <div style="color: #ccc; font-size: 0.9rem;">
                                <span class="en-content">Healthcare Fit</span>
                                <span class="ar-content hidden">التناسب الصحي</span>
                            </div>
                        </div>
                        <div class="compatibility-card" style="background: rgba(0, 0, 0, 0.3); padding: 1.5rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #9333ea; margin-bottom: 0.5rem;">95%</div>
                            <div style="color: #ccc; font-size: 0.9rem;">
                                <span class="en-content">Technology Match</span>
                                <span class="ar-content hidden">التطابق التقني</span>
                            </div>
                        </div>
                        <div class="compatibility-card" style="background: rgba(0, 0, 0, 0.3); padding: 1.5rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #f59e0b; margin-bottom: 0.5rem;">89%</div>
                            <div style="color: #ccc; font-size: 0.9rem;">
                                <span class="en-content">Vision 2030 Impact</span>
                                <span class="ar-content hidden">تأثير رؤية 2030</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Top Partner Recommendations -->
                    <div id="partner-recommendations" style="margin-top: 1.5rem;">
                        <h5 style="color: #9333ea; margin-bottom: 1rem; font-size: 1.1rem;">
                            <span class="en-content">Top Partner Recommendations</span>
                            <span class="ar-content hidden">أفضل توصيات الشركاء</span>
                        </h5>
                        <div style="display: grid; gap: 1rem;">
                            <div class="partner-recommendation" style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="color: #fff; font-weight: 600; margin-bottom: 0.3rem;">
                                        <span class="en-content">Saudi German Hospital</span>
                                        <span class="ar-content hidden">مستشفى السعودي الألماني</span>
                                    </div>
                                    <div style="color: #ccc; font-size: 0.9rem;">Healthcare Provider • Strategic Partnership</div>
                                    <div style="display: flex; gap: 1rem; margin-top: 0.5rem;">
                                        <span style="background: rgba(0, 166, 81, 0.2); color: #00a651; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">AI Ready</span>
                                        <span style="background: rgba(245, 158, 11, 0.2); color: #f59e0b; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">Vision 2030</span>
                                    </div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="color: #9333ea; font-weight: 700; font-size: 1.5rem;">94%</div>
                                    <div style="color: #ccc; font-size: 0.8rem;">Match</div>
                                </div>
                            </div>
                            
                            <div class="partner-recommendation" style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="color: #fff; font-weight: 600; margin-bottom: 0.3rem;">
                                        <span class="en-content">King Abdulaziz City for Science and Technology</span>
                                        <span class="ar-content hidden">مدينة الملك عبدالعزيز للعلوم والتقنية</span>
                                    </div>
                                    <div style="color: #ccc; font-size: 0.9rem;">Research Institution • Technology Partnership</div>
                                    <div style="display: flex; gap: 1rem; margin-top: 0.5rem;">
                                        <span style="background: rgba(147, 51, 234, 0.2); color: #9333ea; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">Tech Innovation</span>
                                        <span style="background: rgba(0, 102, 204, 0.2); color: #0066cc; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">Government</span>
                                    </div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="color: #9333ea; font-weight: 700; font-size: 1.5rem;">91%</div>
                                    <div style="color: #ccc; font-size: 0.8rem;">Match</div>
                                </div>
                            </div>
                            
                            <div class="partner-recommendation" style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="color: #fff; font-weight: 600; margin-bottom: 0.3rem;">
                                        <span class="en-content">Almarai Healthcare Division</span>
                                        <span class="ar-content hidden">قسم الرعاية الصحية - المراعي</span>
                                    </div>
                                    <div style="color: #ccc; font-size: 0.9rem;">Corporate Healthcare • Commercial Partnership</div>
                                    <div style="display: flex; gap: 1rem; margin-top: 0.5rem;">
                                        <span style="background: rgba(0, 212, 255, 0.2); color: #00d4ff; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">Scale Ready</span>
                                        <span style="background: rgba(0, 166, 81, 0.2); color: #00a651; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">Market Leader</span>
                                    </div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="color: #9333ea; font-weight: 700; font-size: 1.5rem;">88%</div>
                                    <div style="color: #ccc; font-size: 0.8rem;">Match</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- AI Proposal Generator -->
            <div class="proposal-generator" style="background: rgba(0, 212, 255, 0.1); border: 1px solid rgba(0, 212, 255, 0.3); border-radius: 10px; padding: 2rem; margin: 2rem 0;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                    <h4 style="color: #00d4ff; display: flex; align-items: center; gap: 0.5rem; margin: 0;">
                        <i class="fas fa-file-contract"></i>
                        <span class="en-content">AI Proposal Generator</span>
                        <span class="ar-content hidden">مولد المقترحات بالذكاء الاصطناعي</span>
                    </h4>
                    <div style="display: flex; gap: 0.5rem;">
                        <button onclick="generateRFPResponse()" style="background: #00d4ff; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-size: 0.8rem;">
                            <i class="fas fa-magic" id="proposal-gen-icon"></i>
                            <span class="en-content">Generate RFP</span>
                            <span class="ar-content hidden">إنشاء مقترح</span>
                        </button>
                        <button onclick="downloadProposal()" style="background: #9333ea; color: #fff; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-size: 0.8rem;">
                            <i class="fas fa-download"></i>
                            <span class="en-content">Download</span>
                            <span class="ar-content hidden">تحميل</span>
                        </button>
                    </div>
                </div>
                
                <!-- Proposal Generation Status -->
                <div id="proposal-generation-status" style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: none;">
                    <div style="display: flex; align-items: center; gap: 0.5rem; color: #00d4ff;">
                        <div class="spinner" style="width: 16px; height: 16px; border: 2px solid rgba(0, 212, 255, 0.3); border-top: 2px solid #00d4ff; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                        <span class="en-content">AI generating comprehensive RFP response with technical specifications...</span>
                        <span class="ar-content hidden">يقوم الذكاء الاصطناعي بإنشاء رد شامل لطلب تقديم المقترحات مع المواصفات التقنية...</span>
                    </div>
                </div>
                
                <!-- Current Proposal Preview -->
                <div class="proposal-preview" style="background: rgba(0, 0, 0, 0.3); border-radius: 8px; padding: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h5 style="color: #00d4ff; margin: 0; font-size: 1.1rem;">
                            <span class="en-content">Healthcare AI Platform Development - RFP Response</span>
                            <span class="ar-content hidden">تطوير منصة الذكاء الاصطناعي الطبي - رد على طلب المقترحات</span>
                        </h5>
                        <span style="background: #00a651; color: #fff; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem;">Draft Ready</span>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 1.5rem;">
                        <div>
                            <h6 style="color: #00d4ff; margin-bottom: 0.5rem; font-size: 0.9rem;">
                                <span class="en-content">Technical Approach</span>
                                <span class="ar-content hidden">النهج التقني</span>
                            </h6>
                            <p style="color: #ccc; font-size: 0.85rem; line-height: 1.4;">
                                <span class="en-content">BrainSAIT proposes a comprehensive AI-powered healthcare platform utilizing advanced NLP for Arabic medical records, FHIR compliance for interoperability, and real-time analytics with 99.9% uptime guarantee...</span>
                                <span class="ar-content hidden">تقترح برين سايت منصة رعاية صحية شاملة مدعومة بالذكاء الاصطناعي تستخدم معالجة اللغة الطبيعية المتقدمة للسجلات الطبية العربية...</span>
                            </p>
                        </div>
                        <div>
                            <h6 style="color: #00d4ff; margin-bottom: 0.5rem; font-size: 0.9rem;">
                                <span class="en-content">Vision 2030 Alignment</span>  
                                <span class="ar-content hidden">مواءمة رؤية 2030</span>
                            </h6>
                            <p style="color: #ccc; font-size: 0.85rem; line-height: 1.4;">
                                <span class="en-content">Direct contribution to Saudi Vision 2030 healthcare transformation goals with 40% efficiency improvement, localization of AI technology, and training for 500+ Saudi healthcare professionals...</span>
                                <span class="ar-content hidden">مساهمة مباشرة في أهداف تحول الرعاية الصحية لرؤية السعودية 2030 مع تحسن بنسبة 40% في الكفاءة...</span>
                            </p>
                        </div>
                    </div>
                    
                    <!-- Proposal Metrics -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-top: 1rem;">
                        <div style="background: rgba(0, 166, 81, 0.2); padding: 1rem; border-radius: 6px; text-align: center;">
                            <div style="color: #00a651; font-weight: 700; font-size: 1.3rem;">SAR 12.5M</div>
                            <div style="color: #ccc; font-size: 0.8rem;">
                                <span class="en-content">Total Budget</span>
                                <span class="ar-content hidden">إجمالي الميزانية</span>
                            </div>
                        </div>
                        <div style="background: rgba(147, 51, 234, 0.2); padding: 1rem; border-radius: 6px; text-align: center;">
                            <div style="color: #9333ea; font-weight: 700; font-size: 1.3rem;">18 Months</div>
                            <div style="color: #ccc; font-size: 0.8rem;">
                                <span class="en-content">Timeline</span>
                                <span class="ar-content hidden">الجدول الزمني</span>
                            </div>
                        </div>
                        <div style="background: rgba(245, 158, 11, 0.2); padding: 1rem; border-radius: 6px; text-align: center;">
                            <div style="color: #f59e0b; font-weight: 700; font-size: 1.3rem;">94%</div>
                            <div style="color: #ccc; font-size: 0.8rem;">
                                <span class="en-content">Success Rate</span>
                                <span class="ar-content hidden">معدل النجاح</span>
                            </div>
                        </div>
                        <div style="background: rgba(0, 102, 204, 0.2); padding: 1rem; border-radius: 6px; text-align: center;">
                            <div style="color: #0066cc; font-weight: 700; font-size: 1.3rem;">500+</div>
                            <div style="color: #ccc; font-size: 0.8rem;">
                                <span class="en-content">Users Trained</span>
                                <span class="ar-content hidden">المستخدمون المدربون</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Generated Proposals History -->
                <div style="margin-top: 1.5rem;">
                    <h5 style="color: #00d4ff; margin-bottom: 1rem; font-size: 1rem;">
                        <span class="en-content">Recent Generated Proposals</span>
                        <span class="ar-content hidden">المقترحات المُنشأة مؤخراً</span>
                    </h5>
                    <div style="display: grid; gap: 0.8rem;">
                        <div style="background: rgba(0, 0, 0, 0.2); padding: 0.8rem; border-radius: 6px; display: flex; justify-content: space-between; align-items: center;">
                            <div style="display: flex; align-items: center; gap: 0.8rem;">
                                <i class="fas fa-file-alt" style="color: #00d4ff;"></i>
                                <div>
                                    <div style="color: #fff; font-size: 0.9rem; font-weight: 500;">
                                        <span class="en-content">Telemedicine Platform Enhancement</span>
                                        <span class="ar-content hidden">تعزيز منصة الطب عن بُعد</span>
                                    </div>
                                    <div style="color: #ccc; font-size: 0.8rem;">Generated 2 hours ago • SAR 6.7M</div>
                                </div>
                            </div>
                            <span style="background: rgba(0, 166, 81, 0.3); color: #00a651; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem;">Submitted</span>
                        </div>
                        <div style="background: rgba(0, 0, 0, 0.2); padding: 0.8rem; border-radius: 6px; display: flex; justify-content: space-between; align-items: center;">
                            <div style="display: flex; align-items: center; gap: 0.8rem;">
                                <i class="fas fa-file-alt" style="color: #00d4ff;"></i>
                                <div>
                                    <div style="color: #fff; font-size: 0.9rem; font-weight: 500;">
                                        <span class="en-content">Smart City Health Infrastructure</span>
                                        <span class="ar-content hidden">البنية التحتية الصحية للمدينة الذكية</span>
                                    </div>
                                    <div style="color: #ccc; font-size: 0.8rem;">Generated 1 day ago • SAR 8.3M</div>
                                </div>
                            </div>
                            <span style="background: rgba(147, 51, 234, 0.3); color: #9333ea; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem;">In Review</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- AI-Powered Tools Grid -->
            <div style="margin: 3rem 0 2rem;">
                <h3 style="color: #00d4ff; font-size: 1.5rem; font-weight: 600; text-align: center;">
                    <span class="en-content">AI-Powered Healthcare Tools</span>
                    <span class="ar-content hidden">أدوات الرعاية الصحية المدعومة بالذكاء الاصطناعي</span>
                </h3>
                <p style="color: #ccc; text-align: center; margin-top: 0.5rem;">
                    <span class="en-content">Advanced AI tools designed for Saudi healthcare workflows and Vision 2030 compliance</span>
                    <span class="ar-content hidden">أدوات ذكاء اصطناعي متقدمة مصممة لسير عمل الرعاية الصحية السعودية وامتثال رؤية 2030</span>
                </p>
            </div>
            
            <div class="grid">
                <a href="https://context.thefadil.site/" target="_blank" class="card">
                    <div class="card-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3 class="card-title">
                        <span class="en-content">AI Context Generator</span>
                        <span class="ar-content hidden">مولد السياق بالذكاء الاصطناعي</span>
                    </h3>
                    <p class="card-description">
                        <span class="en-content">Intelligent prompt engineering platform for creating contextually-aware AI instructions.</span>
                        <span class="ar-content hidden">منصة هندسة التوجيهات الذكية لإنشاء تعليمات الذكاء الاصطناعي المدركة للسياق.</span>
                    </p>
                </a>
                
                <a href="https://excel-advanced-consolidator.fadil.workers.dev/" target="_blank" class="card">
                    <div class="card-icon">
                        <i class="fas fa-table"></i>
                    </div>
                    <h3 class="card-title">
                        <span class="en-content">Excel Consolidator</span>
                        <span class="ar-content hidden">موحد إكسل</span>
                    </h3>
                    <p class="card-description">
                        <span class="en-content">Advanced data consolidation tool for merging complex Excel datasets with AI assistance.</span>
                        <span class="ar-content hidden">أداة توحيد البيانات المتقدمة لدمج مجموعات بيانات إكسل المعقدة بمساعدة الذكاء الاصطناعي.</span>
                    </p>
                </a>
                
                <a href="https://healthcare-insurance-analysis.fadil.workers.dev/" target="_blank" class="card">
                    <div class="card-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h3 class="card-title">
                        <span class="en-content">Insurance Analyzer</span>
                        <span class="ar-content hidden">محلل التأمين</span>
                    </h3>
                    <p class="card-description">
                        <span class="en-content">AI-driven insurance claims analysis with predictive modeling and fraud detection.</span>
                        <span class="ar-content hidden">تحليل مطالبات التأمين المدعوم بالذكاء الاصطناعي مع النمذجة التنبؤية وكشف الاحتيال.</span>
                    </p>
                </a>
                
                <div class="card">
                    <div class="card-icon">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <h3 class="card-title">
                        <span class="en-content">Healthcare Interoperability</span>
                        <span class="ar-content hidden">قابلية التشغيل البيني للرعاية الصحية</span>
                    </h3>
                    <p class="card-description">
                        <span class="en-content">
                            Universal integration platform with FHIR and HL7 support for seamless data exchange
                            between medical systems. Compliant with global healthcare standards.
                        </span>
                        <span class="ar-content hidden">
                            منصة تكامل عالمية مع دعم FHIR وHL7 لتبادل البيانات بسلاسة
                            بين الأنظمة الطبية. متوافقة مع معايير الرعاية الصحية العالمية.
                        </span>
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3 class="card-title">
                        <span class="en-content">HIPAA & GDPR Compliance</span>
                        <span class="ar-content hidden">الامتثال لـ HIPAA و GDPR</span>
                    </h3>
                    <p class="card-description">
                        <span class="en-content">
                            Automated compliance tools to help healthcare providers meet privacy and 
                            security requirements with minimal effort. Stay compliant with changing regulations.
                        </span>
                        <span class="ar-content hidden">
                            أدوات امتثال آلية لمساعدة مقدمي الرعاية الصحية على تلبية متطلبات الخصوصية
                            والأمان بأقل جهد. البقاء ممتثلاً للوائح المتغيرة.
                        </span>
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">
                        <i class="fas fa-language"></i>
                    </div>
                    <h3 class="card-title">
                        <span class="en-content">Clinical NLP Engine</span>
                        <span class="ar-content hidden">محرك معالجة اللغة الطبيعية السريرية</span>
                    </h3>
                    <p class="card-description">
                        <span class="en-content">
                            Advanced natural language processing specifically trained on medical terminology
                            for accurate analysis of clinical notes, research papers, and patient records.
                        </span>
                        <span class="ar-content hidden">
                            معالجة لغة طبيعية متقدمة مدربة خصيصًا على المصطلحات الطبية
                            للتحليل الدقيق للملاحظات السريرية والأوراق البحثية وسجلات المرضى.
                        </span>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- FHIR/HL7 Interactive Playground -->
    <section class="section" style="background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-tertiary) 100%);">
        <div class="container">
            <h2 class="section-title" style="text-align: center; margin-bottom: 3rem;">
                <i class="fas fa-exchange-alt" style="color: var(--accent-cyan); margin-right: 15px;"></i>
                <span class="en-content">FHIR/HL7 Interoperability Playground</span>
                <span class="ar-content hidden">ملعب التشغيل البيني FHIR/HL7</span>
            </h2>
            <p class="section-subtitle" style="text-align: center; margin-bottom: 3rem;">
                <span class="en-content">Experience real-time healthcare data transformation and interoperability standards</span>
                <span class="ar-content hidden">تجربة تحويل البيانات الصحية في الوقت الفعلي ومعايير التشغيل البيني</span>
            </p>

            <div class="fhir-playground" id="fhirPlayground">
                <!-- Data Format Toggle -->
                <div class="playground-controls">
                    <div class="format-toggle">
                        <button class="format-btn active" data-format="fhir" onclick="switchFormat('fhir')">
                            <i class="fas fa-code"></i>
                            <span>FHIR R4</span>
                        </button>
                        <button class="format-btn" data-format="hl7" onclick="switchFormat('hl7')">
                            <i class="fas fa-file-medical"></i>
                            <span>HL7 v2.x</span>
                        </button>
                        <button class="format-btn" data-format="json" onclick="switchFormat('json')">
                            <i class="fas fa-brackets-curly"></i>
                            <span>JSON</span>
                        </button>
                        <button class="format-btn" data-format="dicom" onclick="switchFormat('dicom')">
                            <i class="fas fa-file-image"></i>
                            <span>DICOM</span>
                        </button>
                    </div>
                    <div class="sample-selector">
                        <select id="sampleSelect" onchange="loadSample(this.value)">
                            <option value="">Select Sample Data...</option>
                            <optgroup label="Patient Data">
                                <option value="patient">Patient Demographics</option>
                                <option value="allergy">Allergy Records</option>
                                <option value="immunization">Immunization History</option>
                            </optgroup>
                            <optgroup label="Clinical Data">
                                <option value="observation">Lab Results (CBC)</option>
                                <option value="chemistry_panel">Chemistry Panel</option>
                                <option value="vital_signs">Vital Signs</option>
                                <option value="clinical_notes">Clinical Notes</option>
                            </optgroup>
                            <optgroup label="Orders & Procedures">
                                <option value="medication">Medication Order</option>
                                <option value="radiology">Radiology Report</option>
                                <option value="procedure">Procedure Request</option>
                            </optgroup>
                            <optgroup label="Scheduling & Admin">
                                <option value="appointment">Appointment Scheduling</option>
                                <option value="discharge">Discharge Summary</option>
                            </optgroup>
                        </select>
                    </div>
                </div>

                <!-- Interactive Data Viewer -->
                <div class="playground-content">
                    <div class="data-input-section">
                        <div class="input-header">
                            <h4>
                                <i class="fas fa-edit"></i>
                                <span class="en-content">Input Data</span>
                                <span class="ar-content hidden">بيانات الإدخال</span>
                            </h4>
                            <div class="input-controls">
                                <button class="btn-small" onclick="validateData()">
                                    <i class="fas fa-check-circle"></i>
                                    Validate
                                </button>
                                <button class="btn-small" onclick="transformData()">
                                    <i class="fas fa-magic"></i>
                                    Transform
                                </button>
                            </div>
                        </div>
                        <textarea id="inputData" placeholder="Paste your FHIR/HL7 data here or select a sample from above..." rows="12"></textarea>
                        <div class="data-status" id="inputStatus">
                            <i class="fas fa-info-circle"></i>
                            Ready for input
                        </div>
                    </div>

                    <div class="transformation-arrow">
                        <div class="arrow-icon">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        <div class="transformation-stats" id="transformStats">
                            <div class="stat-item">
                                <span class="stat-value" id="processTime">--</span>
                                <span class="stat-label">ms</span>
                            </div>
                        </div>
                    </div>

                    <div class="data-output-section">
                        <div class="output-header">
                            <h4>
                                <i class="fas fa-code"></i>
                                <span class="en-content">Transformed Output</span>
                                <span class="ar-content hidden">المخرجات المحولة</span>
                            </h4>
                            <div class="output-controls">
                                <button class="btn-small" onclick="copyOutput()">
                                    <i class="fas fa-copy"></i>
                                    Copy
                                </button>
                                <div class="download-dropdown">
                                    <button class="btn-small dropdown-toggle" onclick="toggleDownloadMenu()">
                                        <i class="fas fa-download"></i>
                                        Download
                                        <i class="fas fa-chevron-down"></i>
                                    </button>
                                    <div class="dropdown-menu" id="downloadMenu">
                                        <a href="#" onclick="downloadOutput('txt')">
                                            <i class="fas fa-file-alt"></i>
                                            Plain Text (.txt)
                                        </a>
                                        <a href="#" onclick="downloadOutput('json')">
                                            <i class="fas fa-file-code"></i>
                                            JSON Format (.json)
                                        </a>
                                        <a href="#" onclick="downloadOutput('xml')">
                                            <i class="fas fa-file-code"></i>
                                            XML Format (.xml)
                                        </a>
                                        <a href="#" onclick="downloadOutput('hl7')">
                                            <i class="fas fa-file-medical"></i>
                                            HL7 Message (.hl7)
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="outputData" class="output-display">
                            <div class="placeholder-message">
                                <i class="fas fa-magic"></i>
                                <p>Transformed data will appear here...</p>
                            </div>
                        </div>
                        <div class="data-status" id="outputStatus">
                            <i class="fas fa-clock"></i>
                            Waiting for input
                        </div>
                    </div>
                </div>

                <!-- Feature Showcase -->
                <div class="feature-showcase">
                    <div class="showcase-item">
                        <div class="showcase-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h5>HIPAA Compliant</h5>
                        <p>All data processing maintains strict privacy standards</p>
                    </div>
                    <div class="showcase-item">
                        <div class="showcase-icon">
                            <i class="fas fa-lightning-bolt"></i>
                        </div>
                        <h5>Real-time Processing</h5>
                        <p>Instant transformation and validation results</p>
                    </div>
                    <div class="showcase-item">
                        <div class="showcase-icon">
                            <i class="fas fa-globe"></i>
                        </div>
                        <h5>Global Standards</h5>
                        <p>Supports FHIR R4, HL7 v2.x, and custom formats</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Consultation Section -->
    <section id="consultation" class="section">
        <div class="container">
            <h2 class="section-title">
                <span class="en-content">Healthcare Consultation</span>
                <span class="ar-content hidden">الاستشارة الطبية</span>
            </h2>
            <p class="section-subtitle">
                <span class="en-content">Schedule a consultation to discuss your healthcare technology needs</span>
                <span class="ar-content hidden">جدولة استشارة لمناقشة احتياجاتك التقنية في مجال الرعاية الصحية</span>
            </p>
            
            <div style="text-align: center; margin: 2rem 0;">
                <button class="btn btn-primary" onclick="openConsultationModal()" style="font-size: 1.2rem; padding: 18px 40px;">
                    <i class="fas fa-calendar-check"></i>
                    <span class="en-content">Request Consultation</span>
                    <span class="ar-content hidden">طلب استشارة</span>
                </button>
            </div>
        </div>
    </section>
    
    <!-- Contact Section -->
    <section id="contact" class="section" style="background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);">
        <div class="container">
            <h2 class="section-title">
                <span class="en-content">Get in Touch</span>
                <span class="ar-content hidden">تواصل معنا</span>
            </h2>
            <p class="section-subtitle">
                <span class="en-content">Ready to transform your healthcare technology? Let's connect and explore possibilities</span>
                <span class="ar-content hidden">مستعد لتحويل تقنية الرعاية الصحية الخاصة بك؟ دعنا نتواصل ونستكشف الإمكانيات</span>
            </p>
            
            <div class="social-links">
                <a href="https://github.com/Fadil369" target="_blank" class="social-link" aria-label="GitHub">
                    <i class="fab fa-github"></i>
                </a>
                <a href="https://linkedin.com/in/brainsait" target="_blank" class="social-link" aria-label="LinkedIn">
                    <i class="fab fa-linkedin"></i>
                </a>
                <a href="https://pypi.org/user/Fadil369/" target="_blank" class="social-link" aria-label="PyPI">
                    <i class="fab fa-python"></i>
                </a>
                <a href="mailto:brainsait@hotmail.com" class="social-link" aria-label="Email">
                    <i class="fas fa-envelope"></i>
                </a>
                <a href="https://brainsait.io" target="_blank" class="social-link" aria-label="Website">
                    <i class="fas fa-globe"></i>
                </a>
                <a href="https://calendly.com/brainsait/consultation" target="_blank" class="social-link" aria-label="Schedule">
                    <i class="fas fa-calendar-alt"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Consultation Modal -->
    <div id="consultationModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeConsultationModal()" aria-label="Close modal">
                <i class="fas fa-times"></i>
            </button>
            
            <h3 style="margin-bottom: 1.5rem; text-align: center; color: var(--accent-cyan);">
                <i class="fas fa-stethoscope"></i>
                <span class="en-content">Healthcare Consultation Request</span>
                <span class="ar-content hidden">طلب استشارة طبية</span>
            </h3>
            
            <form id="consultationForm" onsubmit="submitConsultationForm(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">
                            <span class="en-content">Full Name *</span>
                            <span class="ar-content hidden">الاسم الكامل *</span>
                        </label>
                        <input type="text" name="fullName" class="form-field" required 
                               placeholder="Dr. Sarah Johnson">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            <span class="en-content">Email Address *</span>
                            <span class="ar-content hidden">البريد الإلكتروني *</span>
                        </label>
                        <input type="email" name="email" class="form-field" required 
                               placeholder="sarah@hospital.com">
                    </div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">
                            <span class="en-content">Phone Number</span>
                            <span class="ar-content hidden">رقم الهاتف</span>
                        </label>
                        <input type="tel" name="phone" class="form-field" 
                               placeholder="+1 (555) 123-4567">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            <span class="en-content">Organization</span>
                            <span class="ar-content hidden">المؤسسة</span>
                        </label>
                        <input type="text" name="organization" class="form-field" 
                               placeholder="City General Hospital">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="en-content">Service Type *</span>
                        <span class="ar-content hidden">نوع الخدمة *</span>
                    </label>
                    <select name="serviceType" class="form-field" required>
                        <option value="">
                            <span class="en-content">Select a service...</span>
                            <span class="ar-content hidden">اختر خدمة...</span>
                        </option>
                        <option value="healthcare-ai">Healthcare AI Implementation</option>
                        <option value="fhir-integration">FHIR/HL7 Integration</option>
                        <option value="clinical-nlp">Clinical NLP Solutions</option>
                        <option value="telemedicine">Telemedicine Platform</option>
                        <option value="data-analytics">Healthcare Data Analytics</option>
                        <option value="compliance">HIPAA/GDPR Compliance</option>
                        <option value="custom-development">Custom Development</option>
                        <option value="consultation">General Consultation</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="en-content">Project Description *</span>
                        <span class="ar-content hidden">وصف المشروع *</span>
                    </label>
                    <textarea name="projectDescription" class="form-field" rows="5" required
                              placeholder="Please describe your healthcare technology needs, current challenges, and desired outcomes..."></textarea>
                </div>
                
                <div style="text-align: center; margin-top: 2rem;">
                    <button type="submit" class="btn btn-primary" style="min-width: 200px;">
                        <i class="fas fa-paper-plane"></i>
                        <span class="en-content">Request Consultation</span>
                        <span class="ar-content hidden">طلب استشارة</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Initialize EmailJS with proper configuration
        (function() {
            // EmailJS configuration - Replace with your actual EmailJS public key
            emailjs.init("your_emailjs_public_key"); // Replace with actual EmailJS public key
        })();

        let isArabic = false;
        let currentTheme = 'dark';

        // Initialize particles with performance optimization
        function initParticles() {
            const particlesContainer = document.getElementById('particles');
            if (!particlesContainer) return;
            
            const particleCount = window.innerWidth < 768 ? 20 : 40;
            
            for (let i = 0; i < particleCount; i++) {
                createParticle();
            }
        }

        function createParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 15 + 's';
            particle.style.animationDuration = (15 + Math.random() * 10) + 's';
            document.getElementById('particles')?.appendChild(particle);
            
            // Remove particle after animation
            setTimeout(() => {
                particle.remove();
                if (Math.random() > 0.7) createParticle(); // 30% chance to create new particle
            }, 25000);
        }

        // Theme toggle functionality
        function toggleTheme() {
            const root = document.documentElement;
            const themeToggle = document.getElementById('themeToggle');
            
            if (currentTheme === 'dark') {
                root.setAttribute('data-theme', 'light');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                currentTheme = 'light';
            } else {
                root.removeAttribute('data-theme');
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                currentTheme = 'dark';
            }
            
            localStorage.setItem('theme', currentTheme);
        }

        // Language toggle functionality
        function toggleLanguage(lang) {
            const enElements = document.querySelectorAll('.en-content');
            const arElements = document.querySelectorAll('.ar-content');
            const langOptions = document.querySelectorAll('.lang-option');
            
            if (lang === 'ar') {
                enElements.forEach(el => el.classList.add('hidden'));
                arElements.forEach(el => el.classList.remove('hidden'));
                document.body.dir = 'rtl';
                document.documentElement.lang = 'ar';
                isArabic = true;
            } else {
                enElements.forEach(el => el.classList.remove('hidden'));
                arElements.forEach(el => el.classList.add('hidden'));
                document.body.dir = 'ltr';
                document.documentElement.lang = 'en';
                isArabic = false;
            }
            
            langOptions.forEach(option => {
                option.classList.toggle('active', option.dataset.lang === lang);
            });
            
            localStorage.setItem('language', lang);
        }

        // Mobile menu functionality
        function toggleMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            const menuBtn = document.getElementById('mobileMenuBtn');
            
            navLinks.classList.toggle('active');
            
            const isActive = navLinks.classList.contains('active');
            menuBtn.innerHTML = isActive ? '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
        }

        // Smooth scrolling for navigation links
        function initSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        
                        // Close mobile menu if open
                        const navLinks = document.getElementById('navLinks');
                        const menuBtn = document.getElementById('mobileMenuBtn');
                        if (navLinks.classList.contains('active')) {
                            navLinks.classList.remove('active');
                            menuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                        }
                    }
                });
            });
        }

        // Intersection Observer for animations
        function initScrollAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe cards and sections
            document.querySelectorAll('.card, .business-card, .section').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(el);
            });
        }

        // Modal functions
        function openConsultationModal() {
            document.getElementById('consultationModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeConsultationModal() {
            document.getElementById('consultationModal').classList.remove('active');
            document.body.style.overflow = 'auto';
            
            // Reset form
            document.getElementById('consultationForm').reset();
        }

        // Copy to clipboard function
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification(isArabic ? 'تم النسخ بنجاح!' : 'Copied to clipboard!', 'success');
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showNotification(isArabic ? 'تم النسخ بنجاح!' : 'Copied to clipboard!', 'success');
            });
        }

        // BrainSAIT Innovation Hub Functions
        function launchVRDemo() {
            showNotification(
                isArabic ? 'تم تشغيل عرض الواقع الافتراضي! سيتم فتح العرض التوضيحي في نافذة جديدة.' : 
                'VR Demo launched! The demonstration will open in a new window.',
                'success'
            );
            // In a real implementation, this would launch a WebXR or Three.js VR experience
            window.open('https://vr-demo.brainsait.io', '_blank');
        }

        function openDigitalTwin() {
            showNotification(
                isArabic ? 'فتح التوأم الرقمي للمدينة الذكية...' : 
                'Opening Smart City Digital Twin...',
                'info'
            );
            // In a real implementation, this would open a digital twin visualization
            window.open('https://digital-twin.brainsait.io', '_blank');
        }

        function openRFPGenerator() {
            showNotification(
                isArabic ? 'تشغيل مولد طلبات العروض بالذكاء الاصطناعي...' : 
                'Starting AI-powered RFP Generator...',
                'info'
            );
            // In a real implementation, this would open the RFP generator tool
            window.open('https://rfp-generator.brainsait.io', '_blank');
        }

        // Partner Network Functions
        function showPartnerDetails(partnerType) {
            const partnerDetails = document.getElementById('partner-details');
            const partnerContent = document.getElementById('partner-content');
            
            const partnerData = {
                government: {
                    title: isArabic ? 'الشركاء الحكوميون' : 'Government Partners',
                    partners: [
                        { name: isArabic ? 'وزارة الصحة' : 'Ministry of Health', status: 'Active Partnership' },
                        { name: isArabic ? 'هيئة الاتصالات وتقنية المعلومات' : 'CITC', status: 'Strategic Alliance' },
                        { name: isArabic ? 'مجلس الصحة السعودي' : 'Saudi Health Council', status: 'Collaboration' },
                        { name: isArabic ? 'منصة اعتماد' : 'Etimad Platform', status: 'Integration Partner' }
                    ]
                },
                healthcare: {
                    title: isArabic ? 'شركاء الرعاية الصحية' : 'Healthcare Partners',
                    partners: [
                        { name: isArabic ? 'مستشفى الملك فيصل التخصصي' : 'King Faisal Specialist Hospital', status: 'Technology Partner' },
                        { name: isArabic ? 'مجموعة الدكتور سليمان الحبيب' : 'Dr. Sulaiman Al Habib Group', status: 'Implementation Partner' },
                        { name: isArabic ? 'مستشفى سعود الجامعي' : 'King Saud University Hospital', status: 'Research Partner' },
                        { name: isArabic ? 'المراكز الصحية الأولية' : 'Primary Healthcare Centers', status: 'Service Partner' }
                    ]
                },
                enterprise: {
                    title: isArabic ? 'الشركاء المؤسسيون' : 'Enterprise Partners',
                    partners: [
                        { name: 'Siemens Healthineers', status: 'Technology Integration' },
                        { name: 'Microsoft Healthcare', status: 'Cloud Solutions' },
                        { name: 'IBM Watson Health', status: 'AI Development' },
                        { name: isArabic ? 'مجموعة stc الصحة الرقمية' : 'stc Digital Health Group', status: 'Telecom Solutions' }
                    ]
                },
                academic: {
                    title: isArabic ? 'الشركاء الأكاديميون' : 'Academic Partners',
                    partners: [
                        { name: isArabic ? 'جامعة الملك سعود' : 'King Saud University', status: 'Research Collaboration' },
                        { name: isArabic ? 'جامعة الملك عبدالعزيز' : 'King Abdulaziz University', status: 'Innovation Hub' },
                        { name: 'MIT Healthcare AI Lab', status: 'Joint Research' },
                        { name: isArabic ? 'معهد الذكاء الاصطناعي السعودي' : 'Saudi AI Institute', status: 'Strategic Partnership' }
                    ]
                }
            };

            const data = partnerData[partnerType];
            if (!data) return;

            partnerContent.innerHTML = `
                <h3 style="color: #00d4ff; margin-bottom: 2rem;">${data.title}</h3>
                <div style="display: grid; gap: 1rem;">
                    ${data.partners.map(partner => `
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1.5rem; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="color: #fff; font-weight: 600; margin-bottom: 0.5rem;">${partner.name}</div>
                                <div style="color: #ccc; font-size: 0.9rem;">${partner.status}</div>
                            </div>
                            <div style="background: rgba(0, 212, 255, 0.2); color: #00d4ff; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem;">
                                ${isArabic ? 'نشط' : 'Active'}
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            partnerDetails.style.display = 'block';
            partnerDetails.scrollIntoView({ behavior: 'smooth' });
        }

        function openPartnershipForm() {
            showNotification(
                isArabic ? 'فتح نموذج طلب الشراكة...' : 
                'Opening Partnership Application Form...',
                'info'
            );
            // In a real implementation, this would open a partnership application form
            window.open('https://partnership.brainsait.io', '_blank');
        }

        // Form submission
        function submitConsultationForm(event) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            const submitBtn = form.querySelector('button[type="submit"]');
            
            // Show loading state
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<div class="loading-spinner"></div><span>' + (isArabic ? 'جاري الإرسال...' : 'Sending...') + '</span>';
            
            // Prepare data
            const consultationData = {
                timestamp: new Date().toISOString(),
                language: isArabic ? 'ar' : 'en',
                fullName: formData.get('fullName'),
                email: formData.get('email'),
                phone: formData.get('phone') || 'Not provided',
                organization: formData.get('organization') || 'Not provided',
                serviceType: formData.get('serviceType'),
                projectDescription: formData.get('projectDescription')
            };
            
            // Validate required fields
            if (!consultationData.fullName || !consultationData.email || !consultationData.serviceType || !consultationData.projectDescription) {
                showNotification(isArabic ? 'يرجى ملء جميع الحقول المطلوبة' : 'Please fill in all required fields', 'error');
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i><span>' + (isArabic ? 'حدث خطأ، حاول مرة أخرى' : 'Request Consultation') + '</span>';
                return;
            }
            
            // Send email using EmailJS to brainsait@hotmail.com
            emailjs.send('service_brainsait', 'template_consultation', {
                to_email: 'brainsait@hotmail.com',
                from_name: consultationData.fullName,
                from_email: consultationData.email,
                phone: consultationData.phone,
                organization: consultationData.organization,
                service_type: consultationData.serviceType,
                message: consultationData.projectDescription,
                timestamp: consultationData.timestamp,
                language: consultationData.language,
                subject: `Healthcare Consultation Request from ${consultationData.fullName}`
            }).then(() => {
                showNotification(
                    isArabic ? 'تم إرسال طلب الاستشارة بنجاح! سنتواصل معك قريباً.' : 
                    'Consultation request sent successfully! We\'ll contact you soon.',
                    'success'
                );
                closeConsultationModal();
            }).catch((error) => {
                console.error('EmailJS Error:', error);
                showNotification(
                    isArabic ? 'حدث خطأ في الإرسال. يرجى المحاولة مرة أخرى أو التواصل مباشرة.' : 
                    'Error sending request. Please try again or contact us directly.',
                    'error'
                );
            }).finally(() => {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i><span>' + (isArabic ? 'طلب استشارة' : 'Request Consultation') + '</span>';
            });
        }

        // Notification system
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Trigger animation
            setTimeout(() => notification.classList.add('show'), 100);
            
            // Remove notification
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 300);
            }, 5000);
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize particles
            initParticles();
            
            // Initialize smooth scrolling
            initSmoothScrolling();
            
            // Initialize scroll animations
            initScrollAnimations();
            
            // Load saved preferences
            const savedTheme = localStorage.getItem('theme');
            const savedLanguage = localStorage.getItem('language');
            
            if (savedTheme === 'light') {
                toggleTheme();
            }
            
            if (savedLanguage === 'ar') {
                toggleLanguage('ar');
            }
            
            // Event listeners
            document.getElementById('themeToggle')?.addEventListener('click', toggleTheme);
            document.getElementById('mobileMenuBtn')?.addEventListener('click', toggleMobileMenu);
            
            // Language toggle event listeners
            document.querySelectorAll('.lang-option').forEach(option => {
                option.addEventListener('click', () => {
                    toggleLanguage(option.dataset.lang);
                });
            });
            
            // Close modal when clicking outside
            document.getElementById('consultationModal')?.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeConsultationModal();
                }
            });
            
            // Handle ESC key to close modal
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeConsultationModal();
                }
            });
            
            // Initialize DOM cache
            domCache.init();
            
            // Optimized navbar scroll effect with throttling
            let navScrollTimeout;
            window.addEventListener('scroll', function() {
                if (navScrollTimeout) return;
                
                navScrollTimeout = setTimeout(() => {
                    const nav = domCache.get('.nav');
                    if (nav) {
                        if (window.scrollY > 100) {
                            nav.style.background = 'rgba(10, 10, 15, 0.95)';
                        } else {
                            nav.style.background = 'rgba(10, 10, 15, 0.8)';
                        }
                    }
                    navScrollTimeout = null;
                }, 16); // ~60fps throttling
            });
        });

        // Handle resize events
        window.addEventListener('resize', function() {
            // Reinitialize particles if needed
            if (window.innerWidth < 768) {
                const particles = document.querySelectorAll('.particle');
                if (particles.length > 20) {
                    for (let i = 20; i < particles.length; i++) {
                        particles[i].remove();
                    }
                }
            }
        });

        // ================================
        // CENTRALIZED ANIMATION MANAGER
        // ================================
        class AnimationManager {
            constructor() {
                this.animations = new Map();
                this.isRunning = false;
                this.lastFrameTime = 0;
                this.targetFPS = 60;
                this.frameInterval = 1000 / this.targetFPS;
                this.animationId = null;
                
                // Performance monitoring
                this.frameCount = 0;
                this.performanceStart = performance.now();
                
                // Intersection Observer for performance optimization
                this.intersectionObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        const animation = this.animations.get(entry.target.id);
                        if (animation) {
                            animation.isVisible = entry.isIntersecting;
                            if (entry.isIntersecting && !this.isRunning) {
                                this.start();
                            }
                        }
                    });
                }, { threshold: 0.1 });
            }
            
            register(id, animationCallback, element = null) {
                this.animations.set(id, {
                    callback: animationCallback,
                    isVisible: true,
                    element: element,
                    lastUpdate: 0,
                    fps: 60 // Default FPS for this animation
                });
                
                if (element) {
                    element.id = id;
                    this.intersectionObserver.observe(element);
                }
                
                if (!this.isRunning) {
                    this.start();
                }
            }
            
            unregister(id) {
                const animation = this.animations.get(id);
                if (animation && animation.element) {
                    this.intersectionObserver.unobserve(animation.element);
                }
                this.animations.delete(id);
                
                if (this.animations.size === 0) {
                    this.stop();
                }
            }
            
            start() {
                if (this.isRunning) return;
                this.isRunning = true;
                this.animate();
            }
            
            stop() {
                this.isRunning = false;
                if (this.animationId) {
                    cancelAnimationFrame(this.animationId);
                    this.animationId = null;
                }
            }
            
            animate(currentTime = 0) {
                if (!this.isRunning) return;
                
                // Frame rate control
                const deltaTime = currentTime - this.lastFrameTime;
                if (deltaTime < this.frameInterval) {
                    this.animationId = requestAnimationFrame((time) => this.animate(time));
                    return;
                }
                
                this.lastFrameTime = currentTime;
                this.frameCount++;
                
                // Execute visible animations only
                for (const [id, animation] of this.animations) {
                    if (animation.isVisible) {
                        const animationDelta = currentTime - animation.lastUpdate;
                        const animationInterval = 1000 / animation.fps;
                        
                        if (animationDelta >= animationInterval) {
                            animation.callback(currentTime, deltaTime);
                            animation.lastUpdate = currentTime;
                        }
                    }
                }
                
                // Performance monitoring (every 60 frames)
                if (this.frameCount % 60 === 0) {
                    const now = performance.now();
                    const fps = 60000 / (now - this.performanceStart);
                    this.performanceStart = now;
                    
                    // Adjust frame rate if performance is poor
                    if (fps < 30) {
                        this.targetFPS = 30;
                        this.frameInterval = 1000 / 30;
                    } else if (fps > 50) {
                        this.targetFPS = 60;
                        this.frameInterval = 1000 / 60;
                    }
                }
                
                this.animationId = requestAnimationFrame((time) => this.animate(time));
            }
        }
        
        // Global animation manager instance
        const animationManager = new AnimationManager();

        // ================================
        // DOM CACHE MANAGER FOR PERFORMANCE
        // ================================
        class DOMCache {
            constructor() {
                this.cache = new Map();
                this.observers = new Map();
                this.initialized = false;
            }
            
            init() {
                if (this.initialized) return;
                
                // Cache commonly used elements
                this.cacheElements([
                    'body',
                    '.nav',
                    '.hero',
                    '.hero-content',
                    '#neuralNetwork',
                    '.particles',
                    '.impact-counter',
                    '.packages-grid',
                    '.medical-chat',
                    '.fhir-playground',
                    '#chatModal',
                    '#fhirModal',
                    '#consultationModal'
                ]);
                
                this.initialized = true;
            }
            
            cacheElements(selectors) {
                selectors.forEach(selector => {
                    try {
                        const elements = selector.startsWith('#') || selector === 'body' 
                            ? [document.querySelector(selector)]
                            : Array.from(document.querySelectorAll(selector));
                        
                        if (elements[0]) { // Only cache if element exists
                            this.cache.set(selector, elements);
                        }
                    } catch (error) {
                        console.warn(`Failed to cache selector: ${selector}`, error);
                    }
                });
            }
            
            get(selector) {
                if (!this.cache.has(selector)) {
                    // Lazy load if not cached
                    this.cacheElements([selector]);
                }
                
                const elements = this.cache.get(selector);
                return elements ? (elements.length === 1 ? elements[0] : elements) : null;
            }
            
            refresh(selector = null) {
                if (selector) {
                    this.cache.delete(selector);
                    this.cacheElements([selector]);
                } else {
                    // Refresh all cached elements
                    const selectors = Array.from(this.cache.keys());
                    this.cache.clear();
                    this.cacheElements(selectors);
                }
            }
            
            // Batch DOM operations for better performance
            batchOperation(operations) {
                const fragment = document.createDocumentFragment();
                operations.forEach(op => {
                    if (typeof op === 'function') {
                        op(fragment);
                    }
                });
                return fragment;
            }
        }
        
        // Global DOM cache instance
        const domCache = new DOMCache();

        // ================================
        // PERFORMANCE MONITOR & MEMORY MANAGER
        // ================================
        class PerformanceMonitor {
            constructor() {
                this.metrics = {
                    fps: 0,
                    memoryUsage: 0,
                    renderTime: 0,
                    jsHeapSize: 0
                };
                
                this.observers = [];
                this.cleanupTasks = [];
                this.memoryThreshold = 50 * 1024 * 1024; // 50MB threshold
                
                this.init();
            }
            
            init() {
                // Memory monitoring
                if (performance.memory) {
                    setInterval(() => {
                        this.metrics.jsHeapSize = performance.memory.usedJSHeapSize;
                        this.metrics.memoryUsage = (performance.memory.usedJSHeapSize / performance.memory.jsHeapSizeLimit) * 100;
                        
                        // Trigger cleanup if memory usage is high
                        if (this.metrics.jsHeapSize > this.memoryThreshold) {
                            this.performMemoryCleanup();
                        }
                    }, 5000); // Check every 5 seconds
                }
                
                // Performance observer for long tasks
                if ('PerformanceObserver' in window) {
                    const observer = new PerformanceObserver((list) => {
                        for (const entry of list.getEntries()) {
                            if (entry.duration > 50) { // Tasks longer than 50ms
                                console.warn(`Long task detected: ${entry.duration}ms`);
                                this.optimizeForPerformance();
                            }
                        }
                    });
                    
                    try {
                        observer.observe({ entryTypes: ['longtask'] });
                        this.observers.push(observer);
                    } catch (e) {
                        console.warn('Long task observer not supported');
                    }
                }
                
                // Page visibility API for performance optimization
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden) {
                        this.pauseNonEssentialOperations();
                    } else {
                        this.resumeOperations();
                    }
                });
            }
            
            performMemoryCleanup() {

                
                // Execute registered cleanup tasks
                this.cleanupTasks.forEach(task => {
                    try {
                        task();
                    } catch (error) {
                        console.warn('Cleanup task failed:', error);
                    }
                });
                
                // Force garbage collection if available
                if (window.gc && typeof window.gc === 'function') {
                    window.gc();
                }
                
                // Refresh DOM cache to remove stale references
                domCache.refresh();
            }
            
            registerCleanupTask(task) {
                this.cleanupTasks.push(task);
            }
            
            optimizeForPerformance() {
                // Reduce animation quality temporarily
                if (animationManager) {
                    animationManager.targetFPS = Math.max(30, animationManager.targetFPS - 10);
                }
                
                // Reduce particle count
                const particles = domCache.get('.particle');
                if (particles && particles.length > 10) {
                    for (let i = particles.length - 1; i >= 10; i--) {
                        if (particles[i] && particles[i].remove) {
                            particles[i].remove();
                        }
                    }
                }
            }
            
            pauseNonEssentialOperations() {
                // Pause animations when page is not visible
                if (animationManager) {
                    animationManager.stop();
                }
                
                // Clear intervals and timeouts
                this.pausedOperations = true;
            }
            
            resumeOperations() {
                // Resume animations when page becomes visible
                if (animationManager && this.pausedOperations) {
                    animationManager.start();
                }
                
                this.pausedOperations = false;
            }
            
            getMetrics() {
                return { ...this.metrics };
            }
            
            destroy() {
                this.observers.forEach(observer => observer.disconnect());
                this.observers = [];
                this.cleanupTasks = [];
            }
        }
        
        // Global performance monitor instance
        const performanceMonitor = new PerformanceMonitor();

        // ================================
        // MOBILE & BATTERY OPTIMIZATION MANAGER
        // ================================
        class MobileBatteryOptimizer {
            constructor() {
                this.isMobile = /Mobi|Android/i.test(navigator.userAgent) || window.innerWidth < 768;
                this.isLowPowerMode = false;
                this.batteryLevel = 1;
                this.isCharging = true;
                
                this.init();
            }
            
            async init() {
                // Battery API for power-conscious optimization
                if ('getBattery' in navigator) {
                    try {
                        const battery = await navigator.getBattery();
                        this.batteryLevel = battery.level;
                        this.isCharging = battery.charging;
                        
                        // Monitor battery changes
                        battery.addEventListener('levelchange', () => {
                            this.batteryLevel = battery.level;
                            this.adjustPerformanceForBattery();
                        });
                        
                        battery.addEventListener('chargingchange', () => {
                            this.isCharging = battery.charging;
                            this.adjustPerformanceForBattery();
                        });
                        
                        this.adjustPerformanceForBattery();
                    } catch (error) {
                        console.warn('Battery API not available');
                    }
                }
                
                // Device orientation and connection monitoring
                if ('connection' in navigator) {
                    const connection = navigator.connection;
                    if (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g') {
                        this.enableLowPowerMode();
                    }
                    
                    connection.addEventListener('change', () => {
                        if (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g') {
                            this.enableLowPowerMode();
                        } else {
                            this.disableLowPowerMode();
                        }
                    });
                }
                
                // Reduce motion preference
                if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                    this.enableLowPowerMode();
                }
                
                // Mobile-specific optimizations
                if (this.isMobile) {
                    this.applyMobileOptimizations();
                }
            }
            
            adjustPerformanceForBattery() {
                // Enable power saving when battery is low and not charging
                if (this.batteryLevel < 0.3 && !this.isCharging) {
                    this.enableLowPowerMode();
                } else if (this.batteryLevel > 0.5 || this.isCharging) {
                    this.disableLowPowerMode();
                }
            }
            
            enableLowPowerMode() {
                if (this.isLowPowerMode) return;
                
                this.isLowPowerMode = true;

                
                // Reduce animation frame rate
                if (animationManager) {
                    animationManager.targetFPS = 30;
                    animationManager.frameInterval = 1000 / 30;
                }
                
                // Disable heavy visual effects
                document.body.classList.add('low-power-mode');
                
                // Reduce particle count
                const particles = domCache.get('.particles');
                if (particles) {
                    particles.style.opacity = '0.3';
                }
                
                // Pause non-essential animations
                const style = document.createElement('style');
                style.id = 'low-power-styles';
                style.textContent = `
                    .low-power-mode .particle { animation-duration: 30s !important; }
                    .low-power-mode .gradient-bg { animation: none !important; }
                    .low-power-mode .glow-effect { opacity: 0.3 !important; }
                    .low-power-mode .pulse-animation { animation-duration: 4s !important; }
                `;
                document.head.appendChild(style);
            }
            
            disableLowPowerMode() {
                if (!this.isLowPowerMode) return;
                
                this.isLowPowerMode = false;

                
                // Restore animation frame rate
                if (animationManager) {
                    animationManager.targetFPS = 60;
                    animationManager.frameInterval = 1000 / 60;
                }
                
                // Re-enable visual effects
                document.body.classList.remove('low-power-mode');
                
                // Restore particle opacity
                const particles = domCache.get('.particles');
                if (particles) {
                    particles.style.opacity = '';
                }
                
                // Remove low power styles
                const lowPowerStyles = document.getElementById('low-power-styles');
                if (lowPowerStyles) {
                    lowPowerStyles.remove();
                }
            }
            
            applyMobileOptimizations() {

                
                // Reduce initial particle count
                const particleContainer = domCache.get('.particles');
                if (particleContainer) {
                    const particles = particleContainer.children;
                    for (let i = particles.length - 1; i >= Math.floor(particles.length * 0.5); i--) {
                        if (particles[i]) {
                            particles[i].remove();
                        }
                    }
                }
                
                // Optimize touch interactions
                document.body.style.touchAction = 'manipulation';
                
                // Reduce canvas resolution on mobile
                const canvas = domCache.get('#neuralNetwork');
                if (canvas) {
                    canvas.style.transform = 'scale(0.8)';
                    canvas.style.transformOrigin = 'center';
                }
                
                // Mobile-specific CSS optimizations
                const mobileStyles = document.createElement('style');
                mobileStyles.id = 'mobile-optimizations';
                mobileStyles.textContent = `
                    @media (max-width: 768px) {
                        .hero { min-height: 80vh; }
                        .particle { opacity: 0.6; animation-duration: 20s; }
                        .glass-card { backdrop-filter: blur(10px); }
                        .gradient-bg { opacity: 0.7; }
                        .neural-connection { opacity: 0.5; }
                    }
                `;
                document.head.appendChild(mobileStyles);
            }
            
            // Intersection Observer for lazy loading and performance
            createIntersectionObserver(elements, callback, options = {}) {
                const observer = new IntersectionObserver(callback, {
                    rootMargin: '50px',
                    threshold: 0.1,
                    ...options
                });
                
                elements.forEach(element => {
                    if (element) observer.observe(element);
                });
                
                return observer;
            }
        }
        
        // Global mobile battery optimizer instance
        const mobileBatteryOptimizer = new MobileBatteryOptimizer();

        // ================================
        // SERVICE WORKER FOR CACHING OPTIMIZATION
        // ================================
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // Register service worker for caching
                const swScript = `
                    const CACHE_NAME = 'dr-fadil-profile-v1.2';
                    const urlsToCache = [
                        '/',
                        '/index.html',
                        'https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700',
                        'https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500',
                        'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css'
                    ];

                    self.addEventListener('install', (event) => {
                        event.waitUntil(
                            caches.open(CACHE_NAME)
                                .then((cache) => cache.addAll(urlsToCache))
                        );
                    });

                    self.addEventListener('fetch', (event) => {
                        event.respondWith(
                            caches.match(event.request)
                                .then((response) => {
                                    if (response) {
                                        return response;
                                    }
                                    return fetch(event.request);
                                }
                            )
                        );
                    });
                `;
                
                const swBlob = new Blob([swScript], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(swBlob);
                
                navigator.serviceWorker.register(swUrl)

                    .catch(error => console.warn('Service Worker registration failed:', error));
            });
        }

        // ================================
        // PERFORMANCE-OPTIMIZED NEURAL NETWORK VISUALIZATION
        // ================================
        class NeuralNetworkVisualizer {
            constructor(canvasId) {
                this.canvas = document.getElementById(canvasId);
                
                // Performance optimizations
                this.isVisible = true;
                this.isAnimating = false;
                this.animationId = null;
                this.lastFrameTime = 0;
                this.targetFPS = 60;
                this.frameInterval = 1000 / this.targetFPS;
                
                // GPU acceleration hints
                this.canvas.style.willChange = 'transform';
                this.canvas.style.transform = 'translateZ(0)';
                
                // Context optimization with alpha disabled for better performance
                this.ctx = this.canvas.getContext('2d', {
                    alpha: false,
                    desynchronized: true,
                    antialias: false,
                    preserveDrawingBuffer: false
                });
                
                // Performance state
                this.nodes = [];
                this.connections = [];
                this.mousePosition = { x: 0, y: 0 };
                this.isInteracting = false;
                this.pulseIntensity = 0;
                this.devicePixelRatio = Math.min(window.devicePixelRatio || 1, 2); // Cap at 2x for performance
                
                // Mobile optimization
                this.isMobile = window.innerWidth < 768;
                this.nodeCount = this.isMobile ? 0.6 : 1; // Reduce nodes on mobile
                
                this.setupCanvas();
                this.createNetwork();
                this.bindEvents();
                this.registerWithAnimationManager();
            }

            setupCanvas() {
                const updateCanvasSize = () => {
                    const rect = this.canvas.getBoundingClientRect();
                    const displayWidth = rect.width;
                    const displayHeight = rect.height;
                    
                    // Set actual size in memory (scaled for high-DPI)
                    this.canvas.width = displayWidth * this.devicePixelRatio;
                    this.canvas.height = displayHeight * this.devicePixelRatio;
                    
                    // Scale display size back down
                    this.canvas.style.width = displayWidth + 'px';
                    this.canvas.style.height = displayHeight + 'px';
                    
                    // Scale drawing context so everything draws at correct size
                    this.ctx.scale(this.devicePixelRatio, this.devicePixelRatio);
                    
                    // Update mobile state
                    this.isMobile = window.innerWidth < 768;
                };
                
                updateCanvasSize();
                
                // Throttled resize handler for better performance
                let resizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(updateCanvasSize, 150);
                });
            }

            createNetwork() {
                // Create neural network nodes with medical relevance
                // Performance-optimized layer counts based on device capabilities
                const baseLayers = [
                    { count: 8, label: 'Symptoms Input', color: '#00d4ff' },
                    { count: 12, label: 'Feature Extraction', color: '#9333ea' },
                    { count: 16, label: 'Deep Analysis', color: '#ec4899' },
                    { count: 10, label: 'Clinical Reasoning', color: '#10b981' },
                    { count: 5, label: 'Diagnosis Output', color: '#f59e0b' }
                ];
                
                // Scale down for mobile devices
                const layers = baseLayers.map(layer => ({
                    ...layer,
                    count: Math.ceil(layer.count * this.nodeCount)
                }));

                let nodeId = 0;
                layers.forEach((layer, layerIndex) => {
                    const layerNodes = [];
                    const x = (layerIndex + 1) * (this.canvas.width / (layers.length + 1));
                    
                    for (let i = 0; i < layer.count; i++) {
                        const y = (i + 1) * (this.canvas.height / (layer.count + 1));
                        const node = {
                            id: nodeId++,
                            x: x,
                            y: y,
                            baseX: x,
                            baseY: y,
                            radius: Math.random() * 8 + 4,
                            color: layer.color,
                            layer: layerIndex,
                            activation: Math.random(),
                            pulsePhase: Math.random() * Math.PI * 2,
                            connections: []
                        };
                        layerNodes.push(node);
                        this.nodes.push(node);
                    }

                    // Create connections to next layer
                    if (layerIndex < layers.length - 1) {
                        const nextLayerStartIndex = this.nodes.length;
                        layerNodes.forEach(node => {
                            // Connect to 3-5 random nodes in next layer
                            const connectionCount = Math.floor(Math.random() * 3) + 3;
                            for (let i = 0; i < connectionCount; i++) {
                                const targetIndex = Math.floor(Math.random() * layers[layerIndex + 1].count);
                                const connection = {
                                    from: node.id,
                                    to: nextLayerStartIndex + targetIndex,
                                    weight: Math.random() * 2 - 1,
                                    strength: Math.random()
                                };
                                this.connections.push(connection);
                            }
                        });
                    }
                });
            }

            bindEvents() {
                // Throttled mousemove handler for better performance
                let mouseMoveTimeout;
                this.canvas.addEventListener('mousemove', (e) => {
                    if (mouseMoveTimeout) return; // Skip if already scheduled
                    
                    mouseMoveTimeout = setTimeout(() => {
                        const rect = this.canvas.getBoundingClientRect();
                        this.mousePosition.x = e.clientX - rect.left;
                        this.mousePosition.y = e.clientY - rect.top;
                        
                        // Optimized proximity detection (reduced iterations)
                        const proximityThreshold = 100;
                        let foundInteraction = false;
                        
                        for (let i = 0; i < this.nodes.length && !foundInteraction; i += 2) { // Skip every other node for performance
                            const node = this.nodes[i];
                            const dx = node.x - this.mousePosition.x;
                            const dy = node.y - this.mousePosition.y;
                            const distanceSquared = dx * dx + dy * dy; // Avoid Math.sqrt for performance
                            
                            if (distanceSquared < proximityThreshold * proximityThreshold) {
                                const distance = Math.sqrt(distanceSquared);
                                node.activation = Math.min(1, 1 - (distance / proximityThreshold));
                                this.isInteracting = true;
                                foundInteraction = true;
                            }
                        }
                        
                        mouseMoveTimeout = null;
                    }, 16); // ~60fps throttling
                });

                // Throttled scroll handler for medical sections
                let scrollTimeout;
                window.addEventListener('scroll', () => {
                    if (scrollTimeout) return;
                    
                    scrollTimeout = setTimeout(() => {
                        const scrollProgress = window.scrollY / (document.body.scrollHeight - window.innerHeight);
                        this.pulseIntensity = scrollProgress;
                        
                        // Activate neurons based on which section is in view
                        const sections = ['home', 'projects', 'packages', 'tools'];
                        const currentSection = Math.floor(scrollProgress * sections.length);
                        this.activateLayer(currentSection);
                        
                        scrollTimeout = null;
                    }, 100); // 10fps throttling for scroll
                });
            }

            activateLayer(layerIndex) {
                this.nodes.forEach(node => {
                    if (node.layer === layerIndex) {
                        node.activation = Math.max(0.7, node.activation);
                    }
                });
            }

            registerWithAnimationManager() {
                // Register with centralized animation manager
                animationManager.register(
                    'neural-network',
                    (currentTime, deltaTime) => this.animate(currentTime, deltaTime),
                    this.canvas
                );
            }

            animate(currentTime = 0, deltaTime = 0) {
                // Performance-optimized clearing
                this.ctx.fillStyle = '#0a0a0f'; // Background color
                this.ctx.fillRect(0, 0, this.canvas.width / this.devicePixelRatio, this.canvas.height / this.devicePixelRatio);
                
                const time = currentTime * 0.001;
                
                // Batch connection rendering for better performance
                this.ctx.lineWidth = 1;
                this.connections.forEach(connection => {
                    const fromNode = this.nodes[connection.from];
                    const toNode = this.nodes.find(n => n.id === connection.to);
                    
                    if (!fromNode || !toNode) return;
                    
                    const alpha = Math.abs(connection.weight) * (fromNode.activation + toNode.activation) / 2;
                    if (alpha < 0.1) return; // Skip very faint connections for performance
                    
                    this.ctx.strokeStyle = `rgba(0, 212, 255, ${alpha * 0.5})`;
                    this.ctx.lineWidth = Math.max(1, Math.abs(connection.weight) * 2);
                    
                    this.ctx.beginPath();
                    this.ctx.moveTo(fromNode.x, fromNode.y);
                    this.ctx.lineTo(toNode.x, toNode.y);
                    this.ctx.stroke();
                });
                
                // Batch data packet rendering (only for high-activation nodes)
                const activePackets = [];
                this.connections.forEach(connection => {
                    const fromNode = this.nodes[connection.from];
                    const toNode = this.nodes.find(n => n.id === connection.to);
                    
                    if (!fromNode || !toNode || fromNode.activation <= 0.5) return;
                    
                    const progress = (time * 2) % 1;
                    const packetX = fromNode.x + (toNode.x - fromNode.x) * progress;
                    const packetY = fromNode.y + (toNode.y - fromNode.y) * progress;
                    
                    activePackets.push({ x: packetX, y: packetY, color: fromNode.color });
                });
                
                // Render all packets in batch
                activePackets.forEach(packet => {
                    this.ctx.fillStyle = packet.color;
                    this.ctx.beginPath();
                    this.ctx.arc(packet.x, packet.y, 3, 0, Math.PI * 2);
                    this.ctx.fill();
                });
                
                // Optimized node rendering with reduced gradient calculations
                this.nodes.forEach(node => {
                    node.pulsePhase += 0.02;
                    const pulse = Math.sin(node.pulsePhase + time) * 0.5 + 0.5;
                    const radius = node.radius + pulse * node.activation * 3; // Reduced pulse intensity
                    
                    // Skip very small nodes for performance
                    if (radius < 2) return;
                    
                    // Medical heartbeat-style pulsing (optimized)
                    const heartbeatPulse = Math.abs(Math.sin(time * 2 + node.pulsePhase)) * node.activation;
                    
                    // Simplified glow effect (only for highly active nodes)
                    if (node.activation > 0.6) {
                        const gradient = this.ctx.createRadialGradient(
                            node.x, node.y, 0,
                            node.x, node.y, radius * 1.5
                        );
                        gradient.addColorStop(0, node.color);
                        gradient.addColorStop(1, 'transparent');
                        
                        this.ctx.fillStyle = gradient;
                        this.ctx.beginPath();
                        this.ctx.arc(node.x, node.y, radius * 1.5, 0, Math.PI * 2);
                        this.ctx.fill();
                    }
                    
                    // Core node (always render)
                    this.ctx.fillStyle = node.color;
                    this.ctx.globalAlpha = 0.7 + heartbeatPulse * 0.3;
                    this.ctx.beginPath();
                    this.ctx.arc(node.x, node.y, Math.max(2, radius), 0, Math.PI * 2);
                    this.ctx.fill();
                    this.ctx.globalAlpha = 1;
                    
                    // Decay activation (optimized)
                    node.activation *= 0.995;
                });
                
                // Animation continues via centralized manager
            }
        }

        // ================================
        // MEDICAL AI CHAT ASSISTANT
        // ================================
        class MedicalAIAssistant {
            constructor() {
                this.isOpen = false;
                this.knowledgeBase = {
                    'brainsait': 'BrainSAIT is a revolutionary healthcare AI platform that combines clinical expertise with cutting-edge technology to improve patient outcomes.',
                    'fhir': 'FHIR (Fast Healthcare Interoperability Resources) is a standard for health information exchange, enabling seamless data sharing across healthcare systems.',
                    'hl7': 'HL7 is a set of international standards for transfer of clinical and administrative data between software applications used by healthcare providers.',
                    'pyheart': 'brainsait-pyheart is a Python package for healthcare interoperability and workflow management with HIPAA compliance.',
                    'pybrain': 'brainsait-pybrain is an AI-powered clinical NLP platform for healthcare data harmonization and analysis.',
                    'clinical nlp': 'Clinical Natural Language Processing involves extracting meaningful information from medical texts and electronic health records.',
                    'ai diagnosis': 'AI diagnostic systems use machine learning to analyze medical data and assist healthcare professionals in making accurate diagnoses.',
                    'telemedicine': 'Telemedicine leverages technology to provide healthcare services remotely, improving access to care especially in underserved areas.'
                };
                this.createChatInterface();
                this.bindEvents();
            }

            createChatInterface() {
                const chatHTML = `
                    <div id="aiChatAssistant" class="ai-chat-assistant">
                        <div class="chat-header">
                            <div class="chat-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="chat-title">
                                <h4>Medical AI Assistant</h4>
                                <p>Ask about BrainSAIT, FHIR, HL7, or healthcare AI</p>
                            </div>
                            <button class="chat-close" onclick="medicalAI.closeChat()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="chat-messages" id="chatMessages">
                            <div class="chat-message ai-message">
                                <div class="message-avatar">
                                    <i class="fas fa-stethoscope"></i>
                                </div>
                                <div class="message-content">
                                    <p>Hello! I'm Dr. Fadil's AI assistant. I can help you learn about BrainSAIT, healthcare interoperability, FHIR/HL7 standards, and our PyPI packages. What would you like to know?</p>
                                </div>
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <input type="text" id="chatInput" placeholder="Ask about healthcare AI, FHIR, HL7..." onkeypress="if(event.key==='Enter') medicalAI.sendMessage()">
                            <button onclick="medicalAI.sendMessage()">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                    <button id="aiChatToggle" class="ai-chat-toggle" onclick="medicalAI.toggleChat()">
                        <i class="fas fa-comment-medical"></i>
                        <span class="chat-badge">AI</span>
                    </button>
                `;
                document.body.insertAdjacentHTML('beforeend', chatHTML);
            }

            toggleChat() {
                const chatAssistant = document.getElementById('aiChatAssistant');
                const chatToggle = document.getElementById('aiChatToggle');
                
                this.isOpen = !this.isOpen;
                
                if (this.isOpen) {
                    chatAssistant.classList.add('active');
                    chatToggle.style.transform = 'scale(0.9)';
                    document.getElementById('chatInput').focus();
                } else {
                    chatAssistant.classList.remove('active');
                    chatToggle.style.transform = 'scale(1)';
                }
            }

            closeChat() {
                this.isOpen = false;
                document.getElementById('aiChatAssistant').classList.remove('active');
                document.getElementById('aiChatToggle').style.transform = 'scale(1)';
            }

            sendMessage() {
                const input = document.getElementById('chatInput');
                const message = input.value.trim();
                
                if (!message) return;
                
                this.addMessage(message, 'user');
                input.value = '';
                
                // Simulate typing indicator
                this.showTypingIndicator();
                
                setTimeout(() => {
                    this.hideTypingIndicator();
                    const response = this.generateResponse(message);
                    this.addMessage(response, 'ai');
                }, 1000 + Math.random() * 1000);
            }

            addMessage(content, type) {
                const messagesContainer = document.getElementById('chatMessages');
                const messageHTML = `
                    <div class="chat-message ${type}-message">
                        <div class="message-avatar">
                            <i class="fas fa-${type === 'user' ? 'user' : 'stethoscope'}"></i>
                        </div>
                        <div class="message-content">
                            <p>${content}</p>
                        </div>
                    </div>
                `;
                messagesContainer.insertAdjacentHTML('beforeend', messageHTML);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            showTypingIndicator() {
                const messagesContainer = document.getElementById('chatMessages');
                const typingHTML = `
                    <div class="chat-message ai-message typing-indicator" id="typingIndicator">
                        <div class="message-avatar">
                            <i class="fas fa-stethoscope"></i>
                        </div>
                        <div class="message-content">
                            <div class="typing-dots">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                `;
                messagesContainer.insertAdjacentHTML('beforeend', typingHTML);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            hideTypingIndicator() {
                const typingIndicator = document.getElementById('typingIndicator');
                if (typingIndicator) {
                    typingIndicator.remove();
                }
            }

            generateResponse(message) {
                const lowerMessage = message.toLowerCase();
                
                // Check for keywords in knowledge base
                for (const [keyword, response] of Object.entries(this.knowledgeBase)) {
                    if (lowerMessage.includes(keyword)) {
                        return response;
                    }
                }
                
                // Context-aware responses
                if (lowerMessage.includes('how') || lowerMessage.includes('what')) {
                    if (lowerMessage.includes('work') || lowerMessage.includes('function')) {
                        return "Dr. Fadil's work focuses on bridging the gap between clinical practice and technology. His PyPI packages provide healthcare interoperability solutions that comply with HIPAA and support FHIR/HL7 standards.";
                    }
                    if (lowerMessage.includes('contact') || lowerMessage.includes('reach')) {
                        return "You can contact Dr. Fadil through the consultation form on this website or email brainsait@hotmail.com for healthcare AI and interoperability solutions.";
                    }
                }
                
                if (lowerMessage.includes('python') || lowerMessage.includes('pypi')) {
                    return "Dr. Fadil has developed two main PyPI packages: brainsait-pyheart for healthcare workflows and brainsait-pybrain for AI-powered clinical analysis. Both are available on PyPI and focus on medical data interoperability.";
                }
                
                if (lowerMessage.includes('thank') || lowerMessage.includes('thanks')) {
                    return "You're welcome! I'm here to help you learn about Dr. Fadil's work in healthcare AI and medical technology innovation.";
                }
                
                // Default responses
                const defaultResponses = [
                    "That's an interesting question about healthcare technology. Dr. Fadil specializes in FHIR/HL7 interoperability and clinical AI systems.",
                    "I'd recommend exploring the PyPI packages section to learn more about Dr. Fadil's healthcare AI solutions.",
                    "For specific technical questions about BrainSAIT platform or healthcare interoperability, you might want to schedule a consultation.",
                    "Dr. Fadil's expertise spans clinical practice, healthcare AI, and medical data standards. What specific area interests you most?"
                ];
                
                return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
            }

            bindEvents() {
                // Auto-pulse the chat toggle when user seems interested
                let scrollTimeout;
                window.addEventListener('scroll', () => {
                    clearTimeout(scrollTimeout);
                    scrollTimeout = setTimeout(() => {
                        if (!this.isOpen && Math.random() < 0.1) {
                            const toggle = document.getElementById('aiChatToggle');
                            toggle.style.animation = 'pulse 2s ease-in-out';
                            setTimeout(() => {
                                toggle.style.animation = '';
                            }, 2000);
                        }
                    }, 2000);
                });
            }
        }

        // ================================
        // FHIR/HL7 PLAYGROUND FUNCTIONALITY
        // ================================
        class FHIRPlayground {
            constructor() {
                this.currentFormat = 'fhir';
                this.sampleData = {
                    patient: {
                        fhir: `{
  "resourceType": "Patient",
  "id": "example-patient-001",
  "identifier": [
    {
      "use": "usual",
      "type": {
        "coding": [
          {
            "system": "http://terminology.hl7.org/CodeSystem/v2-0203",
            "code": "MR"
          }
        ]
      },
      "system": "urn:oid:1.2.36.146.595.217.0.1",
      "value": "12345"
    }
  ],
  "active": true,
  "name": [
    {
      "use": "official",
      "family": "Doe",
      "given": ["John", "Michael"]
    }
  ],
  "telecom": [
    {
      "system": "phone",
      "value": "+1-555-123-4567",
      "use": "home"
    },
    {
      "system": "email",
      "value": "john.doe@example.com"
    }
  ],
  "gender": "male",
  "birthDate": "1985-03-15",
  "address": [
    {
      "use": "home",
      "line": ["123 Main Street"],
      "city": "Boston",
      "state": "MA",
      "postalCode": "02101",
      "country": "US"
    }
  ]
}`,
                        hl7: `MSH|^~\\&|HIS|RIH|EKG|EKG~ECG|199904140038||ADT^A12^ADT_A01|12345|P|2.5
PID|1||PATID1234^5^M11^ADT1^MR^UNIVERSITY HOSPITAL~123456789^^^USSSA^SS||DOE^JOHN^MICHAEL^||19850315|M||C|123 MAIN STREET^APARTMENT 1^BOSTON^MA^02101^USA|GL|(555)123-4567|(555)123-4568|S||PATID12345001^2^M10^ADT1^AN^A|123456789|9-87654^NC|`,
                        json: `{
  "patient_id": "12345",
  "first_name": "John",
  "last_name": "Doe",
  "date_of_birth": "1985-03-15",
  "gender": "male",
  "phone": "+1-555-123-4567",
  "email": "john.doe@example.com",
  "address": {
    "street": "123 Main Street",
    "city": "Boston",
    "state": "MA",
    "zip": "02101"
  }
}`,
                        dicom: `{
  "00080005": {
    "vr": "CS",
    "Value": ["ISO_IR 100"]
  },
  "00080016": {
    "vr": "UI", 
    "Value": ["1.2.840.10008.5.1.4.1.1.2"]
  },
  "00100010": {
    "vr": "PN",
    "Value": [{
      "Alphabetic": "Doe^John^Michael"
    }]
  },
  "00100020": {
    "vr": "LO",
    "Value": ["12345"]
  },
  "00100030": {
    "vr": "DA",
    "Value": ["19850315"]
  },
  "00100040": {
    "vr": "CS",
    "Value": ["M"]
  },
  "00101010": {
    "vr": "AS",
    "Value": ["039Y"]
  },
  "00101020": {
    "vr": "DS",
    "Value": ["180"]
  },
  "00101030": {
    "vr": "DS",
    "Value": ["75"]
  }
}`
                    },
                    allergy: {
                        fhir: `{
  "resourceType": "AllergyIntolerance",
  "id": "allergy-penicillin-001",
  "clinicalStatus": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",
        "code": "active",
        "display": "Active"
      }
    ]
  },
  "verificationStatus": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",
        "code": "confirmed",
        "display": "Confirmed"
      }
    ]
  },
  "type": "allergy",
  "category": ["medication"],
  "criticality": "high",
  "code": {
    "coding": [
      {
        "system": "http://www.nlm.nih.gov/research/umls/rxnorm",
        "code": "7980",
        "display": "Penicillin"
      }
    ]
  },
  "patient": {
    "reference": "Patient/example-patient-001"
  },
  "onsetDateTime": "2018-06-10",
  "reaction": [
    {
      "substance": {
        "coding": [
          {
            "system": "http://www.nlm.nih.gov/research/umls/rxnorm",
            "code": "7980",
            "display": "Penicillin"
          }
        ]
      },
      "manifestation": [
        {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "271807003",
              "display": "Skin rash"
            }
          ]
        }
      ],
      "severity": "moderate"
    }
  ]
}`,
                        hl7: `MSH|^~\\&|EMR|HOSPITAL|ALLERGY|SYSTEM|20240115100000||ADT^A08^ADT_A01|ALL123456|P|2.5
PID|1||12345^^^MRN||DOE^JOHN^MICHAEL||19850315|M
AL1|1|DA|7980^Penicillin^RXN|MO|Skin rash|20180610`,
                        json: `{
  "allergy_id": "ALL001",
  "patient_id": "12345",
  "allergen": "Penicillin",
  "allergy_type": "medication",
  "severity": "moderate",
  "reaction": "Skin rash",
  "status": "active",
  "date_identified": "2018-06-10"
}`
                    },
                    immunization: {
                        fhir: `{
  "resourceType": "Immunization",
  "id": "immunization-covid-001",
  "status": "completed",
  "vaccineCode": {
    "coding": [
      {
        "system": "http://hl7.org/fhir/sid/cvx",
        "code": "208",
        "display": "COVID-19, mRNA, LNP-S, PF, 30 mcg/0.3 mL dose"
      }
    ]
  },
  "patient": {
    "reference": "Patient/example-patient-001"
  },
  "occurrenceDateTime": "2023-09-15T10:30:00Z",
  "primarySource": true,
  "lotNumber": "ABC123",
  "expirationDate": "2024-03-15",
  "site": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/v2-0163",
        "code": "LA",
        "display": "Left arm"
      }
    ]
  },
  "route": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/v2-0162",
        "code": "IM",
        "display": "Intramuscular"
      }
    ]
  },
  "doseQuantity": {
    "value": 0.3,
    "unit": "mL",
    "system": "http://unitsofmeasure.org",
    "code": "mL"
  },
  "performer": [
    {
      "function": {
        "coding": [
          {
            "system": "http://terminology.hl7.org/CodeSystem/v2-0443",
            "code": "AP",
            "display": "Administering Provider"
          }
        ]
      },
      "actor": {
        "reference": "Practitioner/nurse-smith"
      }
    }
  ]
}`,
                        hl7: `MSH|^~\\&|EMR|HOSPITAL|IMMUNIZATION|REGISTRY|20230915103000||VXU^V04^VXU_V04|IMM123456|P|2.5
PID|1||12345^^^MRN||DOE^JOHN^MICHAEL||19850315|M
RXA|0|1|20230915103000|20230915103000|208^COVID-19 mRNA^CVX|0.3|mL||00^NEW IMMUNIZATION RECORD^NIP001|SMITH^JANE^RN||ABC123|20240315|MSD|LA^Left arm^HL70163|IM^Intramuscular^HL70162`,
                        json: `{
  "immunization_id": "IMM001",
  "patient_id": "12345",
  "vaccine": "COVID-19 mRNA",
  "manufacturer": "Pfizer-BioNTech",
  "lot_number": "ABC123",
  "dose": "0.3 mL",
  "site": "Left arm",
  "route": "Intramuscular",
  "date_administered": "2023-09-15T10:30:00Z",
  "administered_by": "Nurse Jane Smith",
  "expiration_date": "2024-03-15"
}`
                    },
                    observation: {
                        fhir: `{
  "resourceType": "Observation",
  "id": "cbc-panel-001",
  "status": "final",
  "category": [
    {
      "coding": [
        {
          "system": "http://terminology.hl7.org/CodeSystem/observation-category",
          "code": "laboratory",
          "display": "Laboratory"
        }
      ]
    }
  ],
  "code": {
    "coding": [
      {
        "system": "http://loinc.org",
        "code": "58410-2",
        "display": "Complete blood count (hemogram) panel - Blood by Automated count"
      }
    ]
  },
  "subject": {
    "reference": "Patient/example-patient-001"
  },
  "effectiveDateTime": "2024-01-15T09:30:00Z",
  "component": [
    {
      "code": {
        "coding": [
          {
            "system": "http://loinc.org",
            "code": "718-7",
            "display": "Hemoglobin [Mass/volume] in Blood"
          }
        ]
      },
      "valueQuantity": {
        "value": 14.2,
        "unit": "g/dL",
        "system": "http://unitsofmeasure.org"
      },
      "interpretation": [{
        "coding": [{
          "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
          "code": "N"
        }]
      }]
    },
    {
      "code": {
        "coding": [
          {
            "system": "http://loinc.org",
            "code": "4544-3",
            "display": "Hematocrit [Volume Fraction] of Blood"
          }
        ]
      },
      "valueQuantity": {
        "value": 42.5,
        "unit": "%",
        "system": "http://unitsofmeasure.org"
      }
    },
    {
      "code": {
        "coding": [
          {
            "system": "http://loinc.org",
            "code": "6690-2",
            "display": "Leukocytes [#/volume] in Blood by Automated count"
          }
        ]
      },
      "valueQuantity": {
        "value": 7800,
        "unit": "/uL",
        "system": "http://unitsofmeasure.org"
      }
    }
  ]
}`,
                        hl7: `MSH|^~\\&|LAB|XYZ_HOSPITAL|LIS|HOSPITAL|20240115093000||ORU^R01^ORU_R01|CBC123456|P|2.5
PID|1||12345^^^MRN||DOE^JOHN^MICHAEL||19850315|M
OBR|1|CBC001|CBC001|58410-2^Complete blood count^LN|||20240115093000|20240115093000
OBX|1|NM|718-7^Hemoglobin^LN||14.2|g/dL|12.0-16.0|N|||F
OBX|2|NM|4544-3^Hematocrit^LN||42.5|%|36-46|N|||F
OBX|3|NM|6690-2^WBC^LN||7800|/uL|4500-11000|N|||F`,
                        json: `{
  "test_id": "CBC001",
  "patient_id": "12345",
  "test_name": "Complete Blood Count",
  "date_performed": "2024-01-15T09:30:00Z",
  "results": {
    "hemoglobin": {
      "value": 14.2,
      "unit": "g/dL",
      "reference_range": "12.0-16.0",
      "status": "Normal"
    },
    "hematocrit": {
      "value": 42.5,
      "unit": "%",
      "reference_range": "36-46",
      "status": "Normal"
    },
    "white_blood_cells": {
      "value": 7800,
      "unit": "/uL",
      "reference_range": "4500-11000",
      "status": "Normal"
    }
  }
}`
                    },
                    chemistry_panel: {
                        fhir: `{
  "resourceType": "Observation",
  "id": "chemistry-panel-001",
  "status": "final",
  "category": [
    {
      "coding": [
        {
          "system": "http://terminology.hl7.org/CodeSystem/observation-category",
          "code": "laboratory",
          "display": "Laboratory"
        }
      ]
    }
  ],
  "code": {
    "coding": [
      {
        "system": "http://loinc.org",
        "code": "24323-8",
        "display": "Comprehensive metabolic 2000 panel - Serum or Plasma"
      }
    ]
  },
  "subject": {
    "reference": "Patient/example-patient-001"
  },
  "effectiveDateTime": "2024-01-15T08:00:00Z",
  "component": [
    {
      "code": {
        "coding": [
          {
            "system": "http://loinc.org",
            "code": "2345-7",
            "display": "Glucose [Mass/volume] in Serum or Plasma"
          }
        ]
      },
      "valueQuantity": {
        "value": 95,
        "unit": "mg/dL",
        "system": "http://unitsofmeasure.org"
      }
    },
    {
      "code": {
        "coding": [
          {
            "system": "http://loinc.org",
            "code": "38483-4",
            "display": "Creatinine [Mass/volume] in Blood"
          }
        ]
      },
      "valueQuantity": {
        "value": 1.1,
        "unit": "mg/dL",
        "system": "http://unitsofmeasure.org"
      }
    },
    {
      "code": {
        "coding": [
          {
            "system": "http://loinc.org",
            "code": "6299-2",
            "display": "Urea nitrogen [Mass/volume] in Blood"
          }
        ]
      },
      "valueQuantity": {
        "value": 18,
        "unit": "mg/dL",
        "system": "http://unitsofmeasure.org"
      }
    }
  ]
}`,
                        hl7: `MSH|^~\\&|LAB|XYZ_HOSPITAL|LIS|HOSPITAL|20240115080000||ORU^R01^ORU_R01|CMP123456|P|2.5
PID|1||12345^^^MRN||DOE^JOHN^MICHAEL||19850315|M
OBR|1|CMP001|CMP001|24323-8^Comprehensive metabolic panel^LN|||20240115080000|20240115080000
OBX|1|NM|2345-7^Glucose^LN||95|mg/dL|70-100|N|||F
OBX|2|NM|38483-4^Creatinine^LN||1.1|mg/dL|0.7-1.3|N|||F
OBX|3|NM|6299-2^BUN^LN||18|mg/dL|7-20|N|||F`,
                        json: `{
  "test_id": "CMP001",
  "patient_id": "12345",
  "test_name": "Comprehensive Metabolic Panel",
  "date_performed": "2024-01-15T08:00:00Z",
  "results": {
    "glucose": {
      "value": 95,
      "unit": "mg/dL",
      "reference_range": "70-100",
      "status": "Normal"
    },
    "creatinine": {
      "value": 1.1,
      "unit": "mg/dL",
      "reference_range": "0.7-1.3",
      "status": "Normal"
    },
    "bun": {
      "value": 18,
      "unit": "mg/dL",
      "reference_range": "7-20",
      "status": "Normal"
    }
  }
}`
                    },
                    vital_signs: {
                        fhir: `{
  "resourceType": "Observation",
  "id": "vital-signs-001",
  "status": "final",
  "category": [
    {
      "coding": [
        {
          "system": "http://terminology.hl7.org/CodeSystem/observation-category",
          "code": "vital-signs",
          "display": "Vital Signs"
        }
      ]
    }
  ],
  "code": {
    "coding": [
      {
        "system": "http://loinc.org",
        "code": "85354-9",
        "display": "Blood pressure panel with all children optional"
      }
    ]
  },
  "subject": {
    "reference": "Patient/example-patient-001"
  },
  "effectiveDateTime": "2024-01-15T14:30:00Z",
  "component": [
    {
      "code": {
        "coding": [
          {
            "system": "http://loinc.org",
            "code": "8480-6",
            "display": "Systolic blood pressure"
          }
        ]
      },
      "valueQuantity": {
        "value": 128,
        "unit": "mmHg",
        "system": "http://unitsofmeasure.org"
      }
    },
    {
      "code": {
        "coding": [
          {
            "system": "http://loinc.org",
            "code": "8462-4",
            "display": "Diastolic blood pressure"
          }
        ]
      },
      "valueQuantity": {
        "value": 82,
        "unit": "mmHg",
        "system": "http://unitsofmeasure.org"
      }
    }
  ]
}`,
                        hl7: `MSH|^~\\&|MONITOR|ICU|VITALS|SYSTEM|20240115143000||ORU^R01^ORU_R01|VIT123456|P|2.5
PID|1||12345^^^MRN||DOE^JOHN^MICHAEL||19850315|M
OBR|1|VIT001|VIT001|85354-9^Blood pressure^LN|||20240115143000|20240115143000
OBX|1|NM|8480-6^Systolic BP^LN||128|mmHg||||F
OBX|2|NM|8462-4^Diastolic BP^LN||82|mmHg||||F`,
                        json: `{
  "measurement_id": "VIT001",
  "patient_id": "12345",
  "measurement_type": "vital_signs",
  "timestamp": "2024-01-15T14:30:00Z",
  "measurements": {
    "blood_pressure": {
      "systolic": 128,
      "diastolic": 82,
      "unit": "mmHg"
    },
    "heart_rate": 72,
    "respiratory_rate": 16,
    "temperature": 98.6,
    "oxygen_saturation": 98
  }
}`
                    },
                    clinical_notes: {
                        fhir: `{
  "resourceType": "DocumentReference",
  "id": "clinical-note-001",
  "status": "current",
  "type": {
    "coding": [
      {
        "system": "http://loinc.org",
        "code": "11506-3",
        "display": "Progress note"
      }
    ]
  },
  "category": [
    {
      "coding": [
        {
          "system": "http://hl7.org/fhir/us/core/CodeSystem/us-core-documentreference-category",
          "code": "clinical-note",
          "display": "Clinical Note"
        }
      ]
    }
  ],
  "subject": {
    "reference": "Patient/example-patient-001"
  },
  "date": "2024-01-15T16:00:00Z",
  "author": [
    {
      "reference": "Practitioner/dr-fadil"
    }
  ],
  "description": "Routine follow-up visit - Hypertension management",
  "content": [
    {
      "attachment": {
        "contentType": "text/plain",
        "data": "UGF0aWVudCBwcmVzZW50cyBmb3Igcm91dGluZSBmb2xsb3ctdXAgb2YgaHlwZXJ0ZW5zaW9uLiBCbG9vZCBwcmVzc3VyZSB3ZWxsIGNvbnRyb2xsZWQgb24gY3VycmVudCByZWdpbWVuLiBObyBhZHZlcnNlIGVmZmVjdHMgcmVwb3J0ZWQuIENvbnRpbnVlIGN1cnJlbnQgbWVkaWNhdGlvbnMu"
      }
    }
  ]
}`,
                        hl7: `MSH|^~\\&|EMR|HOSPITAL|DOC_SYSTEM|ARCHIVE|20240115160000||MDM^T02^MDM_T02|DOC123456|P|2.5
PID|1||12345^^^MRN||DOE^JOHN^MICHAEL||19850315|M
TXA|1|CN|TX|20240115160000|DR_FADIL|||||||||||AV||||11506-3^Progress note^LN
OBX|1|TX|11506-3^Progress note^LN||Patient presents for routine follow-up of hypertension. Blood pressure well controlled on current regimen. No adverse effects reported. Continue current medications.|||F`,
                        json: `{
  "note_id": "NOTE001",
  "patient_id": "12345",
  "note_type": "progress_note",
  "author": "Dr. Fadil",
  "date_created": "2024-01-15T16:00:00Z",
  "subject": "Routine follow-up - Hypertension",
  "content": "Patient presents for routine follow-up of hypertension. Blood pressure well controlled on current regimen. No adverse effects reported. Continue current medications.",
  "status": "final"
}`
                    },
                    medication: {
                        fhir: `{
  "resourceType": "MedicationRequest",
  "id": "prescription-001",
  "status": "active",
  "intent": "order",
  "medicationCodeableConcept": {
    "coding": [
      {
        "system": "http://www.nlm.nih.gov/research/umls/rxnorm",
        "code": "197361",
        "display": "Lisinopril 10 MG Oral Tablet"
      }
    ]
  },
  "subject": {
    "reference": "Patient/example-patient-001"
  },
  "authoredOn": "2024-01-15",
  "requester": {
    "reference": "Practitioner/dr-fadil"
  },
  "dosageInstruction": [
    {
      "text": "Take one tablet by mouth once daily",
      "timing": {
        "repeat": {
          "frequency": 1,
          "period": 1,
          "periodUnit": "d"
        }
      },
      "route": {
        "coding": [
          {
            "system": "http://snomed.info/sct",
            "code": "26643006",
            "display": "Oral route"
          }
        ]
      },
      "doseAndRate": [
        {
          "doseQuantity": {
            "value": 1,
            "unit": "tablet"
          }
        }
      ]
    }
  ]
}`,
                        hl7: `MSH|^~\\&|EMR|HOSPITAL|PHARMACY|PHARMACY|20240115100000||RDE^O11^RDE_O11|RX123456|P|2.5
PID|1||12345^^^MRN||DOE^JOHN^MICHAEL||19850315|M
ORC|NW|RX001|RX001|||||20240115100000
RXE|^Q1D^D10^^^R|197361^Lisinopril 10 MG Oral Tablet^RXN|1|TABLET|||||1^tablet^daily`,
                        json: `{
  "prescription_id": "RX001",
  "patient_id": "12345",
  "medication": "Lisinopril 10 MG",
  "dosage": "1 tablet",
  "frequency": "once daily",
  "route": "oral",
  "prescribed_date": "2024-01-15",
  "prescriber": "Dr. Fadil"
}`
                    },
                    radiology: {
                        fhir: `{
  "resourceType": "DiagnosticReport",
  "id": "radiology-chest-xray-001",
  "status": "final",
  "category": [
    {
      "coding": [
        {
          "system": "http://terminology.hl7.org/CodeSystem/v2-0074",
          "code": "RAD",
          "display": "Radiology"
        }
      ]
    }
  ],
  "code": {
    "coding": [
      {
        "system": "http://www.radlex.org",
        "code": "RID10312",
        "display": "chest X-ray"
      }
    ]
  },
  "subject": {
    "reference": "Patient/example-patient-001"
  },
  "effectiveDateTime": "2024-01-15T11:00:00Z",
  "issued": "2024-01-15T13:30:00Z",
  "performer": [
    {
      "reference": "Practitioner/radiologist-jones"
    }
  ],
  "conclusion": "No acute cardiopulmonary abnormality. Heart size normal. Lungs clear. No pneumothorax or pleural effusion.",
  "conclusionCode": [
    {
      "coding": [
        {
          "system": "http://snomed.info/sct",
          "code": "17621005",
          "display": "Normal"
        }
      ]
    }
  ]
}`,
                        hl7: `MSH|^~\\&|RIS|HOSPITAL|EMR|HOSPITAL|20240115133000||ORU^R01^ORU_R01|RAD123456|P|2.5
PID|1||12345^^^MRN||DOE^JOHN^MICHAEL||19850315|M
OBR|1|RAD001|RAD001|RID10312^Chest X-ray^RADLEX|||20240115110000|20240115110000|||||||DR_JONES||||||F
OBX|1|TX|RID10312^Chest X-ray^RADLEX||No acute cardiopulmonary abnormality. Heart size normal. Lungs clear. No pneumothorax or pleural effusion.|||F`,
                        json: `{
  "report_id": "RAD001",
  "patient_id": "12345",
  "study_type": "Chest X-ray",
  "study_date": "2024-01-15T11:00:00Z",
  "radiologist": "Dr. Jones",
  "findings": "No acute cardiopulmonary abnormality. Heart size normal. Lungs clear. No pneumothorax or pleural effusion.",
  "impression": "Normal chest X-ray",
  "status": "final"
}`
                    },
                    procedure: {
                        fhir: `{
  "resourceType": "ServiceRequest",
  "id": "procedure-request-001",
  "status": "active",
  "intent": "order",
  "category": [
    {
      "coding": [
        {
          "system": "http://snomed.info/sct",
          "code": "103693007",
          "display": "Diagnostic procedure"
        }
      ]
    }
  ],
  "code": {
    "coding": [
      {
        "system": "http://snomed.info/sct",
        "code": "73761001",
        "display": "Colonoscopy"
      }
    ]
  },
  "subject": {
    "reference": "Patient/example-patient-001"
  },
  "authoredOn": "2024-01-15T15:00:00Z",
  "requester": {
    "reference": "Practitioner/dr-fadil"
  },
  "reasonCode": [
    {
      "coding": [
        {
          "system": "http://snomed.info/sct",
          "code": "268547008",
          "display": "Screening for malignant neoplasm of colon"
        }
      ]
    }
  ],
  "note": [
    {
      "text": "Routine screening colonoscopy for 50+ year old patient. Patient has no family history of colorectal cancer."
    }
  ]
}`,
                        hl7: `MSH|^~\\&|EMR|HOSPITAL|PROCEDURE|SCHEDULING|20240115150000||ORM^O01^ORM_O01|PROC123456|P|2.5
PID|1||12345^^^MRN||DOE^JOHN^MICHAEL||19850315|M
ORC|NW|PROC001|PROC001|||||20240115150000|||DR_FADIL
OBR|1|PROC001|PROC001|73761001^Colonoscopy^SNOMED|||||||||||268547008^Screening^SNOMED`,
                        json: `{
  "procedure_request_id": "PROC001",
  "patient_id": "12345",
  "procedure": "Colonoscopy",
  "category": "diagnostic",
  "reason": "Routine screening",
  "ordered_by": "Dr. Fadil",
  "date_ordered": "2024-01-15T15:00:00Z",
  "priority": "routine",
  "notes": "Routine screening colonoscopy for 50+ year old patient"
}`
                    },
                    appointment: {
                        fhir: `{
  "resourceType": "Appointment",
  "id": "appointment-001",
  "status": "booked",
  "serviceCategory": [
    {
      "coding": [
        {
          "system": "http://example.org/service-category",
          "code": "gp",
          "display": "General Practice"
        }
      ]
    }
  ],
  "serviceType": [
    {
      "coding": [
        {
          "system": "http://snomed.info/sct",
          "code": "11429006",
          "display": "Consultation"
        }
      ]
    }
  ],
  "appointmentType": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/v2-0276",
        "code": "FOLLOWUP",
        "display": "Follow-up"
      }
    ]
  },
  "reasonCode": [
    {
      "coding": [
        {
          "system": "http://snomed.info/sct",
          "code": "38341003",
          "display": "Hypertension"
        }
      ]
    }
  ],
  "start": "2024-01-22T10:00:00Z",
  "end": "2024-01-22T10:30:00Z",
  "participant": [
    {
      "actor": {
        "reference": "Patient/example-patient-001"
      },
      "required": "required",
      "status": "accepted"
    },
    {
      "actor": {
        "reference": "Practitioner/dr-fadil"
      },
      "required": "required",
      "status": "accepted"
    }
  ]
}`,
                        hl7: `MSH|^~\\&|EMR|HOSPITAL|SCHEDULING|SYSTEM|20240115160000||SIU^S12^SIU_S12|APT123456|P|2.5
PID|1||12345^^^MRN||DOE^JOHN^MICHAEL||19850315|M
SCH|APT001||||38341003^Hypertension follow-up^SNOMED|FOLLOWUP|30|MIN|^^^20240122100000^20240122103000||||||BOOKED
AIP|1|APT001|DR_FADIL^FADIL^MOHAMED^^^^MD|PHYSICIAN|||||ACCEPTED`,
                        json: `{
  "appointment_id": "APT001",
  "patient_id": "12345",
  "provider": "Dr. Fadil",
  "appointment_type": "follow-up",
  "reason": "Hypertension management",
  "scheduled_date": "2024-01-22",
  "scheduled_time": "10:00 AM",
  "duration": "30 minutes",
  "status": "booked"
}`
                    },
                    discharge: {
                        fhir: `{
  "resourceType": "Encounter",
  "id": "discharge-summary-001",
  "status": "finished",
  "class": {
    "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
    "code": "IMP",
    "display": "inpatient encounter"
  },
  "type": [
    {
      "coding": [
        {
          "system": "http://snomed.info/sct",
          "code": "32485007",
          "display": "Hospital admission"
        }
      ]
    }
  ],
  "subject": {
    "reference": "Patient/example-patient-001"
  },
  "period": {
    "start": "2024-01-10T08:00:00Z",
    "end": "2024-01-15T14:00:00Z"
  },
  "reasonCode": [
    {
      "coding": [
        {
          "system": "http://snomed.info/sct",
          "code": "233604007",
          "display": "Pneumonia"
        }
      ]
    }
  ],
  "hospitalization": {
    "dischargeDisposition": {
      "coding": [
        {
          "system": "http://terminology.hl7.org/CodeSystem/discharge-disposition",
          "code": "home",
          "display": "Home"
        }
      ]
    }
  },
  "location": [
    {
      "location": {
        "reference": "Location/ward-3a"
      }
    }
  ]
}`,
                        hl7: `MSH|^~\\&|EMR|HOSPITAL|DISCHARGE|SYSTEM|20240115140000||ADT^A03^ADT_A01|DIS123456|P|2.5
PID|1||12345^^^MRN||DOE^JOHN^MICHAEL||19850315|M
EVN|A03|20240115140000
PV1|1|I|3A^BED01^01|||DR_FADIL||||MED|||||||DR_FADIL||||||||||||||||||A|||20240110080000|20240115140000
DG1|1|I9|233604007^Pneumonia^SNOMED|||W`,
                        json: `{
  "discharge_id": "DIS001",
  "patient_id": "12345",
  "admission_date": "2024-01-10T08:00:00Z",
  "discharge_date": "2024-01-15T14:00:00Z",  
  "length_of_stay": "5 days",
  "primary_diagnosis": "Pneumonia",
  "attending_physician": "Dr. Fadil",
  "discharge_disposition": "Home",
  "follow_up_instructions": "Continue antibiotics for 7 days, follow up with primary care in 1 week"
}`
                    }
                };
            }

            switchFormat(format) {
                this.currentFormat = format;
                
                // Update active button
                document.querySelectorAll('.format-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`[data-format="${format}"]`).classList.add('active');
                
                // Clear output and reset status
                this.clearOutput();
            }

            loadSample(sampleType) {
                if (!sampleType || !this.sampleData[sampleType]) return;
                
                const sampleData = this.sampleData[sampleType][this.currentFormat];
                document.getElementById('inputData').value = sampleData;
                
                // Update status
                this.updateInputStatus('success', 'Sample data loaded successfully');
                
                // Auto-transform after loading sample
                setTimeout(() => {
                    this.transformData();
                }, 500);
            }

            validateData() {
                const inputData = document.getElementById('inputData').value.trim();
                
                if (!inputData) {
                    this.updateInputStatus('error', 'No data to validate');
                    return false;
                }

                try {
                    if (this.currentFormat === 'fhir') {
                        const parsed = JSON.parse(inputData);
                        
                        // Enhanced FHIR validation
                        if (!parsed.resourceType) {
                            this.updateInputStatus('error', 'Missing required field: resourceType');
                            return false;
                        }
                        
                        const validResourceTypes = ['Patient', 'Observation', 'MedicationRequest', 'AllergyIntolerance', 'Immunization', 'DiagnosticReport', 'ServiceRequest', 'Appointment', 'Encounter', 'DocumentReference'];
                        if (!validResourceTypes.includes(parsed.resourceType)) {
                            this.updateInputStatus('warning', `Uncommon resourceType: ${parsed.resourceType}`);
                        } else {
                            this.updateInputStatus('success', `Valid FHIR ${parsed.resourceType} resource`);
                        }
                        
                        return true;
                    } else if (this.currentFormat === 'json') {
                        const parsed = JSON.parse(inputData);
                        this.updateInputStatus('success', 'Valid JSON structure');
                        return true;
                    } else if (this.currentFormat === 'hl7') {
                        // Enhanced HL7 validation
                        if (!inputData.startsWith('MSH|')) {
                            this.updateInputStatus('error', 'Invalid HL7 format - must start with MSH segment');
                            return false;
                        }
                        
                        const segments = inputData.split('\n').filter(line => line.trim());
                        const messageType = this.extractHL7MessageType(inputData);
                        
                        this.updateInputStatus('success', `Valid HL7 ${messageType} message (${segments.length} segments)`);
                        return true;
                    } else if (this.currentFormat === 'dicom') {
                        const parsed = JSON.parse(inputData);
                        
                        // Basic DICOM validation - check for typical DICOM tags
                        const requiredTags = ['00080005', '00080016']; // Character Set, SOP Class UID
                        const missingTags = requiredTags.filter(tag => !parsed[tag]);
                        
                        if (missingTags.length > 0) {
                            this.updateInputStatus('warning', `Missing recommended DICOM tags: ${missingTags.join(', ')}`);
                        } else {
                            this.updateInputStatus('success', 'Valid DICOM JSON structure');
                        }
                        
                        return true;
                    }
                } catch (error) {
                    this.updateInputStatus('error', `Validation error: ${error.message}`);
                    return false;
                }
            }
            
            extractHL7MessageType(hl7Data) {
                const mshLine = hl7Data.split('\n')[0];
                const fields = mshLine.split('|');
                if (fields.length > 8) {
                    return fields[8].split('^')[0]; // Message type
                }
                return 'Unknown';
            }

            transformData() {
                const startTime = performance.now();
                const inputData = document.getElementById('inputData').value.trim();
                
                if (!inputData) {
                    this.updateOutputStatus('error', 'No input data to transform');
                    return;
                }

                if (!this.validateData()) {
                    return;
                }

                // Simulate data transformation
                setTimeout(() => {
                    let transformedData = '';
                    
                    try {
                        if (this.currentFormat === 'fhir') {
                            transformedData = this.transformFHIR(inputData);
                        } else if (this.currentFormat === 'hl7') {
                            transformedData = this.transformHL7(inputData);
                        } else if (this.currentFormat === 'json') {
                            transformedData = this.transformJSON(inputData);
                        } else if (this.currentFormat === 'dicom') {
                            transformedData = this.transformDICOM(inputData);
                        }

                        // Display transformed data
                        const outputDiv = document.getElementById('outputData');
                        outputDiv.innerHTML = `<pre style="margin: 0; white-space: pre-wrap; font-family: 'Courier New', monospace; color: var(--text-primary);">${transformedData}</pre>`;
                        
                        // Update processing time
                        const processingTime = Math.round(performance.now() - startTime);
                        document.getElementById('processTime').textContent = processingTime;
                        
                        this.updateOutputStatus('success', 'Data transformed successfully');
                        
                        // Add some visual feedback
                        this.animateTransformation();
                        
                        // Record usage in dashboard
                        if (typeof recordPlaygroundUsage === 'function') {
                            recordPlaygroundUsage();
                        }
                        
                    } catch (error) {
                        this.updateOutputStatus('error', `Transformation error: ${error.message}`);
                    }
                }, 300 + Math.random() * 700); // Simulate processing time
            }

            transformFHIR(inputData) {
                const data = JSON.parse(inputData);
                
                // Enhanced FHIR transformation with clinical insights
                let insights = `<!-- FHIR Resource Analysis -->
Resource Type: ${data.resourceType}
Resource ID: ${data.id || 'Not specified'}

`;

                if (data.resourceType === 'Patient') {
                    insights += `Patient Demographics Analysis:
• Name: ${data.name?.[0]?.given?.join(' ')} ${data.name?.[0]?.family}
• Gender: ${data.gender}
• Birth Date: ${data.birthDate}
• Active Status: ${data.active}
• Contact: ${data.telecom?.find(t => t.system === 'phone')?.value || 'Not provided'}

Clinical Recommendations:
✓ Patient record is complete and structured
✓ Ready for EHR integration
✓ HIPAA compliant data structure`;
                } else if (data.resourceType === 'Observation') {
                    insights += `Laboratory Result Analysis:
• Test: ${data.code?.coding?.[0]?.display}
• Value: ${data.valueQuantity?.value} ${data.valueQuantity?.unit}
• Status: ${data.status}
• Interpretation: ${data.interpretation?.[0]?.coding?.[0]?.display}

Clinical Insights:
✓ Result within normal parameters
✓ Ready for clinical decision support
✓ Structured for analytics pipeline`;
                }

                return insights + '\n\n' + JSON.stringify(data, null, 2);
            }

            transformHL7(inputData) {
                const segments = inputData.split('\n').filter(line => line.trim());
                let analysis = `<!-- HL7 Message Analysis -->
Message Structure Analysis:

`;
                
                segments.forEach((segment, index) => {
                    const segmentType = segment.substring(0, 3);
                    const fields = segment.split('|');
                    
                    analysis += `Segment ${index + 1}: ${segmentType}\n`;
                    
                    switch (segmentType) {
                        case 'MSH':
                            analysis += `  • Message Type: ${fields[8] || 'Unknown'}\n`;
                            analysis += `  • Timestamp: ${fields[6] || 'Not specified'}\n`;
                            break;
                        case 'PID':
                            analysis += `  • Patient ID: ${fields[3] || 'Not specified'}\n`;
                            analysis += `  • Patient Name: ${fields[5] || 'Not specified'}\n`;
                            break;
                        case 'OBX':
                            analysis += `  • Observation: ${fields[3] || 'Not specified'}\n`;
                            analysis += `  • Value: ${fields[5] || 'Not specified'}\n`;
                            break;
                    }
                    analysis += '\n';
                });

                analysis += `Clinical Integration Status:
✓ Message structure validated
✓ Ready for FHIR conversion
✓ Interoperability standards met

Original HL7 Message:
${inputData}`;

                return analysis;
            }

            transformJSON(inputData) {
                const data = JSON.parse(inputData);
                
                let transformation = `<!-- Healthcare Data Standardization -->
Data Normalization Analysis:

Standardized Fields:
`;
                
                Object.keys(data).forEach(key => {
                    const value = data[key];
                    transformation += `• ${key}: ${typeof value === 'object' ? JSON.stringify(value) : value}\n`;
                });

                transformation += `
Interoperability Assessment:
✓ Data structure compatible with FHIR
✓ Ready for HL7 message conversion
✓ Healthcare standards compliant

FHIR Mapping Suggestions:
${this.suggestFHIRMapping(data)}

Enhanced JSON Structure:
${JSON.stringify(data, null, 2)}`;

                return transformation;
            }

            suggestFHIRMapping(data) {
                let suggestions = '';
                
                if (data.patient_id || data.id) {
                    suggestions += '• Patient.identifier system mapping recommended\n';
                }
                if (data.first_name || data.last_name) {
                    suggestions += '• Patient.name HumanName structure suggested\n';
                }
                if (data.date_of_birth || data.birthDate) {
                    suggestions += '• Patient.birthDate ISO 8601 format verified\n';
                }
                if (data.phone || data.email) {
                    suggestions += '• Patient.telecom ContactPoint array recommended\n';
                }
                
                return suggestions || '• Standard FHIR resource mapping applicable';
            }

            transformDICOM(inputData) {
                const data = JSON.parse(inputData);
                
                let analysis = `<!-- DICOM Data Analysis -->
Medical Imaging Data Transformation:

DICOM Tags Analysis:
`;
                
                // Analyze common DICOM tags
                const commonTags = {
                    '00080005': 'Specific Character Set',
                    '00080016': 'SOP Class UID',
                    '00080018': 'SOP Instance UID',
                    '00100010': 'Patient Name',
                    '00100020': 'Patient ID',
                    '00100030': 'Patient Birth Date',
                    '00100040': 'Patient Sex',
                    '00101010': 'Patient Age',
                    '00101020': 'Patient Size',
                    '00101030': 'Patient Weight'
                };
                
                Object.keys(data).forEach(tag => {
                    const tagName = commonTags[tag] || `Unknown Tag (${tag})`;
                    const value = data[tag].Value || data[tag];
                    analysis += `• ${tagName}: ${JSON.stringify(value)}\n`;
                });
                
                analysis += `
Interoperability Assessment:
✓ DICOM JSON format validated
✓ Ready for FHIR conversion (ImagingStudy resource)
✓ Compatible with HL7 imaging workflow
✓ Supports healthcare data exchange standards

BrainSAIT AI Enhancement:
• Automated image analysis capabilities
• AI-powered diagnostic insights
• Cross-platform compatibility ensured
• Enhanced metadata extraction

FHIR ImagingStudy Mapping:
${this.generateFHIRImagingStudy(data)}

Original DICOM JSON:
${JSON.stringify(data, null, 2)}`;

                return analysis;
            }
            
            generateFHIRImagingStudy(dicomData) {
                const patientName = dicomData['00100010']?.Value?.[0]?.Alphabetic || 'Unknown';
                const patientId = dicomData['00100020']?.Value?.[0] || 'Unknown';
                const studyInstanceUID = dicomData['0020000D']?.Value?.[0] || 'Generated-UID';
                
                return `{
  "resourceType": "ImagingStudy",
  "id": "imaging-study-001",
  "identifier": [
    {
      "system": "urn:dicom:uid",
      "value": "${studyInstanceUID}"
    }
  ],
  "status": "available",
  "subject": {
    "reference": "Patient/${patientId}",
    "display": "${patientName}"
  },
  "started": "${new Date().toISOString()}",
  "numberOfSeries": 1,
  "numberOfInstances": 1,
  "series": [
    {
      "uid": "${studyInstanceUID}",
      "number": 1,
      "modality": {
        "system": "http://dicom.nema.org/resources/ontology/DCM",
        "code": "CT"
      },
      "numberOfInstances": 1
    }
  ]
}`;
            }

            animateTransformation() {
                const arrow = document.querySelector('.arrow-icon');
                arrow.style.animation = 'none';
                arrow.offsetHeight; // Trigger reflow
                arrow.style.animation = 'arrow-pulse 1s ease-in-out 3';
            }

            updateInputStatus(type, message) {
                const statusDiv = document.getElementById('inputStatus');
                statusDiv.className = `data-status ${type}`;
                statusDiv.innerHTML = `<i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'info-circle'}"></i> ${message}`;
            }

            updateOutputStatus(type, message) {
                const statusDiv = document.getElementById('outputStatus');
                statusDiv.className = `data-status ${type}`;
                statusDiv.innerHTML = `<i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'clock'}"></i> ${message}`;
            }

            clearOutput() {
                document.getElementById('outputData').innerHTML = `
                    <div class="placeholder-message">
                        <i class="fas fa-magic"></i>
                        <p>Transformed data will appear here...</p>
                    </div>
                `;
                this.updateOutputStatus('info', 'Waiting for input');
                document.getElementById('processTime').textContent = '--';
            }

            copyOutput() {
                const outputDiv = document.getElementById('outputData');
                const text = outputDiv.textContent;
                
                navigator.clipboard.writeText(text).then(() => {
                    this.updateOutputStatus('success', 'Copied to clipboard!');
                    setTimeout(() => {
                        this.updateOutputStatus('success', 'Data transformed successfully');
                    }, 2000);
                });
            }

            downloadOutput(format = 'txt') {
                const outputDiv = document.getElementById('outputData');
                let content = outputDiv.textContent;
                let mimeType = 'text/plain';
                let fileExtension = format;
                let fileName = `fhir-interoperability-${this.currentFormat}-${Date.now()}`;
                
                // Format-specific processing
                switch(format) {
                    case 'json':
                        try {
                            // Try to extract JSON from the output
                            const jsonMatch = content.match(/\{[\s\S]*\}/);
                            if (jsonMatch) {
                                content = JSON.stringify(JSON.parse(jsonMatch[0]), null, 2);
                                mimeType = 'application/json';
                            }
                        } catch (e) {
                            // If no valid JSON found, create a structured JSON output
                            content = JSON.stringify({
                                "source_format": this.currentFormat,
                                "transformed_at": new Date().toISOString(),
                                "analysis": content
                            }, null, 2);
                            mimeType = 'application/json';
                        }
                        break;
                    case 'xml':
                        content = this.convertToXML(content);
                        mimeType = 'application/xml';
                        break;
                    case 'hl7':
                        content = this.convertToHL7(content);
                        mimeType = 'text/plain';
                        break;
                    default:
                        mimeType = 'text/plain';
                }
                
                const blob = new Blob([content], { type: mimeType });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = `${fileName}.${fileExtension}`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                this.updateOutputStatus('success', `File downloaded as ${format.toUpperCase()}!`);
                this.hideDownloadMenu();
                
                setTimeout(() => {
                    this.updateOutputStatus('success', 'Transformation completed');
                }, 2000);
            }
            
            convertToXML(content) {
                // Simple XML wrapper for the content
                return `<?xml version="1.0" encoding="UTF-8"?>
<transformation>
    <metadata>
        <source_format>${this.currentFormat}</source_format>
        <transformed_at>${new Date().toISOString()}</transformed_at>
        <tool>BrainSAIT Interoperability Platform</tool>
    </metadata>
    <content><![CDATA[${content}]]></content>
</transformation>`;
            }
            
            convertToHL7(content) {
                // Generate a basic HL7 message structure
                const timestamp = new Date().toISOString().replace(/[-:T]/g, '').substr(0, 14);
                return `MSH|^~\\&|BRAINSAIT|SYSTEM|RECEIVER|DESTINATION|${timestamp}||MDM^T02^MDM_T02|${Date.now()}|P|2.5
PID|1||PATIENT001^^^MRN||DOE^JOHN^MICHAEL||19850315|M
TXA|1|CN|TX|${timestamp}|BRAINSAIT|||||||||||AV||||11506-3^Transformation Report^LN
OBX|1|TX|11506-3^Transformation Report^LN||${content.replace(/\n/g, ' ').substr(0, 200)}|||F`;
            }
            
            hideDownloadMenu() {
                const menu = document.getElementById('downloadMenu');
                if (menu) {
                    menu.classList.remove('show');
                }
            }
        }

        // Global functions for FHIR playground
        let fhirPlayground;

        function switchFormat(format) {
            fhirPlayground.switchFormat(format);
        }

        function loadSample(sampleType) {
            fhirPlayground.loadSample(sampleType);
        }

        function validateData() {
            fhirPlayground.validateData();
        }

        function transformData() {
            fhirPlayground.transformData();
        }

        function copyOutput() {
            fhirPlayground.copyOutput();
        }

        function downloadOutput(format) {
            fhirPlayground.downloadOutput(format);
        }
        
        function toggleDownloadMenu() {
            const menu = document.getElementById('downloadMenu');
            if (menu) {
                menu.classList.toggle('show');
            }
        }
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = event.target.closest('.download-dropdown');
            if (!dropdown) {
                const menu = document.getElementById('downloadMenu');
                if (menu) {
                    menu.classList.remove('show');
                }
            }
        });

        // ================================
        // REAL-TIME IMPACT DASHBOARD
        // ================================
        class ImpactDashboard {
            constructor() {
                this.isCollapsed = false;
                this.metrics = {
                    livesImpacted: { current: 1247, target: 1259, increment: 0.8 },
                    systemsDeployed: { current: 23, target: 26, increment: 0.05 },
                    packageDownloads: { current: 8943, target: 8990, increment: 2.3 },
                    timeSaved: { current: 15670, target: 15826, increment: 7.2 },
                    errorsPrevent: { current: 892, target: 915, increment: 1.1 },
                    aiInsights: { current: 4561, target: 4650, increment: 4.7 }
                };
                
                this.startRealTimeUpdates();
                this.initializeDisplay();
                this.initializeEnhancedFeatures();
            }

            initializeDisplay() {
                // Set initial values
                Object.keys(this.metrics).forEach(key => {
                    const element = document.getElementById(key);
                    if (element) {
                        element.textContent = this.formatNumber(this.metrics[key].current);
                    }
                });
                
                // Update timestamp
                this.updateTimestamp();
            }

            startRealTimeUpdates() {
                // Register with animation manager for performance optimization
                let lastMetricUpdate = 0;
                let lastTimestampUpdate = 0;
                let lastSpikeCheck = 0;
                
                animationManager.register('impact-counter', (currentTime) => {
                    const now = currentTime;
                    
                    // Update metrics every 3-8 seconds
                    if (now - lastMetricUpdate > (3000 + Math.random() * 5000)) {
                        this.updateRandomMetric();
                        lastMetricUpdate = now;
                    }
                    
                    // Update timestamp every 30 seconds
                    if (now - lastTimestampUpdate > 30000) {
                        this.updateTimestamp();
                        lastTimestampUpdate = now;
                    }
                    
                    // Simulate network activity spikes every 10 seconds
                    if (now - lastSpikeCheck > 10000) {
                        if (Math.random() < 0.3) {
                            this.simulateActivitySpike();
                        }
                        lastSpikeCheck = now;
                    }
                }, document.querySelector('.impact-counter'));
            }

            updateRandomMetric() {
                const metricKeys = Object.keys(this.metrics);
                const randomKey = metricKeys[Math.floor(Math.random() * metricKeys.length)];
                const metric = this.metrics[randomKey];
                
                // Calculate incremental update
                const increment = Math.random() * metric.increment * 2;
                metric.current = Math.min(metric.current + increment, metric.target);
                
                // Occasionally set a new target
                if (Math.random() < 0.1) {
                    metric.target += Math.floor(Math.random() * 50) + 10;
                }
                
                // Update display with animation
                this.animateMetricUpdate(randomKey, metric.current);
            }

            animateMetricUpdate(metricId, newValue) {
                const element = document.getElementById(metricId);
                if (!element) return;
                
                const currentValue = parseFloat(element.textContent.replace(/,/g, ''));
                const increment = (newValue - currentValue) / 20; // 20 steps animation
                let step = 0;
                
                // Add updating class for visual feedback
                element.classList.add('updating');
                
                const animateStep = () => {
                    step++;
                    const displayValue = currentValue + (increment * step);
                    element.textContent = this.formatNumber(displayValue);
                    
                    if (step < 20) {
                        requestAnimationFrame(animateStep);
                    } else {
                        element.textContent = this.formatNumber(newValue);
                        setTimeout(() => {
                            element.classList.remove('updating');
                        }, 500);
                    }
                };
                
                requestAnimationFrame(animateStep);
                
                // Add particle effect for significant updates
                if (Math.random() < 0.2) {
                    this.addMetricParticle(element);
                }
            }

            addMetricParticle(element) {
                const particle = document.createElement('div');
                particle.style.cssText = `
                    position: absolute;
                    width: 4px;
                    height: 4px;
                    background: var(--accent-cyan);
                    border-radius: 50%;
                    pointer-events: none;
                    z-index: 1000;
                `;
                
                const rect = element.getBoundingClientRect();
                particle.style.left = (rect.left + rect.width / 2) + 'px';
                particle.style.top = (rect.top + rect.height / 2) + 'px';
                
                document.body.appendChild(particle);
                
                // Animate particle
                particle.animate([
                    { transform: 'translate(0, 0) scale(1)', opacity: 1 },
                    { transform: `translate(${Math.random() * 100 - 50}px, ${Math.random() * 100 - 50}px) scale(0)`, opacity: 0 }
                ], {
                    duration: 1000,
                    easing: 'ease-out'
                }).onfinish = () => {
                    particle.remove();
                };
            }

            simulateActivitySpike() {
                // Temporarily increase update frequency during "high activity"
                const spikeMetrics = ['packageDownloads', 'aiInsights', 'timeSaved'];
                spikeMetrics.forEach(key => {
                    if (Math.random() < 0.7) {
                        setTimeout(() => {
                            this.updateRandomMetric();
                        }, Math.random() * 2000);
                    }
                });
            }

            formatNumber(num) {
                if (num >= 1000000) {
                    return (num / 1000000).toFixed(1) + 'M';
                } else if (num >= 1000) {
                    return (num / 1000).toFixed(1) + 'K';
                } else {
                    return Math.floor(num).toLocaleString();
                }
            }

            updateTimestamp() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('en-US', { 
                    hour12: false, 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                
                const timestampElement = document.getElementById('lastUpdate');
                if (timestampElement) {
                    timestampElement.textContent = timeString;
                }
            }

            toggle() {
                const content = document.getElementById('dashboardContent');
                const toggleBtn = document.querySelector('.dashboard-toggle i');
                
                this.isCollapsed = !this.isCollapsed;
                
                if (this.isCollapsed) {
                    content.classList.add('collapsed');
                    toggleBtn.className = 'fas fa-plus';
                } else {
                    content.classList.remove('collapsed');
                    toggleBtn.className = 'fas fa-minus';
                }
            }

            // Simulate real-world data fluctuations
            simulateRealisticPatterns() {
                // Healthcare systems are busier during day hours
                const hour = new Date().getHours();
                const dayTimeMultiplier = (hour >= 8 && hour <= 18) ? 1.5 : 0.7;
                
                // Weekend vs weekday patterns
                const isWeekend = [0, 6].includes(new Date().getDay());
                const weekdayMultiplier = isWeekend ? 0.6 : 1.2;
                
                // Apply patterns to update frequencies
                Object.keys(this.metrics).forEach(key => {
                    this.metrics[key].increment *= (dayTimeMultiplier * weekdayMultiplier);
                });
                
                // Reset patterns after some time
                setTimeout(() => {
                    Object.keys(this.metrics).forEach(key => {
                        this.metrics[key].increment /= (dayTimeMultiplier * weekdayMultiplier);
                    });
                }, 300000); // Reset after 5 minutes
            }
            
            // WebSocket simulation for real-time data
            initializeWebSocketSimulation() {
                this.wsConnected = true;
                this.updateConnectionStatus('online');
                
                // Simulate periodic connection issues
                setInterval(() => {
                    if (Math.random() < 0.05) { // 5% chance of connection issue
                        this.simulateConnectionIssue();
                    }
                }, 30000);
                
                // Simulate real-time data stream
                setInterval(() => {
                    if (this.wsConnected) {
                        this.processWebSocketMessage();
                    }
                }, 2000 + Math.random() * 3000);
            }
            
            simulateConnectionIssue() {
                this.wsConnected = false;
                this.updateConnectionStatus('offline');
                
                // Reconnect after 2-5 seconds
                setTimeout(() => {
                    this.wsConnected = true;
                    this.updateConnectionStatus('online');
                    this.addAlert('info', 'Connection restored', 'Real-time data stream is back online');
                }, 2000 + Math.random() * 3000);
            }
            
            updateConnectionStatus(status) {
                const indicator = document.getElementById('connectionStatus');
                if (indicator) {
                    indicator.className = `status-indicator ${status}`;
                }
            }
            
            processWebSocketMessage() {
                // Simulate receiving various types of real-time updates
                const messageTypes = ['metric_update', 'user_activity', 'system_event', 'milestone'];
                const messageType = messageTypes[Math.floor(Math.random() * messageTypes.length)];
                
                switch (messageType) {
                    case 'metric_update':
                        this.updateRandomMetric();
                        break;
                    case 'user_activity':
                        this.updateRegionalActivity();
                        break;
                    case 'system_event':
                        if (Math.random() < 0.1) {
                            this.addAlert('info', 'System Update', 'BrainSAIT platform successfully updated');
                        }
                        break;
                    case 'milestone':
                        this.checkMilestones();
                        break;
                }
            }
            
            updateRegionalActivity() {
                const regions = document.querySelectorAll('.region');
                regions.forEach(region => {
                    if (Math.random() < 0.3) {
                        region.classList.add('active');
                        setTimeout(() => {
                            region.classList.remove('active');
                        }, 3000);
                    }
                });
            }
            
            checkMilestones() {
                Object.keys(this.metrics).forEach(key => {
                    const metric = this.metrics[key];
                    const milestones = [1000, 5000, 10000, 25000, 50000];
                    
                    milestones.forEach(milestone => {
                        if (Math.floor(metric.current) === milestone) {
                            this.addAlert('info', 'Milestone Reached!', `${key} has reached ${this.formatNumber(milestone)}!`);
                        }
                    });
                });
            }
            
            // Alert system
            addAlert(type, title, message) {
                const alertsContainer = document.getElementById('alertsContainer');
                const alertCount = document.getElementById('alertCount');
                
                if (!alertsContainer) return;
                
                // Remove no-alerts message if it exists
                const noAlerts = alertsContainer.querySelector('.no-alerts');
                if (noAlerts) {
                    noAlerts.remove();
                }
                
                // Create alert element
                const alert = document.createElement('div');
                alert.className = `alert-item ${type}`;
                alert.innerHTML = `
                    <div style="font-weight: bold;">${title}</div>
                    <div style="font-size: 0.8rem; color: var(--text-secondary);">${message}</div>
                    <button onclick="this.parentElement.remove(); this.updateAlertCount()" style="position: absolute; top: 0.5rem; right: 0.5rem; background: none; border: none; color: var(--text-secondary); cursor: pointer;">×</button>
                `;
                alert.style.position = 'relative';
                
                alertsContainer.insertBefore(alert, alertsContainer.firstChild);
                
                // Update alert count
                this.updateAlertCount();
                
                // Auto-remove after 10 seconds for non-error alerts
                if (type !== 'error') {
                    setTimeout(() => {
                        if (alert.parentElement) {
                            alert.remove();
                            this.updateAlertCount();
                        }
                    }, 10000);
                }
            }
            
            updateAlertCount() {
                const alertsContainer = document.getElementById('alertsContainer');
                const alertCount = document.getElementById('alertCount');
                
                if (!alertsContainer || !alertCount) return;
                
                const alerts = alertsContainer.querySelectorAll('.alert-item');
                alertCount.textContent = alerts.length;
                
                if (alerts.length === 0) {
                    alertsContainer.innerHTML = `
                        <div class="no-alerts">
                            <i class="fas fa-check-circle"></i>
                            <span>All systems operational</span>
                        </div>
                    `;
                }
            }
            
            // Sparkline updates
            updateSparklines() {
                const sparklines = ['usageSparkline', 'performanceSparkline'];
                
                sparklines.forEach(sparklineId => {
                    const sparkline = document.getElementById(sparklineId);
                    if (!sparkline) return;
                    
                    const bars = sparkline.querySelectorAll('.bar');
                    bars.forEach((bar, index) => {
                        // Shift all bars left
                        if (index < bars.length - 1) {
                            bar.style.height = bars[index + 1].style.height;
                        } else {
                            // Add new bar with random height
                            const newHeight = 40 + Math.random() * 60;
                            bar.style.height = newHeight + '%';
                        }
                    });
                });
            }
            
            // Export data functionality
            exportData() {
                const exportData = {
                    timestamp: new Date().toISOString(),
                    metrics: this.metrics,
                    regional_activity: this.getRegionalActivity(),
                    alerts: this.getActiveAlerts(),
                    system_status: {
                        websocket_connected: this.wsConnected,
                        last_update: document.getElementById('lastUpdate')?.textContent
                    }
                };
                
                const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = `brainsait-impact-report-${Date.now()}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                this.addAlert('info', 'Data Exported', 'Impact report has been downloaded successfully');
            }
            
            getRegionalActivity() {
                const regions = {};
                document.querySelectorAll('.region').forEach(region => {
                    const regionName = region.dataset.region;
                    const tooltip = region.querySelector('.tooltip');
                    regions[regionName] = {
                        active: region.classList.contains('active'),
                        users: tooltip ? tooltip.textContent : 'Unknown'
                    };
                });
                return regions;
            }
            
            getActiveAlerts() {
                const alerts = [];
                document.querySelectorAll('.alert-item').forEach(alert => {
                    const title = alert.querySelector('div').textContent;
                    const message = alert.querySelectorAll('div')[1]?.textContent;
                    alerts.push({ title, message, type: alert.className });
                });
                return alerts;
            }
            
            // Initialize all enhanced features
            initializeEnhancedFeatures() {
                this.initializeWebSocketSimulation();
                
                // Update sparklines every 10 seconds
                setInterval(() => {
                    this.updateSparklines();
                }, 10000);
                
                // Add initial welcome alert
                setTimeout(() => {
                    this.addAlert('info', 'Welcome to BrainSAIT', 'Real-time impact dashboard is now active');
                }, 2000);
                
                // Simulate realistic patterns
                this.simulateRealisticPatterns();
            }
        }

        // Global function for dashboard toggle
        function toggleImpactDashboard() {
            impactDashboard.toggle();
        }
        
        // Enhanced Dashboard Functions
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const toggle = document.getElementById(sectionId + 'Toggle');
            
            if (section && toggle) {
                section.classList.toggle('collapsed');
                if (section.classList.contains('collapsed')) {
                    toggle.classList.remove('fa-chevron-up');
                    toggle.classList.add('fa-chevron-down');
                } else {
                    toggle.classList.remove('fa-chevron-down');
                    toggle.classList.add('fa-chevron-up');
                }
            }
        }
        
        function exportDashboardData() {
            if (impactDashboard) {
                impactDashboard.exportData();
            }
        }
        
        function addCustomAlert(type, title, message) {
            if (impactDashboard) {
                impactDashboard.addAlert(type, title, message);
            }
        }
        
        // Connect playground usage to dashboard metrics
        function recordPlaygroundUsage() {
            if (impactDashboard) {
                // Simulate impact on metrics when playground is used
                const currentAI = impactDashboard.metrics.aiInsights.current;
                impactDashboard.metrics.aiInsights.current += Math.random() * 5;
                
                const currentTime = impactDashboard.metrics.timeSaved.current;
                impactDashboard.metrics.timeSaved.current += Math.random() * 2;
                
                impactDashboard.addAlert('info', 'Playground Activity', 'Data transformation completed - metrics updated');
            }
        }

        // Missing Diagnostic Demo Functions
        function startDiagnosticDemo() {
            const steps = document.querySelectorAll('.diagnostic-step');
            const timeline = document.querySelector('.diagnostic-timeline');
            let currentStep = 0;
            
            // Reset all steps
            steps.forEach(step => {
                step.classList.remove('active', 'completed');
            });
            
            // Start the demo progression
            function activateNextStep() {
                if (currentStep < steps.length) {
                    const step = steps[currentStep];
                    step.classList.add('active');
                    
                    // Complete after delay and move to next
                    setTimeout(() => {
                        step.classList.remove('active');
                        step.classList.add('completed');
                        currentStep++;
                        
                        if (currentStep < steps.length) {
                            setTimeout(activateNextStep, 1000);
                        } else {
                            showNotification('Diagnostic demo completed!', 'success');
                        }
                    }, 3000);
                }
            }
            
            activateNextStep();
        }
        
        function resetDiagnosticDemo() {
            const steps = document.querySelectorAll('.diagnostic-step');
            steps.forEach(step => {
                step.classList.remove('active', 'completed');
            });
            showNotification('Diagnostic demo reset', 'info');
        }
        
        // Biometric Toggle Function
        function toggleBiometrics() {
            const biometricDisplay = document.getElementById('biometricDisplay');
            const toggleBtn = document.getElementById('biometricToggle');
            
            if (biometricDisplay.style.display === 'none' || biometricDisplay.style.display === '') {
                biometricDisplay.style.display = 'block';
                toggleBtn.style.background = 'rgba(0, 212, 255, 0.2)';
                toggleBtn.style.color = 'var(--accent-cyan)';
                startBiometricSimulation();
            } else {
                biometricDisplay.style.display = 'none';
                toggleBtn.style.background = 'rgba(255, 255, 255, 0.1)';
                toggleBtn.style.color = 'var(--text-muted)';
                stopBiometricSimulation();
            }
        }
        
        // Biometric Simulation
        let biometricInterval;
        function startBiometricSimulation() {
            biometricInterval = setInterval(() => {
                // Update heart rate (60-100 BPM)
                const heartRate = Math.floor(Math.random() * 40) + 60;
                document.getElementById('heartRate').textContent = heartRate;
                
                // Update temperature (97-99°F)
                const temperature = (Math.random() * 2 + 97).toFixed(1);
                document.getElementById('temperature').textContent = temperature;
                
                // Update oxygen saturation (95-100%)
                const oxygenSat = Math.floor(Math.random() * 5) + 95;
                document.getElementById('oxygenSat').textContent = oxygenSat;
                
                // Update blood pressure
                const systolic = Math.floor(Math.random() * 30) + 110;
                const diastolic = Math.floor(Math.random() * 20) + 70;
                document.getElementById('bloodPressure').textContent = `${systolic}/${diastolic}`;
            }, 2000);
        }
        
        function stopBiometricSimulation() {
            if (biometricInterval) {
                clearInterval(biometricInterval);
                biometricInterval = null;
            }
        }
        
        // Enhanced FHIR Playground Functions
        function switchFormat(format) {
            const buttons = document.querySelectorAll('.format-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const sampleData = {
                fhir: {
                    "resourceType": "Patient",
                    "id": "example-patient",
                    "name": [{
                        "use": "official",
                        "family": "Doe",
                        "given": ["John"]
                    }],
                    "telecom": [{
                        "system": "phone",
                        "value": "+1-555-0123"
                    }]
                },
                hl7: "MSH|^~\\&|GHH LAB|ELAB-3|GHH OE|BLDG4|200202150930||ORU^R01|CNTRL-3456|P|2.4\rPID|||PATID1234^5^M11^A|JONES^WILLIAM^A^III||19610615|M||C|1200 N ELM STREET^^GREENSBORO^NC^27401-1020|GL|(919)379-1212|(919)271-3434||S||PATID12345001^2^M10^A|123456789|9-87654^NC",
                dicom: "{\n  \"00080005\": {\n    \"vr\": \"CS\",\n    \"Value\": [\"ISO_IR 100\"]\n  },\n  \"00080016\": {\n    \"vr\": \"UI\",\n    \"Value\": [\"1.2.840.10008.5.1.4.1.1.2\"]\n  },\n  \"00100010\": {\n    \"vr\": \"PN\",\n    \"Value\": [{\n      \"Alphabetic\": \"John^Doe\"\n    }]\n  }\n}"
            };
            
            const textarea = document.querySelector('#fhirPlayground textarea');
            if (textarea && sampleData[format]) {
                textarea.value = JSON.stringify(sampleData[format], null, 2);
            }
        }
        
        function transformData() {
            const inputArea = document.querySelector('#fhirPlayground textarea');
            const outputArea = document.querySelector('#fhirPlayground .output-area');
            
            if (!inputArea || !outputArea) return;
            
            try {
                const inputData = JSON.parse(inputArea.value);
                
                // Simulate transformation
                const transformedData = {
                    "transformed": true,
                    "timestamp": new Date().toISOString(),
                    "original": inputData,
                    "brainsait_format": {
                        "patient_id": inputData.id || "unknown",
                        "processed_at": new Date().toISOString(),
                        "ai_insights": "Data successfully processed by BrainSAIT AI"
                    }
                };
                
                outputArea.innerHTML = `<pre><code>${JSON.stringify(transformedData, null, 2)}</code></pre>`;
                showNotification('Data transformed successfully!', 'success');
            } catch (error) {
                outputArea.innerHTML = `<div style="color: var(--accent-red);">Error: ${error.message}</div>`;
                showNotification('Invalid JSON format', 'error');
            }
        }

        // Initialize advanced features when DOM is loaded
        let neuralViz, medicalAI, impactDashboard;
        
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize revolutionary features
            neuralViz = new NeuralNetworkVisualizer('neuralNetwork');
            medicalAI = new MedicalAIAssistant();
            fhirPlayground = new FHIRPlayground();
            impactDashboard = new ImpactDashboard();
            
            // Add missing event listeners
            const biometricToggle = document.getElementById('biometricToggle');
            if (biometricToggle) {
                biometricToggle.addEventListener('click', toggleBiometrics);
            }
            
            // Ensure all buttons have proper event handlers (backup for onclick attributes)
            const consultationBtns = document.querySelectorAll('button[onclick*="openConsultationModal"]');
            consultationBtns.forEach(btn => {
                btn.removeAttribute('onclick'); // Remove inline onclick to prevent conflicts
                btn.addEventListener('click', openConsultationModal);
            });
            
            const demoBtns = document.querySelectorAll('button[onclick*="startDiagnosticDemo"]');
            demoBtns.forEach(btn => {
                btn.removeAttribute('onclick');
                btn.addEventListener('click', startDiagnosticDemo);
            });
            
            const resetBtns = document.querySelectorAll('button[onclick*="resetDiagnosticDemo"]');
            resetBtns.forEach(btn => {
                btn.removeAttribute('onclick');
                btn.addEventListener('click', resetDiagnosticDemo);
            });
            
            // Fix FHIR playground buttons
            const fhirFormatBtns = document.querySelectorAll('.format-btn[onclick*="switchFormat"]');
            fhirFormatBtns.forEach(btn => {
                btn.removeAttribute('onclick');
                btn.addEventListener('click', (e) => {
                    switchFormat(btn.dataset.format);
                });
            });
            
            const transformBtn = document.querySelector('button[onclick*="transformData"]');
            if (transformBtn) {
                transformBtn.removeAttribute('onclick');
                transformBtn.addEventListener('click', transformData);
            }
            
            // Initialize realistic patterns after delay
            setTimeout(() => {
                impactDashboard.simulateRealisticPatterns();
            }, 5000);
            
            // Initialize biometrics display as hidden
            const biometricDisplay = document.getElementById('biometricDisplay');
            if (biometricDisplay) {
                biometricDisplay.style.display = 'none';
            }
        });

        // ================================
        // AI AUTOMATION TOOLKIT FUNCTIONS
        // ================================

        // Etimad Intelligence Engine Functions
        function analyzeOpportunities() {
            const analyzeBtn = document.querySelector('button[onclick="analyzeOpportunities()"]');
            const analyzeIcon = document.getElementById('analyze-icon');
            const statusDiv = document.getElementById('ai-analysis-status');
            
            // Show loading state
            if (analyzeIcon) {
                analyzeIcon.classList.add('fa-spin');
            }
            if (statusDiv) {
                statusDiv.style.display = 'block';
            }
            if (analyzeBtn) {
                analyzeBtn.disabled = true;
            }
            
            // Simulate AI analysis process
            setTimeout(() => {
                // Update opportunity scores with new random values
                const opportunityItems = document.querySelectorAll('.opportunity-item');
                opportunityItems.forEach(item => {
                    const matchScore = item.querySelector('[style*="color: #00a651"]');
                    const successScore = item.querySelector('[style*="color: #9333ea"]');
                    
                    if (matchScore && successScore) {
                        const newMatch = Math.floor(Math.random() * 10) + 90; // 90-99%
                        const newSuccess = Math.floor(Math.random() * 15) + 80; // 80-94%
                        
                        matchScore.textContent = newMatch + '%';
                        successScore.textContent = newSuccess + '%';
                    }
                });
                
                // Hide loading state
                if (analyzeIcon) {
                    analyzeIcon.classList.remove('fa-spin');
                }
                if (statusDiv) {
                    statusDiv.style.display = 'none';
                }
                if (analyzeBtn) {
                    analyzeBtn.disabled = false;
                }
                
                // Show success notification
                showNotification(
                    isArabic ? 'تم تحديث تحليل الفرص بنجاح! عثر الذكاء الاصطناعي على 3 فرص جديدة عالية التوافق.' : 
                    'Opportunity analysis updated successfully! AI found 3 new high-compatibility opportunities.',
                    'success'
                );
                
                // Update market metrics
                updateMarketMetrics();
            }, 3000);
        }

        function generateProposal() {
            const statusDiv = document.getElementById('proposal-generation-status');
            const proposalBtn = document.querySelector('button[onclick="generateProposal()"]');
            const proposalIcon = document.getElementById('proposal-gen-icon');
            
            // Show loading state
            if (statusDiv) {
                statusDiv.style.display = 'block';
            }
            if (proposalBtn) {
                proposalBtn.disabled = true;
            }
            if (proposalIcon) {
                proposalIcon.classList.add('fa-spin');
            }
            
            setTimeout(() => {
                // Update proposal metrics with new values
                const budgetElement = document.querySelector('.proposal-preview [style*="color: #00a651"]');
                const timelineElement = document.querySelector('.proposal-preview [style*="color: #9333ea"]');
                const successElement = document.querySelector('.proposal-preview [style*="color: #f59e0b"]');
                
                if (budgetElement && timelineElement && successElement) {
                    const budgets = ['SAR 12.5M', 'SAR 11.8M', 'SAR 13.2M'];
                    const timelines = ['18 Months', '16 Months', '20 Months'];
                    const successRates = ['94%', '91%', '96%'];
                    
                    budgetElement.textContent = budgets[Math.floor(Math.random() * budgets.length)];
                    timelineElement.textContent = timelines[Math.floor(Math.random() * timelines.length)];
                    successElement.textContent = successRates[Math.floor(Math.random() * successRates.length)];
                }
                
                // Hide loading state
                if (statusDiv) {
                    statusDiv.style.display = 'none';
                }
                if (proposalBtn) {
                    proposalBtn.disabled = false;
                }
                if (proposalIcon) {
                    proposalIcon.classList.remove('fa-spin');
                }
                
                showNotification(
                    isArabic ? 'تم إنشاء المقترح بنجاح! وثيقة شاملة بـ 47 صفحة جاهزة للتحميل.' : 
                    'Proposal generated successfully! Comprehensive 47-page document ready for download.',
                    'success'
                );
            }, 4000);
        }

        // Partner Discovery Engine Functions
        function discoverPartners() {
            const statusDiv = document.getElementById('partner-discovery-status');
            const discoverBtn = document.querySelector('button[onclick="discoverPartners()"]');
            const searchIcon = document.getElementById('partner-search-icon');
            
            // Show loading state
            if (statusDiv) {
                statusDiv.style.display = 'block';
            }
            if (discoverBtn) {
                discoverBtn.disabled = true;
            }
            if (searchIcon) {
                searchIcon.classList.add('fa-spin');
            }
            
            setTimeout(() => {
                // Update compatibility scores
                const compatibilityCards = document.querySelectorAll('.compatibility-card');
                compatibilityCards.forEach(card => {
                    const scoreElement = card.querySelector('[style*="font-size: 2rem"]');
                    if (scoreElement) {
                        const newScore = Math.floor(Math.random() * 10) + 85; // 85-94%
                        scoreElement.textContent = newScore + '%';
                    }
                });
                
                // Update partner recommendations with new scores
                const partnerRecommendations = document.querySelectorAll('.partner-recommendation');
                partnerRecommendations.forEach(partner => {
                    const matchElement = partner.querySelector('[style*="color: #9333ea"]');
                    if (matchElement) {
                        const newMatch = Math.floor(Math.random() * 8) + 88; // 88-95%
                        matchElement.textContent = newMatch + '%';
                    }
                });
                
                // Hide loading state
                if (statusDiv) {
                    statusDiv.style.display = 'none';
                }
                if (discoverBtn) {
                    discoverBtn.disabled = false;
                }
                if (searchIcon) {
                    searchIcon.classList.remove('fa-spin');
                }
                
                showNotification(
                    isArabic ? 'تم اكتشاف 12 شريك محتمل جديد! تم تحديث نقاط التوافق بناءً على أحدث بيانات السوق.' : 
                    'Discovered 12 new potential partners! Compatibility scores updated based on latest market data.',
                    'success'
                );
            }, 2500);
        }

        function generateOutreach() {
            showNotification(
                isArabic ? 'تم إنشاء 3 رسائل تواصل مخصصة باللغتين العربية والإنجليزية. تم جدولة الإرسال التلقائي.' : 
                'Generated 3 personalized outreach messages in Arabic and English. Automated sending scheduled.',
                'success'
            );
            
            // Simulate outreach message generation
            setTimeout(() => {
                showNotification(
                    isArabic ? 'تم إرسال رسائل التواصل بنجاح إلى أفضل 3 شركاء محتملين.' : 
                    'Outreach messages successfully sent to top 3 potential partners.',
                    'info'
                );
            }, 2000);
        }

        // Market Intelligence Functions
        function updateMarketIntelligence() {
            const statusDiv = document.getElementById('market-analysis-status');
            const updateBtn = document.querySelector('button[onclick="updateMarketIntelligence()"]');
            const refreshIcon = document.getElementById('market-refresh-icon');
            
            // Show loading state
            if (statusDiv) {
                statusDiv.style.display = 'block';
            }
            if (updateBtn) {
                updateBtn.disabled = true;
            }
            if (refreshIcon) {
                refreshIcon.classList.add('fa-spin');
            }
            
            setTimeout(() => {
                // Update market performance indicators
                const performanceIndicators = document.querySelectorAll('.market-intelligence-dashboard [style*="text-align: center"]');
                const marketData = [
                    { value: '45.8B SAR', change: '+13.2% YoY' },
                    { value: '1,312', change: '+31% Monthly' },
                    { value: '167', change: 'BrainSAIT Leading' },
                    { value: '96%', change: 'Industry Best' }
                ];
                
                performanceIndicators.forEach((indicator, index) => {
                    if (marketData[index]) {
                        const valueElement = indicator.querySelector('[style*="font-weight: 700"]');
                        const changeElement = indicator.querySelector('[style*="font-size: 0.7rem"]');
                        
                        if (valueElement) valueElement.textContent = marketData[index].value;
                        if (changeElement) changeElement.textContent = marketData[index].change;
                    }
                });
                
                // Update opportunity score
                const opportunityScore = document.querySelector('[style*="color: #f59e0b"][style*="font-size: 1.5rem"]');
                if (opportunityScore) {
                    const newScore = Math.floor(Math.random() * 8) + 85; // 85-92%
                    opportunityScore.textContent = newScore + '%';
                }
                
                // Hide loading state
                if (statusDiv) {
                    statusDiv.style.display = 'none';
                }
                if (updateBtn) {
                    updateBtn.disabled = false;
                }
                if (refreshIcon) {
                    refreshIcon.classList.remove('fa-spin');
                }
                
                showNotification(
                    isArabic ? 'تم تحديث تحليلات السوق! اكتشف الذكاء الاصطناعي 5 اتجاهات جديدة و 23 فرصة استثمارية.' : 
                    'Market intelligence updated! AI discovered 5 new trends and 23 investment opportunities.',
                    'success'
                );
            }, 3500);
        }

        function exportMarketReport() {
            showNotification(
                isArabic ? 'جاري إنشاء تقرير السوق الشامل... سيتم التحميل تلقائياً عند الانتهاء.' : 
                'Generating comprehensive market report... Download will start automatically when ready.',
                'info'
            );
            
            setTimeout(() => {
                // Simulate report download
                const link = document.createElement('a');
                link.href = 'data:text/plain;charset=utf-8,BrainSAIT Market Intelligence Report\n\nSaudi Healthcare AI Market Analysis\nGenerated: ' + new Date().toLocaleString() + '\n\nMarket Size: SAR 45.8B\nGrowth Rate: 13.2% YoY\nAI Projects: 167\nSuccess Rate: 96%\n\nTop Opportunities:\n1. Healthcare AI Platform Development\n2. Smart City Health Infrastructure\n3. Telemedicine Platform Enhancement\n\n[This is a simulated report for demonstration purposes]';
                link.download = 'BrainSAIT_Market_Intelligence_Report_' + new Date().toISOString().slice(0,10) + '.txt';
                link.click();
                
                showNotification(
                    isArabic ? 'تم تحميل تقرير السوق بنجاح! 67 صفحة من التحليلات المتقدمة والتوصيات الاستراتيجية.' : 
                    'Market report downloaded successfully! 67 pages of advanced analytics and strategic recommendations.',
                    'success'
                );
            }, 2000);
        }

        function downloadProposal() {
            showNotification(
                isArabic ? 'جاري تحضير ملف المقترح للتحميل...' : 
                'Preparing proposal file for download...',
                'info'
            );
            
            setTimeout(() => {
                // Simulate proposal download
                const link = document.createElement('a');
                link.href = 'data:text/plain;charset=utf-8,BrainSAIT Healthcare AI Platform Development Proposal\n\nGenerated: ' + new Date().toLocaleString() + '\n\nExecutive Summary:\nBrainSAIT proposes a comprehensive AI-powered healthcare platform utilizing advanced NLP for Arabic medical records, FHIR compliance for interoperability, and real-time analytics with 99.9% uptime guarantee.\n\nTechnical Approach:\n- Advanced AI/ML algorithms\n- Arabic language processing\n- FHIR/HL7 compliance\n- Cloud-native architecture\n- 24/7 monitoring\n\nVision 2030 Alignment:\n- Digital transformation goals\n- Healthcare innovation\n- Local talent development\n- Economic diversification\n\nBudget: SAR 12.5M\nTimeline: 18 Months\nSuccess Rate: 94%\n\n[This is a simulated proposal for demonstration purposes]';
                link.download = 'BrainSAIT_Healthcare_AI_Proposal_' + new Date().toISOString().slice(0,10) + '.txt';
                link.click();
                
                showNotification(
                    isArabic ? 'تم تحميل المقترح بنجاح! وثيقة متكاملة بـ 47 صفحة جاهزة للعرض.' : 
                    'Proposal downloaded successfully! Complete 47-page document ready for presentation.',
                    'success'
                );
            }, 1500);
        }

        // Helper function to update market metrics
        function updateMarketMetrics() {
            const metrics = document.querySelectorAll('.metric-widget [style*="font-size: 1.8rem"]');
            const marketValues = ['SAR 46.1B', '495', '164', '92'];
            
            metrics.forEach((metric, index) => {
                if (marketValues[index]) {
                    metric.textContent = marketValues[index];
                }
            });
        }

        // Initialize automation features
        document.addEventListener('DOMContentLoaded', function() {
            // Add spinner animation CSS if not present
            if (!document.querySelector('style[data-automation-styles]')) {
                const style = document.createElement('style');
                style.setAttribute('data-automation-styles', 'true');
                style.textContent = `
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                    .fa-spin {
                        animation: spin 1s linear infinite;
                    }
                    button:disabled {
                        opacity: 0.6;
                        cursor: not-allowed;
                    }
                `;
                document.head.appendChild(style);
            }
        });
    </script>
    </main>
</body>
</html>